(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sv={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function y2(){if(Dm)return xu;Dm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(n,l,u){var o=null;if(u!==void 0&&(o=""+u),l.key!==void 0&&(o=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:t,type:n,key:o,ref:l!==void 0?l:null,props:u}}return xu.Fragment=e,xu.jsx=a,xu.jsxs=a,xu}var Am;function m2(){return Am||(Am=1,Sv.exports=y2()),Sv.exports}var De=m2(),Tv={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function b2(){if(Rm)return je;Rm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),o=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,S={};function x(O,G,K){this.props=O,this.context=G,this.refs=S,this.updater=K||w}x.prototype.isReactComponent={},x.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},x.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=x.prototype;function T(O,G,K){this.props=O,this.context=G,this.refs=S,this.updater=K||w}var C=T.prototype=new E;C.constructor=T,m(C,x.prototype),C.isPureReactComponent=!0;var D=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function M(O,G,K,Z,W,ee){return K=ee.ref,{$$typeof:t,type:O,key:G,ref:K!==void 0?K:null,props:ee}}function z(O,G){return M(O.type,G,void 0,void 0,void 0,O.props)}function L(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function U(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(K){return G[K]})}var _=/\/+/g;function V(O,G){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):G.toString(36)}function P(){}function Y(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(P,P):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function I(O,G,K,Z,W){var ee=typeof O;(ee==="undefined"||ee==="boolean")&&(O=null);var ae=!1;if(O===null)ae=!0;else switch(ee){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(O.$$typeof){case t:case e:ae=!0;break;case h:return ae=O._init,I(ae(O._payload),G,K,Z,W)}}if(ae)return W=W(O),ae=Z===""?"."+V(O,0):Z,D(W)?(K="",ae!=null&&(K=ae.replace(_,"$&/")+"/"),I(W,G,K,"",function(ie){return ie})):W!=null&&(L(W)&&(W=z(W,K+(W.key==null||O&&O.key===W.key?"":(""+W.key).replace(_,"$&/")+"/")+ae)),G.push(W)),1;ae=0;var de=Z===""?".":Z+":";if(D(O))for(var fe=0;fe<O.length;fe++)Z=O[fe],ee=de+V(Z,fe),ae+=I(Z,G,K,ee,W);else if(fe=y(O),typeof fe=="function")for(O=fe.call(O),fe=0;!(Z=O.next()).done;)Z=Z.value,ee=de+V(Z,fe++),ae+=I(Z,G,K,ee,W);else if(ee==="object"){if(typeof O.then=="function")return I(Y(O),G,K,Z,W);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ae}function k(O,G,K){if(O==null)return O;var Z=[],W=0;return I(O,Z,"","",function(ee){return G.call(K,ee,W++)}),Z}function H(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(K){(O._status===0||O._status===-1)&&(O._status=1,O._result=K)},function(K){(O._status===0||O._status===-1)&&(O._status=2,O._result=K)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var F=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function j(){}return je.Children={map:k,forEach:function(O,G,K){k(O,function(){G.apply(this,arguments)},K)},count:function(O){var G=0;return k(O,function(){G++}),G},toArray:function(O){return k(O,function(G){return G})||[]},only:function(O){if(!L(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},je.Component=x,je.Fragment=a,je.Profiler=l,je.PureComponent=T,je.StrictMode=n,je.Suspense=v,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,je.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},je.cache=function(O){return function(){return O.apply(null,arguments)}},je.cloneElement=function(O,G,K){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=m({},O.props),W=O.key,ee=void 0;if(G!=null)for(ae in G.ref!==void 0&&(ee=void 0),G.key!==void 0&&(W=""+G.key),G)!B.call(G,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&G.ref===void 0||(Z[ae]=G[ae]);var ae=arguments.length-2;if(ae===1)Z.children=K;else if(1<ae){for(var de=Array(ae),fe=0;fe<ae;fe++)de[fe]=arguments[fe+2];Z.children=de}return M(O.type,W,void 0,void 0,ee,Z)},je.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},je.createElement=function(O,G,K){var Z,W={},ee=null;if(G!=null)for(Z in G.key!==void 0&&(ee=""+G.key),G)B.call(G,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(W[Z]=G[Z]);var ae=arguments.length-2;if(ae===1)W.children=K;else if(1<ae){for(var de=Array(ae),fe=0;fe<ae;fe++)de[fe]=arguments[fe+2];W.children=de}if(O&&O.defaultProps)for(Z in ae=O.defaultProps,ae)W[Z]===void 0&&(W[Z]=ae[Z]);return M(O,ee,void 0,void 0,null,W)},je.createRef=function(){return{current:null}},je.forwardRef=function(O){return{$$typeof:f,render:O}},je.isValidElement=L,je.lazy=function(O){return{$$typeof:h,_payload:{_status:-1,_result:O},_init:H}},je.memo=function(O,G){return{$$typeof:c,type:O,compare:G===void 0?null:G}},je.startTransition=function(O){var G=R.T,K={};R.T=K;try{var Z=O(),W=R.S;W!==null&&W(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(j,F)}catch(ee){F(ee)}finally{R.T=G}},je.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},je.use=function(O){return R.H.use(O)},je.useActionState=function(O,G,K){return R.H.useActionState(O,G,K)},je.useCallback=function(O,G){return R.H.useCallback(O,G)},je.useContext=function(O){return R.H.useContext(O)},je.useDebugValue=function(){},je.useDeferredValue=function(O,G){return R.H.useDeferredValue(O,G)},je.useEffect=function(O,G,K){var Z=R.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(O,G)},je.useId=function(){return R.H.useId()},je.useImperativeHandle=function(O,G,K){return R.H.useImperativeHandle(O,G,K)},je.useInsertionEffect=function(O,G){return R.H.useInsertionEffect(O,G)},je.useLayoutEffect=function(O,G){return R.H.useLayoutEffect(O,G)},je.useMemo=function(O,G){return R.H.useMemo(O,G)},je.useOptimistic=function(O,G){return R.H.useOptimistic(O,G)},je.useReducer=function(O,G,K){return R.H.useReducer(O,G,K)},je.useRef=function(O){return R.H.useRef(O)},je.useState=function(O){return R.H.useState(O)},je.useSyncExternalStore=function(O,G,K){return R.H.useSyncExternalStore(O,G,K)},je.useTransition=function(){return R.H.useTransition()},je.version="19.1.0",je}var Mm;function Eh(){return Mm||(Mm=1,Tv.exports=b2()),Tv.exports}var Ut=Eh(),Cv={exports:{}},Eu={},Dv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function w2(){return Bm||(Bm=1,function(t){function e(k,H){var F=k.length;k.push(H);e:for(;0<F;){var j=F-1>>>1,O=k[j];if(0<l(O,H))k[j]=H,k[F]=O,F=j;else break e}}function a(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var H=k[0],F=k.pop();if(F!==H){k[0]=F;e:for(var j=0,O=k.length,G=O>>>1;j<G;){var K=2*(j+1)-1,Z=k[K],W=K+1,ee=k[W];if(0>l(Z,F))W<O&&0>l(ee,Z)?(k[j]=ee,k[W]=F,j=W):(k[j]=Z,k[K]=F,j=K);else if(W<O&&0>l(ee,F))k[j]=ee,k[W]=F,j=W;else break e}}return H}function l(k,H){var F=k.sortIndex-H.sortIndex;return F!==0?F:k.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var o=Date,f=o.now();t.unstable_now=function(){return o.now()-f}}var v=[],c=[],h=1,g=null,y=3,w=!1,m=!1,S=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(k){for(var H=a(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=k)n(c),H.sortIndex=H.expirationTime,e(v,H);else break;H=a(c)}}function R(k){if(S=!1,D(k),!m)if(a(v)!==null)m=!0,B||(B=!0,V());else{var H=a(c);H!==null&&I(R,H.startTime-k)}}var B=!1,M=-1,z=5,L=-1;function U(){return x?!0:!(t.unstable_now()-L<z)}function _(){if(x=!1,B){var k=t.unstable_now();L=k;var H=!0;try{e:{m=!1,S&&(S=!1,T(M),M=-1),w=!0;var F=y;try{t:{for(D(k),g=a(v);g!==null&&!(g.expirationTime>k&&U());){var j=g.callback;if(typeof j=="function"){g.callback=null,y=g.priorityLevel;var O=j(g.expirationTime<=k);if(k=t.unstable_now(),typeof O=="function"){g.callback=O,D(k),H=!0;break t}g===a(v)&&n(v),D(k)}else n(v);g=a(v)}if(g!==null)H=!0;else{var G=a(c);G!==null&&I(R,G.startTime-k),H=!1}}break e}finally{g=null,y=F,w=!1}H=void 0}}finally{H?V():B=!1}}}var V;if(typeof C=="function")V=function(){C(_)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Y=P.port2;P.port1.onmessage=_,V=function(){Y.postMessage(null)}}else V=function(){E(_,0)};function I(k,H){M=E(function(){k(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(k){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var F=y;y=H;try{return k()}finally{y=F}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=y;y=k;try{return H()}finally{y=F}},t.unstable_scheduleCallback=function(k,H,F){var j=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?j+F:j):F=j,k){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=F+O,k={id:h++,callback:H,priorityLevel:k,startTime:F,expirationTime:O,sortIndex:-1},F>j?(k.sortIndex=F,e(c,k),a(v)===null&&k===a(c)&&(S?(T(M),M=-1):S=!0,I(R,F-j))):(k.sortIndex=O,e(v,k),m||w||(m=!0,B||(B=!0,V()))),k},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(k){var H=y;return function(){var F=y;y=H;try{return k.apply(this,arguments)}finally{y=F}}}}(Av)),Av}var Om;function x2(){return Om||(Om=1,Dv.exports=w2()),Dv.exports}var Rv={exports:{}},xa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function E2(){if(zm)return xa;zm=1;var t=Eh();function e(v){var c="https://react.dev/errors/"+v;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+v+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var n={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(v,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:v,containerInfo:c,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(v,c){if(v==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return xa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,xa.createPortal=function(v,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return u(v,c,null,h)},xa.flushSync=function(v){var c=o.T,h=n.p;try{if(o.T=null,n.p=2,v)return v()}finally{o.T=c,n.p=h,n.d.f()}},xa.preconnect=function(v,c){typeof v=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(v,c))},xa.prefetchDNS=function(v){typeof v=="string"&&n.d.D(v)},xa.preinit=function(v,c){if(typeof v=="string"&&c&&typeof c.as=="string"){var h=c.as,g=f(h,c.crossOrigin),y=typeof c.integrity=="string"?c.integrity:void 0,w=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?n.d.S(v,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:w}):h==="script"&&n.d.X(v,{crossOrigin:g,integrity:y,fetchPriority:w,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},xa.preinitModule=function(v,c){if(typeof v=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=f(c.as,c.crossOrigin);n.d.M(v,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(v)},xa.preload=function(v,c){if(typeof v=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,g=f(h,c.crossOrigin);n.d.L(v,h,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},xa.preloadModule=function(v,c){if(typeof v=="string")if(c){var h=f(c.as,c.crossOrigin);n.d.m(v,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(v)},xa.requestFormReset=function(v){n.d.r(v)},xa.unstable_batchedUpdates=function(v,c){return v(c)},xa.useFormState=function(v,c,h){return o.H.useFormState(v,c,h)},xa.useFormStatus=function(){return o.H.useHostTransitionStatus()},xa.version="19.1.0",xa}var Nm;function S2(){if(Nm)return Rv.exports;Nm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rv.exports=E2(),Rv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function T2(){if(Lm)return Eu;Lm=1;var t=x2(),e=Eh(),a=S2();function n(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function o(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(u(r)!==r)throw Error(n(188))}function v(r){var i=r.alternate;if(!i){if(i=u(r),i===null)throw Error(n(188));return i!==r?null:r}for(var s=r,d=i;;){var p=s.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){s=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===s)return f(p),r;if(b===d)return f(p),i;b=b.sibling}throw Error(n(188))}if(s.return!==d.return)s=p,d=b;else{for(var A=!1,N=p.child;N;){if(N===s){A=!0,s=p,d=b;break}if(N===d){A=!0,d=p,s=b;break}N=N.sibling}if(!A){for(N=b.child;N;){if(N===s){A=!0,s=b,d=p;break}if(N===d){A=!0,d=b,s=p;break}N=N.sibling}if(!A)throw Error(n(189))}}if(s.alternate!==d)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?r:i}function c(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=c(r),i!==null)return i;r=r.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=_&&r[_]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case B:return"SuspenseList";case L:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case C:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case D:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return i=r.displayName||null,i!==null?i:Y(r.type)||"Memo";case z:i=r._payload,r=r._init;try{return Y(r(i))}catch{}}return null}var I=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},j=[],O=-1;function G(r){return{current:r}}function K(r){0>O||(r.current=j[O],j[O]=null,O--)}function Z(r,i){O++,j[O]=r.current,r.current=i}var W=G(null),ee=G(null),ae=G(null),de=G(null);function fe(r,i){switch(Z(ae,i),Z(ee,r),Z(W,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?em(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=em(i),r=tm(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}K(W),Z(W,r)}function ie(){K(W),K(ee),K(ae)}function $(r){r.memoizedState!==null&&Z(de,r);var i=W.current,s=tm(i,r.type);i!==s&&(Z(ee,r),Z(W,s))}function ue(r){ee.current===r&&(K(W),K(ee)),de.current===r&&(K(de),pu._currentValue=F)}var ge=Object.prototype.hasOwnProperty,Se=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,_e=t.unstable_shouldYield,he=t.unstable_requestPaint,be=t.unstable_now,xe=t.unstable_getCurrentPriorityLevel,Te=t.unstable_ImmediatePriority,Ne=t.unstable_UserBlockingPriority,qe=t.unstable_NormalPriority,ke=t.unstable_LowPriority,Fe=t.unstable_IdlePriority,Qe=t.log,$e=t.unstable_setDisableYieldValue,Ee=null,q=null;function te(r){if(typeof Qe=="function"&&$e(r),q&&typeof q.setStrictMode=="function")try{q.setStrictMode(Ee,r)}catch{}}var ve=Math.clz32?Math.clz32:Ae,re=Math.log,se=Math.LN2;function Ae(r){return r>>>=0,r===0?32:31-(re(r)/se|0)|0}var ye=256,Ce=4194304;function Le(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ie(r,i,s){var d=r.pendingLanes;if(d===0)return 0;var p=0,b=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var N=d&134217727;return N!==0?(d=N&~b,d!==0?p=Le(d):(A&=N,A!==0?p=Le(A):s||(s=N&~r,s!==0&&(p=Le(s))))):(N=d&~b,N!==0?p=Le(N):A!==0?p=Le(A):s||(s=d&~r,s!==0&&(p=Le(s)))),p===0?0:i!==0&&i!==p&&(i&b)===0&&(b=p&-p,s=i&-i,b>=s||b===32&&(s&4194048)!==0)?i:p}function Be(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Xe(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var r=ye;return ye<<=1,(ye&4194048)===0&&(ye=256),r}function Ve(){var r=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),r}function ot(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function vt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Da(r,i,s,d,p,b){var A=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var N=r.entanglements,X=r.expirationTimes,le=r.hiddenUpdates;for(s=A&~s;0<s;){var pe=31-ve(s),we=1<<pe;N[pe]=0,X[pe]=-1;var oe=le[pe];if(oe!==null)for(le[pe]=null,pe=0;pe<oe.length;pe++){var ce=oe[pe];ce!==null&&(ce.lane&=-536870913)}s&=~we}d!==0&&ya(r,d,0),b!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=b&~(A&~i))}function ya(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var d=31-ve(i);r.entangledLanes|=i,r.entanglements[d]=r.entanglements[d]|1073741824|s&4194090}function Ot(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var d=31-ve(s),p=1<<d;p&i|r[d]&i&&(r[d]|=i),s&=~p}}function zt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Nt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Wt(){var r=H.p;return r!==0?r:(r=window.event,r===void 0?32:wm(r.type))}function sa(r,i){var s=H.p;try{return H.p=r,i()}finally{H.p=s}}var Ft=Math.random().toString(36).slice(2),dt="__reactFiber$"+Ft,Ct="__reactProps$"+Ft,ma="__reactContainer$"+Ft,qa="__reactEvents$"+Ft,Jt="__reactListeners$"+Ft,Vt="__reactHandles$"+Ft,oa="__reactResources$"+Ft,hr="__reactMarker$"+Ft;function Ba(r){delete r[dt],delete r[Ct],delete r[qa],delete r[Jt],delete r[Vt]}function Ar(r){var i=r[dt];if(i)return i;for(var s=r.parentNode;s;){if(i=s[ma]||s[dt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=im(r);r!==null;){if(s=r[dt])return s;r=im(r)}return i}r=s,s=r.parentNode}return null}function jr(r){if(r=r[dt]||r[ma]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Vn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(n(33))}function $r(r){var i=r[oa];return i||(i=r[oa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ht(r){r[hr]=!0}var ns=new Set,is={};function Rr(r,i){Ka(r,i),Ka(r+"Capture",i)}function Ka(r,i){for(is[r]=i,r=0;r<i.length;r++)ns.add(i[r])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hn={},Al={};function ls(r){return ge.call(Al,r)?!0:ge.call(Hn,r)?!1:Dl.test(r)?Al[r]=!0:(Hn[r]=!0,!1)}function yi(r,i,s){if(ls(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function ba(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function Pa(r,i,s,d){if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+d)}}var mi,Wr;function ea(r){if(mi===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);mi=i&&i[1]||"",Wr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mi+r+Wr}var Rl=!1;function bf(r,i){if(!r||Rl)return"";Rl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ce){var oe=ce}Reflect.construct(r,[],we)}else{try{we.call()}catch(ce){oe=ce}r.call(we.prototype)}}else{try{throw Error()}catch(ce){oe=ce}(we=r())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ce){if(ce&&oe&&typeof ce.stack=="string")return[ce.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),A=b[0],N=b[1];if(A&&N){var X=A.split(`
`),le=N.split(`
`);for(p=d=0;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;for(;p<le.length&&!le[p].includes("DetermineComponentFrameRoot");)p++;if(d===X.length||p===le.length)for(d=X.length-1,p=le.length-1;1<=d&&0<=p&&X[d]!==le[p];)p--;for(;1<=d&&0<=p;d--,p--)if(X[d]!==le[p]){if(d!==1||p!==1)do if(d--,p--,0>p||X[d]!==le[p]){var pe=`
`+X[d].replace(" at new "," at ");return r.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",r.displayName)),pe}while(1<=d&&0<=p);break}}}finally{Rl=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?ea(s):""}function fx(r){switch(r.tag){case 26:case 27:case 5:return ea(r.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return bf(r.type,!1);case 11:return bf(r.type.render,!1);case 1:return bf(r.type,!0);case 31:return ea("Activity");default:return""}}function Zh(r){try{var i="";do i+=fx(r),r=r.return;while(r);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Za(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qh(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cx(r){var i=Qh(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,b=s.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(A){d=""+A,b.call(this,A)}}),Object.defineProperty(r,i,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function us(r){r._valueTracker||(r._valueTracker=cx(r))}function jh(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),d="";return r&&(d=Qh(r)?r.checked?"true":"false":r.value),r=d,r!==s?(i.setValue(r),!0):!1}function ss(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var vx=/[\n"\\]/g;function Qa(r){return r.replace(vx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wf(r,i,s,d,p,b,A,N){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),i!=null?A==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Za(i)):r.value!==""+Za(i)&&(r.value=""+Za(i)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),i!=null?xf(r,A,Za(i)):s!=null?xf(r,A,Za(s)):d!=null&&r.removeAttribute("value"),p==null&&b!=null&&(r.defaultChecked=!!b),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+Za(N):r.removeAttribute("name")}function $h(r,i,s,d,p,b,A,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),i!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;s=s!=null?""+Za(s):"",i=i!=null?""+Za(i):s,N||i===r.value||(r.value=i),r.defaultValue=i}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=N?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function xf(r,i,s){i==="number"&&ss(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function bi(r,i,s,d){if(r=r.options,i){i={};for(var p=0;p<s.length;p++)i["$"+s[p]]=!0;for(s=0;s<r.length;s++)p=i.hasOwnProperty("$"+r[s].value),r[s].selected!==p&&(r[s].selected=p),p&&d&&(r[s].defaultSelected=!0)}else{for(s=""+Za(s),i=null,p=0;p<r.length;p++){if(r[p].value===s){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function Wh(r,i,s){if(i!=null&&(i=""+Za(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+Za(s):""}function Jh(r,i,s,d){if(i==null){if(d!=null){if(s!=null)throw Error(n(92));if(I(d)){if(1<d.length)throw Error(n(93));d=d[0]}s=d}s==null&&(s=""),i=s}s=Za(i),r.defaultValue=s,d=r.textContent,d===s&&d!==""&&d!==null&&(r.value=d)}function wi(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var dx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eg(r,i,s){var d=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?d?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":d?r.setProperty(i,s):typeof s!="number"||s===0||dx.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function tg(r,i,s){if(i!=null&&typeof i!="object")throw Error(n(62));if(r=r.style,s!=null){for(var d in s)!s.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var p in i)d=i[p],i.hasOwnProperty(p)&&s[p]!==d&&eg(r,p,d)}else for(var b in i)i.hasOwnProperty(b)&&eg(r,b,i[b])}function Ef(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(r){return gx.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Sf=null;function Tf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xi=null,Ei=null;function ag(r){var i=jr(r);if(i&&(r=i.stateNode)){var s=r[Ct]||null;e:switch(r=i.stateNode,i.type){case"input":if(wf(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qa(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var d=s[i];if(d!==r&&d.form===r.form){var p=d[Ct]||null;if(!p)throw Error(n(90));wf(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<s.length;i++)d=s[i],d.form===r.form&&jh(d)}break e;case"textarea":Wh(r,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&bi(r,!!s.multiple,i,!1)}}}var Cf=!1;function rg(r,i,s){if(Cf)return r(i,s);Cf=!0;try{var d=r(i);return d}finally{if(Cf=!1,(xi!==null||Ei!==null)&&(Zs(),xi&&(i=xi,r=Ei,Ei=xi=null,ag(i),r)))for(i=0;i<r.length;i++)ag(r[i])}}function Ml(r,i){var s=r.stateNode;if(s===null)return null;var d=s[Ct]||null;if(d===null)return null;s=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(n(231,i,typeof s));return s}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=!1;if(Mr)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Df=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Df=!1}var Jr=null,Af=null,fs=null;function ng(){if(fs)return fs;var r,i=Af,s=i.length,d,p="value"in Jr?Jr.value:Jr.textContent,b=p.length;for(r=0;r<s&&i[r]===p[r];r++);var A=s-r;for(d=1;d<=A&&i[s-d]===p[b-d];d++);return fs=p.slice(r,1<d?1-d:void 0)}function cs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function vs(){return!0}function ig(){return!1}function Oa(r){function i(s,d,p,b,A){this._reactName=s,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(s=r[N],this[N]=s?s(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?vs:ig,this.isPropagationStopped=ig,this}return h(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),i}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=Oa(Gn),Ol=h({},Gn,{view:0,detail:0}),px=Oa(Ol),Rf,Mf,zl,hs=h({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zl&&(zl&&r.type==="mousemove"?(Rf=r.screenX-zl.screenX,Mf=r.screenY-zl.screenY):Mf=Rf=0,zl=r),Rf)},movementY:function(r){return"movementY"in r?r.movementY:Mf}}),lg=Oa(hs),yx=h({},hs,{dataTransfer:0}),mx=Oa(yx),bx=h({},Ol,{relatedTarget:0}),Bf=Oa(bx),wx=h({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=Oa(wx),Ex=h({},Gn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Sx=Oa(Ex),Tx=h({},Gn,{data:0}),ug=Oa(Tx),Cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ax={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ax[r])?!!i[r]:!1}function Of(){return Rx}var Mx=h({},Ol,{key:function(r){if(r.key){var i=Cx[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=cs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Dx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(r){return r.type==="keypress"?cs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?cs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Bx=Oa(Mx),Ox=h({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sg=Oa(Ox),zx=h({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),Nx=Oa(zx),Lx=h({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kx=Oa(Lx),_x=h({},hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=Oa(_x),Px=h({},Gn,{newState:0,oldState:0}),Ux=Oa(Px),Vx=[9,13,27,32],zf=Mr&&"CompositionEvent"in window,Nl=null;Mr&&"documentMode"in document&&(Nl=document.documentMode);var Hx=Mr&&"TextEvent"in window&&!Nl,og=Mr&&(!zf||Nl&&8<Nl&&11>=Nl),fg=" ",cg=!1;function vg(r,i){switch(r){case"keyup":return Vx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Si=!1;function Gx(r,i){switch(r){case"compositionend":return dg(i);case"keypress":return i.which!==32?null:(cg=!0,fg);case"textInput":return r=i.data,r===fg&&cg?null:r;default:return null}}function Yx(r,i){if(Si)return r==="compositionend"||!zf&&vg(r,i)?(r=ng(),fs=Af=Jr=null,Si=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return og&&i.locale!=="ko"?null:i.data;default:return null}}var Fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Fx[r.type]:i==="textarea"}function gg(r,i,s,d){xi?Ei?Ei.push(d):Ei=[d]:xi=d,i=eo(i,"onChange"),0<i.length&&(s=new ds("onChange","change",null,s,d),r.push({event:s,listeners:i}))}var Ll=null,kl=null;function Ix(r){Qy(r,0)}function gs(r){var i=Vn(r);if(jh(i))return r}function pg(r,i){if(r==="change")return i}var yg=!1;if(Mr){var Nf;if(Mr){var Lf="oninput"in document;if(!Lf){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),Lf=typeof mg.oninput=="function"}Nf=Lf}else Nf=!1;yg=Nf&&(!document.documentMode||9<document.documentMode)}function bg(){Ll&&(Ll.detachEvent("onpropertychange",wg),kl=Ll=null)}function wg(r){if(r.propertyName==="value"&&gs(kl)){var i=[];gg(i,kl,r,Tf(r)),rg(Ix,i)}}function Xx(r,i,s){r==="focusin"?(bg(),Ll=i,kl=s,Ll.attachEvent("onpropertychange",wg)):r==="focusout"&&bg()}function Kx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return gs(kl)}function Zx(r,i){if(r==="click")return gs(i)}function Qx(r,i){if(r==="input"||r==="change")return gs(i)}function jx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ua=typeof Object.is=="function"?Object.is:jx;function _l(r,i){if(Ua(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),d=Object.keys(i);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var p=s[d];if(!ge.call(i,p)||!Ua(r[p],i[p]))return!1}return!0}function xg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Eg(r,i){var s=xg(r);r=0;for(var d;s;){if(s.nodeType===3){if(d=r+s.textContent.length,r<=i&&d>=i)return{node:s,offset:i-r};r=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xg(s)}}function Sg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Sg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Tg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ss(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=ss(r.document)}return i}function kf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var $x=Mr&&"documentMode"in document&&11>=document.documentMode,Ti=null,_f=null,ql=null,qf=!1;function Cg(r,i,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qf||Ti==null||Ti!==ss(d)||(d=Ti,"selectionStart"in d&&kf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ql&&_l(ql,d)||(ql=d,d=eo(_f,"onSelect"),0<d.length&&(i=new ds("onSelect","select",null,i,s),r.push({event:i,listeners:d}),i.target=Ti)))}function Yn(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var Ci={animationend:Yn("Animation","AnimationEnd"),animationiteration:Yn("Animation","AnimationIteration"),animationstart:Yn("Animation","AnimationStart"),transitionrun:Yn("Transition","TransitionRun"),transitionstart:Yn("Transition","TransitionStart"),transitioncancel:Yn("Transition","TransitionCancel"),transitionend:Yn("Transition","TransitionEnd")},Pf={},Dg={};Mr&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Fn(r){if(Pf[r])return Pf[r];if(!Ci[r])return r;var i=Ci[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in Dg)return Pf[r]=i[s];return r}var Ag=Fn("animationend"),Rg=Fn("animationiteration"),Mg=Fn("animationstart"),Wx=Fn("transitionrun"),Jx=Fn("transitionstart"),eE=Fn("transitioncancel"),Bg=Fn("transitionend"),Og=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function ur(r,i){Og.set(r,i),Rr(i,[r])}var zg=new WeakMap;function ja(r,i){if(typeof r=="object"&&r!==null){var s=zg.get(r);return s!==void 0?s:(i={value:r,source:i,stack:Zh(i)},zg.set(r,i),i)}return{value:r,source:i,stack:Zh(i)}}var $a=[],Di=0,Vf=0;function ps(){for(var r=Di,i=Vf=Di=0;i<r;){var s=$a[i];$a[i++]=null;var d=$a[i];$a[i++]=null;var p=$a[i];$a[i++]=null;var b=$a[i];if($a[i++]=null,d!==null&&p!==null){var A=d.pending;A===null?p.next=p:(p.next=A.next,A.next=p),d.pending=p}b!==0&&Ng(s,p,b)}}function ys(r,i,s,d){$a[Di++]=r,$a[Di++]=i,$a[Di++]=s,$a[Di++]=d,Vf|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Hf(r,i,s,d){return ys(r,i,s,d),ms(r)}function Ai(r,i){return ys(r,null,null,i),ms(r)}function Ng(r,i,s){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s);for(var p=!1,b=r.return;b!==null;)b.childLanes|=s,d=b.alternate,d!==null&&(d.childLanes|=s),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(p=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,p&&i!==null&&(p=31-ve(s),r=b.hiddenUpdates,d=r[p],d===null?r[p]=[i]:d.push(i),i.lane=s|536870912),b):null}function ms(r){if(50<su)throw su=0,Kc=null,Error(n(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Ri={};function tE(r,i,s,d){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(r,i,s,d){return new tE(r,i,s,d)}function Gf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Br(r,i){var s=r.alternate;return s===null?(s=Va(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&65011712,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function Lg(r,i){r.flags&=65011714;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function bs(r,i,s,d,p,b){var A=0;if(d=r,typeof r=="function")Gf(r)&&(A=1);else if(typeof r=="string")A=r2(r,s,W.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case L:return r=Va(31,s,i,p),r.elementType=L,r.lanes=b,r;case m:return In(s.children,p,b,i);case S:A=8,p|=24;break;case x:return r=Va(12,s,i,p|2),r.elementType=x,r.lanes=b,r;case R:return r=Va(13,s,i,p),r.elementType=R,r.lanes=b,r;case B:return r=Va(19,s,i,p),r.elementType=B,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:case C:A=10;break e;case T:A=9;break e;case D:A=11;break e;case M:A=14;break e;case z:A=16,d=null;break e}A=29,s=Error(n(130,r===null?"null":typeof r,"")),d=null}return i=Va(A,s,i,p),i.elementType=r,i.type=d,i.lanes=b,i}function In(r,i,s,d){return r=Va(7,r,d,i),r.lanes=s,r}function Yf(r,i,s){return r=Va(6,r,null,i),r.lanes=s,r}function Ff(r,i,s){return i=Va(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Mi=[],Bi=0,ws=null,xs=0,Wa=[],Ja=0,Xn=null,Or=1,zr="";function Kn(r,i){Mi[Bi++]=xs,Mi[Bi++]=ws,ws=r,xs=i}function kg(r,i,s){Wa[Ja++]=Or,Wa[Ja++]=zr,Wa[Ja++]=Xn,Xn=r;var d=Or;r=zr;var p=32-ve(d)-1;d&=~(1<<p),s+=1;var b=32-ve(i)+p;if(30<b){var A=p-p%5;b=(d&(1<<A)-1).toString(32),d>>=A,p-=A,Or=1<<32-ve(i)+p|s<<p|d,zr=b+r}else Or=1<<b|s<<p|d,zr=r}function If(r){r.return!==null&&(Kn(r,1),kg(r,1,0))}function Xf(r){for(;r===ws;)ws=Mi[--Bi],Mi[Bi]=null,xs=Mi[--Bi],Mi[Bi]=null;for(;r===Xn;)Xn=Wa[--Ja],Wa[Ja]=null,zr=Wa[--Ja],Wa[Ja]=null,Or=Wa[--Ja],Wa[Ja]=null}var Aa=null,Lt=null,st=!1,Zn=null,gr=!1,Kf=Error(n(519));function Qn(r){var i=Error(n(418,""));throw Vl(ja(i,r)),Kf}function _g(r){var i=r.stateNode,s=r.type,d=r.memoizedProps;switch(i[dt]=r,i[Ct]=d,s){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(s=0;s<fu.length;s++)at(fu[s],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":at("invalid",i),$h(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),us(i);break;case"select":at("invalid",i);break;case"textarea":at("invalid",i),Jh(i,d.value,d.defaultValue,d.children),us(i)}s=d.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||d.suppressHydrationWarning===!0||Jy(i.textContent,s)?(d.popover!=null&&(at("beforetoggle",i),at("toggle",i)),d.onScroll!=null&&at("scroll",i),d.onScrollEnd!=null&&at("scrollend",i),d.onClick!=null&&(i.onclick=to),i=!0):i=!1,i||Qn(r)}function qg(r){for(Aa=r.return;Aa;)switch(Aa.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:Aa=Aa.return}}function Pl(r){if(r!==Aa)return!1;if(!st)return qg(r),st=!0,!1;var i=r.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||ov(r.type,r.memoizedProps)),s=!s),s&&Lt&&Qn(r),qg(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(s=r.data,s==="/$"){if(i===0){Lt=or(r.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;r=r.nextSibling}Lt=null}}else i===27?(i=Lt,pn(r.type)?(r=dv,dv=null,Lt=r):Lt=i):Lt=Aa?or(r.stateNode.nextSibling):null;return!0}function Ul(){Lt=Aa=null,st=!1}function Pg(){var r=Zn;return r!==null&&(La===null?La=r:La.push.apply(La,r),Zn=null),r}function Vl(r){Zn===null?Zn=[r]:Zn.push(r)}var Zf=G(null),jn=null,Nr=null;function en(r,i,s){Z(Zf,i._currentValue),i._currentValue=s}function Lr(r){r._currentValue=Zf.current,K(Zf)}function Qf(r,i,s){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===s)break;r=r.return}}function jf(r,i,s,d){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var b=p.dependencies;if(b!==null){var A=p.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=p;for(var X=0;X<i.length;X++)if(N.context===i[X]){b.lanes|=s,N=b.alternate,N!==null&&(N.lanes|=s),Qf(b.return,s,r),d||(A=null);break e}b=N.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(n(341));A.lanes|=s,b=A.alternate,b!==null&&(b.lanes|=s),Qf(A,s,r),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===r){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function Hl(r,i,s,d){r=null;for(var p=i,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var N=p.type;Ua(p.pendingProps.value,A.value)||(r!==null?r.push(N):r=[N])}}else if(p===de.current){if(A=p.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(pu):r=[pu])}p=p.return}r!==null&&jf(i,r,s,d),i.flags|=262144}function Es(r){for(r=r.firstContext;r!==null;){if(!Ua(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function $n(r){jn=r,Nr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wa(r){return Ug(jn,r)}function Ss(r,i){return jn===null&&$n(r),Ug(r,i)}function Ug(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Nr===null){if(r===null)throw Error(n(308));Nr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Nr=Nr.next=i;return s}var aE=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,d){r.push(d)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},rE=t.unstable_scheduleCallback,nE=t.unstable_NormalPriority,It={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new aE,data:new Map,refCount:0}}function Gl(r){r.refCount--,r.refCount===0&&rE(nE,function(){r.controller.abort()})}var Yl=null,Wf=0,Oi=0,zi=null;function iE(r,i){if(Yl===null){var s=Yl=[];Wf=0,Oi=ev(),zi={status:"pending",value:void 0,then:function(d){s.push(d)}}}return Wf++,i.then(Vg,Vg),i}function Vg(){if(--Wf===0&&Yl!==null){zi!==null&&(zi.status="fulfilled");var r=Yl;Yl=null,Oi=0,zi=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function lE(r,i){var s=[],d={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return r.then(function(){d.status="fulfilled",d.value=i;for(var p=0;p<s.length;p++)(0,s[p])(i)},function(p){for(d.status="rejected",d.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),d}var Hg=k.S;k.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&iE(r,i),Hg!==null&&Hg(r,i)};var Wn=G(null);function Jf(){var r=Wn.current;return r!==null?r:Et.pooledCache}function Ts(r,i){i===null?Z(Wn,Wn.current):Z(Wn,i.pool)}function Gg(){var r=Jf();return r===null?null:{parent:It._currentValue,pool:r}}var Fl=Error(n(460)),Yg=Error(n(474)),Cs=Error(n(542)),ec={then:function(){}};function Fg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ds(){}function Ig(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(Ds,Ds),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Kg(r),r;default:if(typeof i.status=="string")i.then(Ds,Ds);else{if(r=Et,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=i,r.status="pending",r.then(function(d){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=d}},function(d){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Kg(r),r}throw Il=i,Fl}}var Il=null;function Xg(){if(Il===null)throw Error(n(459));var r=Il;return Il=null,r}function Kg(r){if(r===Fl||r===Cs)throw Error(n(483))}var tn=!1;function tc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ac(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function an(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function rn(r,i,s){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ht&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,i=ms(r),Ng(r,null,s),i}return ys(r,d,i,s),ms(r)}function Xl(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var d=i.lanes;d&=r.pendingLanes,s|=d,i.lanes=s,Ot(r,s)}}function rc(r,i){var s=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var p=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?p=b=A:b=b.next=A,s=s.next}while(s!==null);b===null?p=b=i:b=b.next=i}else p=b=i;s={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var nc=!1;function Kl(){if(nc){var r=zi;if(r!==null)throw r}}function Zl(r,i,s,d){nc=!1;var p=r.updateQueue;tn=!1;var b=p.firstBaseUpdate,A=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var X=N,le=X.next;X.next=null,A===null?b=le:A.next=le,A=X;var pe=r.alternate;pe!==null&&(pe=pe.updateQueue,N=pe.lastBaseUpdate,N!==A&&(N===null?pe.firstBaseUpdate=le:N.next=le,pe.lastBaseUpdate=X))}if(b!==null){var we=p.baseState;A=0,pe=le=X=null,N=b;do{var oe=N.lane&-536870913,ce=oe!==N.lane;if(ce?(rt&oe)===oe:(d&oe)===oe){oe!==0&&oe===Oi&&(nc=!0),pe!==null&&(pe=pe.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ze=r,Ge=N;oe=i;var mt=s;switch(Ge.tag){case 1:if(Ze=Ge.payload,typeof Ze=="function"){we=Ze.call(mt,we,oe);break e}we=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Ge.payload,oe=typeof Ze=="function"?Ze.call(mt,we,oe):Ze,oe==null)break e;we=h({},we,oe);break e;case 2:tn=!0}}oe=N.callback,oe!==null&&(r.flags|=64,ce&&(r.flags|=8192),ce=p.callbacks,ce===null?p.callbacks=[oe]:ce.push(oe))}else ce={lane:oe,tag:N.tag,payload:N.payload,callback:N.callback,next:null},pe===null?(le=pe=ce,X=we):pe=pe.next=ce,A|=oe;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;ce=N,N=ce.next,ce.next=null,p.lastBaseUpdate=ce,p.shared.pending=null}}while(!0);pe===null&&(X=we),p.baseState=X,p.firstBaseUpdate=le,p.lastBaseUpdate=pe,b===null&&(p.shared.lanes=0),vn|=A,r.lanes=A,r.memoizedState=we}}function Zg(r,i){if(typeof r!="function")throw Error(n(191,r));r.call(i)}function Qg(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)Zg(s[r],i)}var Ni=G(null),As=G(0);function jg(r,i){r=Hr,Z(As,r),Z(Ni,i),Hr=r|i.baseLanes}function ic(){Z(As,Hr),Z(Ni,Ni.current)}function lc(){Hr=As.current,K(Ni),K(As)}var nn=0,We=null,pt=null,Gt=null,Rs=!1,Li=!1,Jn=!1,Ms=0,Ql=0,ki=null,uE=0;function qt(){throw Error(n(321))}function uc(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!Ua(r[s],i[s]))return!1;return!0}function sc(r,i,s,d,p,b){return nn=b,We=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,k.H=r===null||r.memoizedState===null?Np:Lp,Jn=!1,b=s(d,p),Jn=!1,Li&&(b=Wg(i,s,d,p)),$g(r),b}function $g(r){k.H=ks;var i=pt!==null&&pt.next!==null;if(nn=0,Gt=pt=We=null,Rs=!1,Ql=0,ki=null,i)throw Error(n(300));r===null||ta||(r=r.dependencies,r!==null&&Es(r)&&(ta=!0))}function Wg(r,i,s,d){We=r;var p=0;do{if(Li&&(ki=null),Ql=0,Li=!1,25<=p)throw Error(n(301));if(p+=1,Gt=pt=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}k.H=hE,b=i(s,d)}while(Li);return b}function sE(){var r=k.H,i=r.useState()[0];return i=typeof i.then=="function"?jl(i):i,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&(We.flags|=1024),i}function oc(){var r=Ms!==0;return Ms=0,r}function fc(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function cc(r){if(Rs){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rs=!1}nn=0,Gt=pt=We=null,Li=!1,Ql=Ms=0,ki=null}function za(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?We.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function Yt(){if(pt===null){var r=We.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var i=Gt===null?We.memoizedState:Gt.next;if(i!==null)Gt=i,pt=r;else{if(r===null)throw We.alternate===null?Error(n(467)):Error(n(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Gt===null?We.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(r){var i=Ql;return Ql+=1,ki===null&&(ki=[]),r=Ig(ki,r,i),i=We,(Gt===null?i.memoizedState:Gt.next)===null&&(i=i.alternate,k.H=i===null||i.memoizedState===null?Np:Lp),r}function Bs(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return jl(r);if(r.$$typeof===C)return wa(r)}throw Error(n(438,String(r)))}function dc(r){var i=null,s=We.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var d=We.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=vc(),We.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),d=0;d<r;d++)s[d]=U;return i.index++,s}function kr(r,i){return typeof i=="function"?i(r):i}function Os(r){var i=Yt();return hc(i,pt,r)}function hc(r,i,s){var d=r.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=r.baseQueue,b=d.pending;if(b!==null){if(p!==null){var A=p.next;p.next=b.next,b.next=A}i.baseQueue=p=b,d.pending=null}if(b=r.baseState,p===null)r.memoizedState=b;else{i=p.next;var N=A=null,X=null,le=i,pe=!1;do{var we=le.lane&-536870913;if(we!==le.lane?(rt&we)===we:(nn&we)===we){var oe=le.revertLane;if(oe===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),we===Oi&&(pe=!0);else if((nn&oe)===oe){le=le.next,oe===Oi&&(pe=!0);continue}else we={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(N=X=we,A=b):X=X.next=we,We.lanes|=oe,vn|=oe;we=le.action,Jn&&s(b,we),b=le.hasEagerState?le.eagerState:s(b,we)}else oe={lane:we,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(N=X=oe,A=b):X=X.next=oe,We.lanes|=we,vn|=we;le=le.next}while(le!==null&&le!==i);if(X===null?A=b:X.next=N,!Ua(b,r.memoizedState)&&(ta=!0,pe&&(s=zi,s!==null)))throw s;r.memoizedState=b,r.baseState=A,r.baseQueue=X,d.lastRenderedState=b}return p===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function gc(r){var i=Yt(),s=i.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=r;var d=s.dispatch,p=s.pending,b=i.memoizedState;if(p!==null){s.pending=null;var A=p=p.next;do b=r(b,A.action),A=A.next;while(A!==p);Ua(b,i.memoizedState)||(ta=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),s.lastRenderedState=b}return[b,d]}function Jg(r,i,s){var d=We,p=Yt(),b=st;if(b){if(s===void 0)throw Error(n(407));s=s()}else s=i();var A=!Ua((pt||p).memoizedState,s);A&&(p.memoizedState=s,ta=!0),p=p.queue;var N=ap.bind(null,d,p,r);if($l(2048,8,N,[r]),p.getSnapshot!==i||A||Gt!==null&&Gt.memoizedState.tag&1){if(d.flags|=2048,_i(9,zs(),tp.bind(null,d,p,s,i),null),Et===null)throw Error(n(349));b||(nn&124)!==0||ep(d,i,s)}return s}function ep(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=We.updateQueue,i===null?(i=vc(),We.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function tp(r,i,s,d){i.value=s,i.getSnapshot=d,rp(i)&&np(r)}function ap(r,i,s){return s(function(){rp(i)&&np(r)})}function rp(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!Ua(r,s)}catch{return!0}}function np(r){var i=Ai(r,2);i!==null&&Ia(i,r,2)}function pc(r){var i=za();if(typeof r=="function"){var s=r;if(r=s(),Jn){te(!0);try{s()}finally{te(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:r},i}function ip(r,i,s,d){return r.baseState=s,hc(r,pt,typeof d=="function"?d:kr)}function oE(r,i,s,d,p){if(Ls(r))throw Error(n(485));if(r=i.action,r!==null){var b={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};k.T!==null?s(!0):b.isTransition=!1,d(b),s=i.pending,s===null?(b.next=i.pending=b,lp(i,b)):(b.next=s.next,i.pending=s.next=b)}}function lp(r,i){var s=i.action,d=i.payload,p=r.state;if(i.isTransition){var b=k.T,A={};k.T=A;try{var N=s(p,d),X=k.S;X!==null&&X(A,N),up(r,i,N)}catch(le){yc(r,i,le)}finally{k.T=b}}else try{b=s(p,d),up(r,i,b)}catch(le){yc(r,i,le)}}function up(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(d){sp(r,i,d)},function(d){return yc(r,i,d)}):sp(r,i,s)}function sp(r,i,s){i.status="fulfilled",i.value=s,op(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,lp(r,s)))}function yc(r,i,s){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=s,op(i),i=i.next;while(i!==d)}r.action=null}function op(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function fp(r,i){return i}function cp(r,i){if(st){var s=Et.formState;if(s!==null){e:{var d=We;if(st){if(Lt){t:{for(var p=Lt,b=gr;p.nodeType!==8;){if(!b){p=null;break t}if(p=or(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Lt=or(p.nextSibling),d=p.data==="F!";break e}}Qn(d)}d=!1}d&&(i=s[0])}}return s=za(),s.memoizedState=s.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:i},s.queue=d,s=Bp.bind(null,We,d),d.dispatch=s,d=pc(!1),b=Ec.bind(null,We,!1,d.queue),d=za(),p={state:i,dispatch:null,action:r,pending:null},d.queue=p,s=oE.bind(null,We,p,b,s),p.dispatch=s,d.memoizedState=r,[i,s,!1]}function vp(r){var i=Yt();return dp(i,pt,r)}function dp(r,i,s){if(i=hc(r,i,fp)[0],r=Os(kr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=jl(i)}catch(A){throw A===Fl?Cs:A}else d=i;i=Yt();var p=i.queue,b=p.dispatch;return s!==i.memoizedState&&(We.flags|=2048,_i(9,zs(),fE.bind(null,p,s),null)),[d,b,r]}function fE(r,i){r.action=i}function hp(r){var i=Yt(),s=pt;if(s!==null)return dp(i,s,r);Yt(),i=i.memoizedState,s=Yt();var d=s.queue.dispatch;return s.memoizedState=r,[i,d,!1]}function _i(r,i,s,d){return r={tag:r,create:s,deps:d,inst:i,next:null},i=We.updateQueue,i===null&&(i=vc(),We.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(d=s.next,s.next=r,r.next=d,i.lastEffect=r),r}function zs(){return{destroy:void 0,resource:void 0}}function gp(){return Yt().memoizedState}function Ns(r,i,s,d){var p=za();d=d===void 0?null:d,We.flags|=r,p.memoizedState=_i(1|i,zs(),s,d)}function $l(r,i,s,d){var p=Yt();d=d===void 0?null:d;var b=p.memoizedState.inst;pt!==null&&d!==null&&uc(d,pt.memoizedState.deps)?p.memoizedState=_i(i,b,s,d):(We.flags|=r,p.memoizedState=_i(1|i,b,s,d))}function pp(r,i){Ns(8390656,8,r,i)}function yp(r,i){$l(2048,8,r,i)}function mp(r,i){return $l(4,2,r,i)}function bp(r,i){return $l(4,4,r,i)}function wp(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function xp(r,i,s){s=s!=null?s.concat([r]):null,$l(4,4,wp.bind(null,i,r),s)}function mc(){}function Ep(r,i){var s=Yt();i=i===void 0?null:i;var d=s.memoizedState;return i!==null&&uc(i,d[1])?d[0]:(s.memoizedState=[r,i],r)}function Sp(r,i){var s=Yt();i=i===void 0?null:i;var d=s.memoizedState;if(i!==null&&uc(i,d[1]))return d[0];if(d=r(),Jn){te(!0);try{r()}finally{te(!1)}}return s.memoizedState=[d,i],d}function bc(r,i,s){return s===void 0||(nn&1073741824)!==0?r.memoizedState=i:(r.memoizedState=s,r=Dy(),We.lanes|=r,vn|=r,s)}function Tp(r,i,s,d){return Ua(s,i)?s:Ni.current!==null?(r=bc(r,s,d),Ua(r,i)||(ta=!0),r):(nn&42)===0?(ta=!0,r.memoizedState=s):(r=Dy(),We.lanes|=r,vn|=r,i)}function Cp(r,i,s,d,p){var b=H.p;H.p=b!==0&&8>b?b:8;var A=k.T,N={};k.T=N,Ec(r,!1,i,s);try{var X=p(),le=k.S;if(le!==null&&le(N,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var pe=lE(X,d);Wl(r,i,pe,Fa(r))}else Wl(r,i,d,Fa(r))}catch(we){Wl(r,i,{then:function(){},status:"rejected",reason:we},Fa())}finally{H.p=b,k.T=A}}function cE(){}function wc(r,i,s,d){if(r.tag!==5)throw Error(n(476));var p=Dp(r).queue;Cp(r,p,i,F,s===null?cE:function(){return Ap(r),s(d)})}function Dp(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:F},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Ap(r){var i=Dp(r).next.queue;Wl(r,i,{},Fa())}function xc(){return wa(pu)}function Rp(){return Yt().memoizedState}function Mp(){return Yt().memoizedState}function vE(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=Fa();r=an(s);var d=rn(i,r,s);d!==null&&(Ia(d,i,s),Xl(d,i,s)),i={cache:$f()},r.payload=i;return}i=i.return}}function dE(r,i,s){var d=Fa();s={lane:d,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ls(r)?Op(i,s):(s=Hf(r,i,s,d),s!==null&&(Ia(s,r,d),zp(s,i,d)))}function Bp(r,i,s){var d=Fa();Wl(r,i,s,d)}function Wl(r,i,s,d){var p={lane:d,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ls(r))Op(i,p);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var A=i.lastRenderedState,N=b(A,s);if(p.hasEagerState=!0,p.eagerState=N,Ua(N,A))return ys(r,i,p,0),Et===null&&ps(),!1}catch{}finally{}if(s=Hf(r,i,p,d),s!==null)return Ia(s,r,d),zp(s,i,d),!0}return!1}function Ec(r,i,s,d){if(d={lane:2,revertLane:ev(),action:d,hasEagerState:!1,eagerState:null,next:null},Ls(r)){if(i)throw Error(n(479))}else i=Hf(r,s,d,2),i!==null&&Ia(i,r,2)}function Ls(r){var i=r.alternate;return r===We||i!==null&&i===We}function Op(r,i){Li=Rs=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function zp(r,i,s){if((s&4194048)!==0){var d=i.lanes;d&=r.pendingLanes,s|=d,i.lanes=s,Ot(r,s)}}var ks={readContext:wa,use:Bs,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},Np={readContext:wa,use:Bs,useCallback:function(r,i){return za().memoizedState=[r,i===void 0?null:i],r},useContext:wa,useEffect:pp,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,Ns(4194308,4,wp.bind(null,i,r),s)},useLayoutEffect:function(r,i){return Ns(4194308,4,r,i)},useInsertionEffect:function(r,i){Ns(4,2,r,i)},useMemo:function(r,i){var s=za();i=i===void 0?null:i;var d=r();if(Jn){te(!0);try{r()}finally{te(!1)}}return s.memoizedState=[d,i],d},useReducer:function(r,i,s){var d=za();if(s!==void 0){var p=s(i);if(Jn){te(!0);try{s(i)}finally{te(!1)}}}else p=i;return d.memoizedState=d.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},d.queue=r,r=r.dispatch=dE.bind(null,We,r),[d.memoizedState,r]},useRef:function(r){var i=za();return r={current:r},i.memoizedState=r},useState:function(r){r=pc(r);var i=r.queue,s=Bp.bind(null,We,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:mc,useDeferredValue:function(r,i){var s=za();return bc(s,r,i)},useTransition:function(){var r=pc(!1);return r=Cp.bind(null,We,r.queue,!0,!1),za().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var d=We,p=za();if(st){if(s===void 0)throw Error(n(407));s=s()}else{if(s=i(),Et===null)throw Error(n(349));(rt&124)!==0||ep(d,i,s)}p.memoizedState=s;var b={value:s,getSnapshot:i};return p.queue=b,pp(ap.bind(null,d,b,r),[r]),d.flags|=2048,_i(9,zs(),tp.bind(null,d,b,s,i),null),s},useId:function(){var r=za(),i=Et.identifierPrefix;if(st){var s=zr,d=Or;s=(d&~(1<<32-ve(d)-1)).toString(32)+s,i=""+i+"R"+s,s=Ms++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=uE++,i=""+i+"r"+s.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:xc,useFormState:cp,useActionState:cp,useOptimistic:function(r){var i=za();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ec.bind(null,We,!0,s),s.dispatch=i,[r,i]},useMemoCache:dc,useCacheRefresh:function(){return za().memoizedState=vE.bind(null,We)}},Lp={readContext:wa,use:Bs,useCallback:Ep,useContext:wa,useEffect:yp,useImperativeHandle:xp,useInsertionEffect:mp,useLayoutEffect:bp,useMemo:Sp,useReducer:Os,useRef:gp,useState:function(){return Os(kr)},useDebugValue:mc,useDeferredValue:function(r,i){var s=Yt();return Tp(s,pt.memoizedState,r,i)},useTransition:function(){var r=Os(kr)[0],i=Yt().memoizedState;return[typeof r=="boolean"?r:jl(r),i]},useSyncExternalStore:Jg,useId:Rp,useHostTransitionStatus:xc,useFormState:vp,useActionState:vp,useOptimistic:function(r,i){var s=Yt();return ip(s,pt,r,i)},useMemoCache:dc,useCacheRefresh:Mp},hE={readContext:wa,use:Bs,useCallback:Ep,useContext:wa,useEffect:yp,useImperativeHandle:xp,useInsertionEffect:mp,useLayoutEffect:bp,useMemo:Sp,useReducer:gc,useRef:gp,useState:function(){return gc(kr)},useDebugValue:mc,useDeferredValue:function(r,i){var s=Yt();return pt===null?bc(s,r,i):Tp(s,pt.memoizedState,r,i)},useTransition:function(){var r=gc(kr)[0],i=Yt().memoizedState;return[typeof r=="boolean"?r:jl(r),i]},useSyncExternalStore:Jg,useId:Rp,useHostTransitionStatus:xc,useFormState:hp,useActionState:hp,useOptimistic:function(r,i){var s=Yt();return pt!==null?ip(s,pt,r,i):(s.baseState=r,[r,s.queue.dispatch])},useMemoCache:dc,useCacheRefresh:Mp},qi=null,Jl=0;function _s(r){var i=Jl;return Jl+=1,qi===null&&(qi=[]),Ig(qi,r,i)}function eu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function qs(r,i){throw i.$$typeof===g?Error(n(525)):(r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function kp(r){var i=r._init;return i(r._payload)}function _p(r){function i(J,Q){if(r){var ne=J.deletions;ne===null?(J.deletions=[Q],J.flags|=16):ne.push(Q)}}function s(J,Q){if(!r)return null;for(;Q!==null;)i(J,Q),Q=Q.sibling;return null}function d(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function p(J,Q){return J=Br(J,Q),J.index=0,J.sibling=null,J}function b(J,Q,ne){return J.index=ne,r?(ne=J.alternate,ne!==null?(ne=ne.index,ne<Q?(J.flags|=67108866,Q):ne):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function A(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function N(J,Q,ne,me){return Q===null||Q.tag!==6?(Q=Yf(ne,J.mode,me),Q.return=J,Q):(Q=p(Q,ne),Q.return=J,Q)}function X(J,Q,ne,me){var ze=ne.type;return ze===m?pe(J,Q,ne.props.children,me,ne.key):Q!==null&&(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===z&&kp(ze)===Q.type)?(Q=p(Q,ne.props),eu(Q,ne),Q.return=J,Q):(Q=bs(ne.type,ne.key,ne.props,null,J.mode,me),eu(Q,ne),Q.return=J,Q)}function le(J,Q,ne,me){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ne.containerInfo||Q.stateNode.implementation!==ne.implementation?(Q=Ff(ne,J.mode,me),Q.return=J,Q):(Q=p(Q,ne.children||[]),Q.return=J,Q)}function pe(J,Q,ne,me,ze){return Q===null||Q.tag!==7?(Q=In(ne,J.mode,me,ze),Q.return=J,Q):(Q=p(Q,ne),Q.return=J,Q)}function we(J,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Yf(""+Q,J.mode,ne),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return ne=bs(Q.type,Q.key,Q.props,null,J.mode,ne),eu(ne,Q),ne.return=J,ne;case w:return Q=Ff(Q,J.mode,ne),Q.return=J,Q;case z:var me=Q._init;return Q=me(Q._payload),we(J,Q,ne)}if(I(Q)||V(Q))return Q=In(Q,J.mode,ne,null),Q.return=J,Q;if(typeof Q.then=="function")return we(J,_s(Q),ne);if(Q.$$typeof===C)return we(J,Ss(J,Q),ne);qs(J,Q)}return null}function oe(J,Q,ne,me){var ze=Q!==null?Q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ze!==null?null:N(J,Q,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return ne.key===ze?X(J,Q,ne,me):null;case w:return ne.key===ze?le(J,Q,ne,me):null;case z:return ze=ne._init,ne=ze(ne._payload),oe(J,Q,ne,me)}if(I(ne)||V(ne))return ze!==null?null:pe(J,Q,ne,me,null);if(typeof ne.then=="function")return oe(J,Q,_s(ne),me);if(ne.$$typeof===C)return oe(J,Q,Ss(J,ne),me);qs(J,ne)}return null}function ce(J,Q,ne,me,ze){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return J=J.get(ne)||null,N(Q,J,""+me,ze);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return J=J.get(me.key===null?ne:me.key)||null,X(Q,J,me,ze);case w:return J=J.get(me.key===null?ne:me.key)||null,le(Q,J,me,ze);case z:var et=me._init;return me=et(me._payload),ce(J,Q,ne,me,ze)}if(I(me)||V(me))return J=J.get(ne)||null,pe(Q,J,me,ze,null);if(typeof me.then=="function")return ce(J,Q,ne,_s(me),ze);if(me.$$typeof===C)return ce(J,Q,ne,Ss(Q,me),ze);qs(Q,me)}return null}function Ze(J,Q,ne,me){for(var ze=null,et=null,Pe=Q,Ye=Q=0,ra=null;Pe!==null&&Ye<ne.length;Ye++){Pe.index>Ye?(ra=Pe,Pe=null):ra=Pe.sibling;var lt=oe(J,Pe,ne[Ye],me);if(lt===null){Pe===null&&(Pe=ra);break}r&&Pe&&lt.alternate===null&&i(J,Pe),Q=b(lt,Q,Ye),et===null?ze=lt:et.sibling=lt,et=lt,Pe=ra}if(Ye===ne.length)return s(J,Pe),st&&Kn(J,Ye),ze;if(Pe===null){for(;Ye<ne.length;Ye++)Pe=we(J,ne[Ye],me),Pe!==null&&(Q=b(Pe,Q,Ye),et===null?ze=Pe:et.sibling=Pe,et=Pe);return st&&Kn(J,Ye),ze}for(Pe=d(Pe);Ye<ne.length;Ye++)ra=ce(Pe,J,Ye,ne[Ye],me),ra!==null&&(r&&ra.alternate!==null&&Pe.delete(ra.key===null?Ye:ra.key),Q=b(ra,Q,Ye),et===null?ze=ra:et.sibling=ra,et=ra);return r&&Pe.forEach(function(xn){return i(J,xn)}),st&&Kn(J,Ye),ze}function Ge(J,Q,ne,me){if(ne==null)throw Error(n(151));for(var ze=null,et=null,Pe=Q,Ye=Q=0,ra=null,lt=ne.next();Pe!==null&&!lt.done;Ye++,lt=ne.next()){Pe.index>Ye?(ra=Pe,Pe=null):ra=Pe.sibling;var xn=oe(J,Pe,lt.value,me);if(xn===null){Pe===null&&(Pe=ra);break}r&&Pe&&xn.alternate===null&&i(J,Pe),Q=b(xn,Q,Ye),et===null?ze=xn:et.sibling=xn,et=xn,Pe=ra}if(lt.done)return s(J,Pe),st&&Kn(J,Ye),ze;if(Pe===null){for(;!lt.done;Ye++,lt=ne.next())lt=we(J,lt.value,me),lt!==null&&(Q=b(lt,Q,Ye),et===null?ze=lt:et.sibling=lt,et=lt);return st&&Kn(J,Ye),ze}for(Pe=d(Pe);!lt.done;Ye++,lt=ne.next())lt=ce(Pe,J,Ye,lt.value,me),lt!==null&&(r&&lt.alternate!==null&&Pe.delete(lt.key===null?Ye:lt.key),Q=b(lt,Q,Ye),et===null?ze=lt:et.sibling=lt,et=lt);return r&&Pe.forEach(function(g2){return i(J,g2)}),st&&Kn(J,Ye),ze}function mt(J,Q,ne,me){if(typeof ne=="object"&&ne!==null&&ne.type===m&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:e:{for(var ze=ne.key;Q!==null;){if(Q.key===ze){if(ze=ne.type,ze===m){if(Q.tag===7){s(J,Q.sibling),me=p(Q,ne.props.children),me.return=J,J=me;break e}}else if(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===z&&kp(ze)===Q.type){s(J,Q.sibling),me=p(Q,ne.props),eu(me,ne),me.return=J,J=me;break e}s(J,Q);break}else i(J,Q);Q=Q.sibling}ne.type===m?(me=In(ne.props.children,J.mode,me,ne.key),me.return=J,J=me):(me=bs(ne.type,ne.key,ne.props,null,J.mode,me),eu(me,ne),me.return=J,J=me)}return A(J);case w:e:{for(ze=ne.key;Q!==null;){if(Q.key===ze)if(Q.tag===4&&Q.stateNode.containerInfo===ne.containerInfo&&Q.stateNode.implementation===ne.implementation){s(J,Q.sibling),me=p(Q,ne.children||[]),me.return=J,J=me;break e}else{s(J,Q);break}else i(J,Q);Q=Q.sibling}me=Ff(ne,J.mode,me),me.return=J,J=me}return A(J);case z:return ze=ne._init,ne=ze(ne._payload),mt(J,Q,ne,me)}if(I(ne))return Ze(J,Q,ne,me);if(V(ne)){if(ze=V(ne),typeof ze!="function")throw Error(n(150));return ne=ze.call(ne),Ge(J,Q,ne,me)}if(typeof ne.then=="function")return mt(J,Q,_s(ne),me);if(ne.$$typeof===C)return mt(J,Q,Ss(J,ne),me);qs(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,Q!==null&&Q.tag===6?(s(J,Q.sibling),me=p(Q,ne),me.return=J,J=me):(s(J,Q),me=Yf(ne,J.mode,me),me.return=J,J=me),A(J)):s(J,Q)}return function(J,Q,ne,me){try{Jl=0;var ze=mt(J,Q,ne,me);return qi=null,ze}catch(Pe){if(Pe===Fl||Pe===Cs)throw Pe;var et=Va(29,Pe,null,J.mode);return et.lanes=me,et.return=J,et}finally{}}}var Pi=_p(!0),qp=_p(!1),er=G(null),pr=null;function ln(r){var i=r.alternate;Z(Xt,Xt.current&1),Z(er,r),pr===null&&(i===null||Ni.current!==null||i.memoizedState!==null)&&(pr=r)}function Pp(r){if(r.tag===22){if(Z(Xt,Xt.current),Z(er,r),pr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(pr=r)}}else un()}function un(){Z(Xt,Xt.current),Z(er,er.current)}function _r(r){K(er),pr===r&&(pr=null),K(Xt)}var Xt=G(0);function Ps(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||vv(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sc(r,i,s,d){i=r.memoizedState,s=s(d,i),s=s==null?i:h({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var Tc={enqueueSetState:function(r,i,s){r=r._reactInternals;var d=Fa(),p=an(d);p.payload=i,s!=null&&(p.callback=s),i=rn(r,p,d),i!==null&&(Ia(i,r,d),Xl(i,r,d))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var d=Fa(),p=an(d);p.tag=1,p.payload=i,s!=null&&(p.callback=s),i=rn(r,p,d),i!==null&&(Ia(i,r,d),Xl(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=Fa(),d=an(s);d.tag=2,i!=null&&(d.callback=i),i=rn(r,d,s),i!==null&&(Ia(i,r,s),Xl(i,r,s))}};function Up(r,i,s,d,p,b,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,A):i.prototype&&i.prototype.isPureReactComponent?!_l(s,d)||!_l(p,b):!0}function Vp(r,i,s,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,d),i.state!==r&&Tc.enqueueReplaceState(i,i.state,null)}function ei(r,i){var s=i;if("ref"in i){s={};for(var d in i)d!=="ref"&&(s[d]=i[d])}if(r=r.defaultProps){s===i&&(s=h({},s));for(var p in r)s[p]===void 0&&(s[p]=r[p])}return s}var Us=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Hp(r){Us(r)}function Gp(r){console.error(r)}function Yp(r){Us(r)}function Vs(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Fp(r,i,s){try{var d=r.onCaughtError;d(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Cc(r,i,s){return s=an(s),s.tag=3,s.payload={element:null},s.callback=function(){Vs(r,i)},s}function Ip(r){return r=an(r),r.tag=3,r}function Xp(r,i,s,d){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;r.payload=function(){return p(b)},r.callback=function(){Fp(i,s,d)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){Fp(i,s,d),typeof p!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function gE(r,i,s,d,p){if(s.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=s.alternate,i!==null&&Hl(i,s,p,!0),s=er.current,s!==null){switch(s.tag){case 13:return pr===null?Qc():s.alternate===null&&kt===0&&(kt=3),s.flags&=-257,s.flags|=65536,s.lanes=p,d===ec?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([d]):i.add(d),$c(r,d,p)),!1;case 22:return s.flags|=65536,d===ec?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([d]):s.add(d)),$c(r,d,p)),!1}throw Error(n(435,s.tag))}return $c(r,d,p),Qc(),!1}if(st)return i=er.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,d!==Kf&&(r=Error(n(422),{cause:d}),Vl(ja(r,s)))):(d!==Kf&&(i=Error(n(423),{cause:d}),Vl(ja(i,s))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,d=ja(d,s),p=Cc(r.stateNode,d,p),rc(r,p),kt!==4&&(kt=2)),!1;var b=Error(n(520),{cause:d});if(b=ja(b,s),uu===null?uu=[b]:uu.push(b),kt!==4&&(kt=2),i===null)return!0;d=ja(d,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=p&-p,s.lanes|=r,r=Cc(s.stateNode,d,r),rc(s,r),!1;case 1:if(i=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(dn===null||!dn.has(b))))return s.flags|=65536,p&=-p,s.lanes|=p,p=Ip(p),Xp(p,r,s,d),rc(s,p),!1}s=s.return}while(s!==null);return!1}var Kp=Error(n(461)),ta=!1;function fa(r,i,s,d){i.child=r===null?qp(i,null,s,d):Pi(i,r.child,s,d)}function Zp(r,i,s,d,p){s=s.render;var b=i.ref;if("ref"in d){var A={};for(var N in d)N!=="ref"&&(A[N]=d[N])}else A=d;return $n(i),d=sc(r,i,s,A,b,p),N=oc(),r!==null&&!ta?(fc(r,i,p),qr(r,i,p)):(st&&N&&If(i),i.flags|=1,fa(r,i,d,p),i.child)}function Qp(r,i,s,d,p){if(r===null){var b=s.type;return typeof b=="function"&&!Gf(b)&&b.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=b,jp(r,i,b,d,p)):(r=bs(s.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(b=r.child,!Nc(r,p)){var A=b.memoizedProps;if(s=s.compare,s=s!==null?s:_l,s(A,d)&&r.ref===i.ref)return qr(r,i,p)}return i.flags|=1,r=Br(b,d),r.ref=i.ref,r.return=i,i.child=r}function jp(r,i,s,d,p){if(r!==null){var b=r.memoizedProps;if(_l(b,d)&&r.ref===i.ref)if(ta=!1,i.pendingProps=d=b,Nc(r,p))(r.flags&131072)!==0&&(ta=!0);else return i.lanes=r.lanes,qr(r,i,p)}return Dc(r,i,s,d,p)}function $p(r,i,s){var d=i.pendingProps,p=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=b!==null?b.baseLanes|s:s,r!==null){for(p=i.child=r.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;i.childLanes=b&~d}else i.childLanes=0,i.child=null;return Wp(r,i,d,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ts(i,b!==null?b.cachePool:null),b!==null?jg(i,b):ic(),Pp(i);else return i.lanes=i.childLanes=536870912,Wp(r,i,b!==null?b.baseLanes|s:s,s)}else b!==null?(Ts(i,b.cachePool),jg(i,b),un(),i.memoizedState=null):(r!==null&&Ts(i,null),ic(),un());return fa(r,i,p,s),i.child}function Wp(r,i,s,d){var p=Jf();return p=p===null?null:{parent:It._currentValue,pool:p},i.memoizedState={baseLanes:s,cachePool:p},r!==null&&Ts(i,null),ic(),Pp(i),r!==null&&Hl(r,i,d,!0),null}function Hs(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(n(284));(r===null||r.ref!==s)&&(i.flags|=4194816)}}function Dc(r,i,s,d,p){return $n(i),s=sc(r,i,s,d,void 0,p),d=oc(),r!==null&&!ta?(fc(r,i,p),qr(r,i,p)):(st&&d&&If(i),i.flags|=1,fa(r,i,s,p),i.child)}function Jp(r,i,s,d,p,b){return $n(i),i.updateQueue=null,s=Wg(i,d,s,p),$g(r),d=oc(),r!==null&&!ta?(fc(r,i,b),qr(r,i,b)):(st&&d&&If(i),i.flags|=1,fa(r,i,s,b),i.child)}function ey(r,i,s,d,p){if($n(i),i.stateNode===null){var b=Ri,A=s.contextType;typeof A=="object"&&A!==null&&(b=wa(A)),b=new s(d,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Tc,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=d,b.state=i.memoizedState,b.refs={},tc(i),A=s.contextType,b.context=typeof A=="object"&&A!==null?wa(A):Ri,b.state=i.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(Sc(i,s,A,d),b.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Tc.enqueueReplaceState(b,b.state,null),Zl(i,d,b,p),Kl(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(r===null){b=i.stateNode;var N=i.memoizedProps,X=ei(s,N);b.props=X;var le=b.context,pe=s.contextType;A=Ri,typeof pe=="object"&&pe!==null&&(A=wa(pe));var we=s.getDerivedStateFromProps;pe=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||le!==A)&&Vp(i,b,d,A),tn=!1;var oe=i.memoizedState;b.state=oe,Zl(i,d,b,p),Kl(),le=i.memoizedState,N||oe!==le||tn?(typeof we=="function"&&(Sc(i,s,we,d),le=i.memoizedState),(X=tn||Up(i,s,X,d,oe,le,A))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=le),b.props=d,b.state=le,b.context=A,d=X):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,ac(r,i),A=i.memoizedProps,pe=ei(s,A),b.props=pe,we=i.pendingProps,oe=b.context,le=s.contextType,X=Ri,typeof le=="object"&&le!==null&&(X=wa(le)),N=s.getDerivedStateFromProps,(le=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==we||oe!==X)&&Vp(i,b,d,X),tn=!1,oe=i.memoizedState,b.state=oe,Zl(i,d,b,p),Kl();var ce=i.memoizedState;A!==we||oe!==ce||tn||r!==null&&r.dependencies!==null&&Es(r.dependencies)?(typeof N=="function"&&(Sc(i,s,N,d),ce=i.memoizedState),(pe=tn||Up(i,s,pe,d,oe,ce,X)||r!==null&&r.dependencies!==null&&Es(r.dependencies))?(le||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ce,X),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ce,X)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ce),b.props=d,b.state=ce,b.context=X,d=pe):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),d=!1)}return b=d,Hs(r,i),d=(i.flags&128)!==0,b||d?(b=i.stateNode,s=d&&typeof s.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,r!==null&&d?(i.child=Pi(i,r.child,null,p),i.child=Pi(i,null,s,p)):fa(r,i,s,p),i.memoizedState=b.state,r=i.child):r=qr(r,i,p),r}function ty(r,i,s,d){return Ul(),i.flags|=256,fa(r,i,s,d),i.child}var Ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rc(r){return{baseLanes:r,cachePool:Gg()}}function Mc(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=tr),r}function ay(r,i,s){var d=i.pendingProps,p=!1,b=(i.flags&128)!==0,A;if((A=b)||(A=r!==null&&r.memoizedState===null?!1:(Xt.current&2)!==0),A&&(p=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,r===null){if(st){if(p?ln(i):un(),st){var N=Lt,X;if(X=N){e:{for(X=N,N=gr;X.nodeType!==8;){if(!N){N=null;break e}if(X=or(X.nextSibling),X===null){N=null;break e}}N=X}N!==null?(i.memoizedState={dehydrated:N,treeContext:Xn!==null?{id:Or,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},X=Va(18,null,null,0),X.stateNode=N,X.return=i,i.child=X,Aa=i,Lt=null,X=!0):X=!1}X||Qn(i)}if(N=i.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return vv(N)?i.lanes=32:i.lanes=536870912,null;_r(i)}return N=d.children,d=d.fallback,p?(un(),p=i.mode,N=Gs({mode:"hidden",children:N},p),d=In(d,p,s,null),N.return=i,d.return=i,N.sibling=d,i.child=N,p=i.child,p.memoizedState=Rc(s),p.childLanes=Mc(r,A,s),i.memoizedState=Ac,d):(ln(i),Bc(i,N))}if(X=r.memoizedState,X!==null&&(N=X.dehydrated,N!==null)){if(b)i.flags&256?(ln(i),i.flags&=-257,i=Oc(r,i,s)):i.memoizedState!==null?(un(),i.child=r.child,i.flags|=128,i=null):(un(),p=d.fallback,N=i.mode,d=Gs({mode:"visible",children:d.children},N),p=In(p,N,s,null),p.flags|=2,d.return=i,p.return=i,d.sibling=p,i.child=d,Pi(i,r.child,null,s),d=i.child,d.memoizedState=Rc(s),d.childLanes=Mc(r,A,s),i.memoizedState=Ac,i=p);else if(ln(i),vv(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var le=A.dgst;A=le,d=Error(n(419)),d.stack="",d.digest=A,Vl({value:d,source:null,stack:null}),i=Oc(r,i,s)}else if(ta||Hl(r,i,s,!1),A=(s&r.childLanes)!==0,ta||A){if(A=Et,A!==null&&(d=s&-s,d=(d&42)!==0?1:zt(d),d=(d&(A.suspendedLanes|s))!==0?0:d,d!==0&&d!==X.retryLane))throw X.retryLane=d,Ai(r,d),Ia(A,r,d),Kp;N.data==="$?"||Qc(),i=Oc(r,i,s)}else N.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=X.treeContext,Lt=or(N.nextSibling),Aa=i,st=!0,Zn=null,gr=!1,r!==null&&(Wa[Ja++]=Or,Wa[Ja++]=zr,Wa[Ja++]=Xn,Or=r.id,zr=r.overflow,Xn=i),i=Bc(i,d.children),i.flags|=4096);return i}return p?(un(),p=d.fallback,N=i.mode,X=r.child,le=X.sibling,d=Br(X,{mode:"hidden",children:d.children}),d.subtreeFlags=X.subtreeFlags&65011712,le!==null?p=Br(le,p):(p=In(p,N,s,null),p.flags|=2),p.return=i,d.return=i,d.sibling=p,i.child=d,d=p,p=i.child,N=r.child.memoizedState,N===null?N=Rc(s):(X=N.cachePool,X!==null?(le=It._currentValue,X=X.parent!==le?{parent:le,pool:le}:X):X=Gg(),N={baseLanes:N.baseLanes|s,cachePool:X}),p.memoizedState=N,p.childLanes=Mc(r,A,s),i.memoizedState=Ac,d):(ln(i),s=r.child,r=s.sibling,s=Br(s,{mode:"visible",children:d.children}),s.return=i,s.sibling=null,r!==null&&(A=i.deletions,A===null?(i.deletions=[r],i.flags|=16):A.push(r)),i.child=s,i.memoizedState=null,s)}function Bc(r,i){return i=Gs({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Gs(r,i){return r=Va(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Oc(r,i,s){return Pi(i,r.child,null,s),r=Bc(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function ry(r,i,s){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Qf(r.return,i,s)}function zc(r,i,s,d,p){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:p}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=s,b.tailMode=p)}function ny(r,i,s){var d=i.pendingProps,p=d.revealOrder,b=d.tail;if(fa(r,i,d.children,s),d=Xt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ry(r,s,i);else if(r.tag===19)ry(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(Z(Xt,d),p){case"forwards":for(s=i.child,p=null;s!==null;)r=s.alternate,r!==null&&Ps(r)===null&&(p=s),s=s.sibling;s=p,s===null?(p=i.child,i.child=null):(p=s.sibling,s.sibling=null),zc(i,!1,p,s,b);break;case"backwards":for(s=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&Ps(r)===null){i.child=p;break}r=p.sibling,p.sibling=s,s=p,p=r}zc(i,!0,s,null,b);break;case"together":zc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qr(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),vn|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(Hl(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,s=Br(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=Br(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function Nc(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Es(r)))}function pE(r,i,s){switch(i.tag){case 3:fe(i,i.stateNode.containerInfo),en(i,It,r.memoizedState.cache),Ul();break;case 27:case 5:$(i);break;case 4:fe(i,i.stateNode.containerInfo);break;case 10:en(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(ln(i),i.flags|=128,null):(s&i.child.childLanes)!==0?ay(r,i,s):(ln(i),r=qr(r,i,s),r!==null?r.sibling:null);ln(i);break;case 19:var p=(r.flags&128)!==0;if(d=(s&i.childLanes)!==0,d||(Hl(r,i,s,!1),d=(s&i.childLanes)!==0),p){if(d)return ny(r,i,s);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(Xt,Xt.current),d)break;return null;case 22:case 23:return i.lanes=0,$p(r,i,s);case 24:en(i,It,r.memoizedState.cache)}return qr(r,i,s)}function iy(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)ta=!0;else{if(!Nc(r,s)&&(i.flags&128)===0)return ta=!1,pE(r,i,s);ta=(r.flags&131072)!==0}else ta=!1,st&&(i.flags&1048576)!==0&&kg(i,xs,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var d=i.elementType,p=d._init;if(d=p(d._payload),i.type=d,typeof d=="function")Gf(d)?(r=ei(d,r),i.tag=1,i=ey(null,i,d,r,s)):(i.tag=0,i=Dc(null,i,d,r,s));else{if(d!=null){if(p=d.$$typeof,p===D){i.tag=11,i=Zp(null,i,d,r,s);break e}else if(p===M){i.tag=14,i=Qp(null,i,d,r,s);break e}}throw i=Y(d)||d,Error(n(306,i,""))}}return i;case 0:return Dc(r,i,i.type,i.pendingProps,s);case 1:return d=i.type,p=ei(d,i.pendingProps),ey(r,i,d,p,s);case 3:e:{if(fe(i,i.stateNode.containerInfo),r===null)throw Error(n(387));d=i.pendingProps;var b=i.memoizedState;p=b.element,ac(r,i),Zl(i,d,null,s);var A=i.memoizedState;if(d=A.cache,en(i,It,d),d!==b.cache&&jf(i,[It],s,!0),Kl(),d=A.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=ty(r,i,d,s);break e}else if(d!==p){p=ja(Error(n(424)),i),Vl(p),i=ty(r,i,d,s);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Lt=or(r.firstChild),Aa=i,st=!0,Zn=null,gr=!0,s=qp(i,null,d,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ul(),d===p){i=qr(r,i,s);break e}fa(r,i,d,s)}i=i.child}return i;case 26:return Hs(r,i),r===null?(s=om(i.type,null,i.pendingProps,null))?i.memoizedState=s:st||(s=i.type,r=i.pendingProps,d=ao(ae.current).createElement(s),d[dt]=i,d[Ct]=r,va(d,s,r),Ht(d),i.stateNode=d):i.memoizedState=om(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return $(i),r===null&&st&&(d=i.stateNode=lm(i.type,i.pendingProps,ae.current),Aa=i,gr=!0,p=Lt,pn(i.type)?(dv=p,Lt=or(d.firstChild)):Lt=p),fa(r,i,i.pendingProps.children,s),Hs(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&st&&((p=d=Lt)&&(d=FE(d,i.type,i.pendingProps,gr),d!==null?(i.stateNode=d,Aa=i,Lt=or(d.firstChild),gr=!1,p=!0):p=!1),p||Qn(i)),$(i),p=i.type,b=i.pendingProps,A=r!==null?r.memoizedProps:null,d=b.children,ov(p,b)?d=null:A!==null&&ov(p,A)&&(i.flags|=32),i.memoizedState!==null&&(p=sc(r,i,sE,null,null,s),pu._currentValue=p),Hs(r,i),fa(r,i,d,s),i.child;case 6:return r===null&&st&&((r=s=Lt)&&(s=IE(s,i.pendingProps,gr),s!==null?(i.stateNode=s,Aa=i,Lt=null,r=!0):r=!1),r||Qn(i)),null;case 13:return ay(r,i,s);case 4:return fe(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=Pi(i,null,d,s):fa(r,i,d,s),i.child;case 11:return Zp(r,i,i.type,i.pendingProps,s);case 7:return fa(r,i,i.pendingProps,s),i.child;case 8:return fa(r,i,i.pendingProps.children,s),i.child;case 12:return fa(r,i,i.pendingProps.children,s),i.child;case 10:return d=i.pendingProps,en(i,i.type,d.value),fa(r,i,d.children,s),i.child;case 9:return p=i.type._context,d=i.pendingProps.children,$n(i),p=wa(p),d=d(p),i.flags|=1,fa(r,i,d,s),i.child;case 14:return Qp(r,i,i.type,i.pendingProps,s);case 15:return jp(r,i,i.type,i.pendingProps,s);case 19:return ny(r,i,s);case 31:return d=i.pendingProps,s=i.mode,d={mode:d.mode,children:d.children},r===null?(s=Gs(d,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Br(r.child,d),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return $p(r,i,s);case 24:return $n(i),d=wa(It),r===null?(p=Jf(),p===null&&(p=Et,b=$f(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=s),p=b),i.memoizedState={parent:d,cache:p},tc(i),en(i,It,p)):((r.lanes&s)!==0&&(ac(r,i),Zl(i,null,null,s),Kl()),p=r.memoizedState,b=i.memoizedState,p.parent!==d?(p={parent:d,cache:d},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),en(i,It,d)):(d=b.cache,en(i,It,d),d!==p.cache&&jf(i,[It],s,!0))),fa(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Pr(r){r.flags|=4}function ly(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!hm(i)){if(i=er.current,i!==null&&((rt&4194048)===rt?pr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||i!==pr))throw Il=ec,Yg;r.flags|=8192}}function Ys(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ve():536870912,r.lanes|=i,Gi|=i)}function tu(r,i){if(!st)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Rt(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,d=0;if(i)for(var p=r.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=s,i}function yE(r,i,s){var d=i.pendingProps;switch(Xf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return s=i.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Lr(It),ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(Pl(i)?Pr(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pg())),Rt(i),null;case 26:return s=i.memoizedState,r===null?(Pr(i),s!==null?(Rt(i),ly(i,s)):(Rt(i),i.flags&=-16777217)):s?s!==r.memoizedState?(Pr(i),Rt(i),ly(i,s)):(Rt(i),i.flags&=-16777217):(r.memoizedProps!==d&&Pr(i),Rt(i),i.flags&=-16777217),null;case 27:ue(i),s=ae.current;var p=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==d&&Pr(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Rt(i),null}r=W.current,Pl(i)?_g(i):(r=lm(p,d,s),i.stateNode=r,Pr(i))}return Rt(i),null;case 5:if(ue(i),s=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&Pr(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Rt(i),null}if(r=W.current,Pl(i))_g(i);else{switch(p=ao(ae.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?p.createElement(s,{is:d.is}):p.createElement(s)}}r[dt]=i,r[Ct]=d;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=r;e:switch(va(r,s,d),s){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Pr(i)}}return Rt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==d&&Pr(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(r=ae.current,Pl(i)){if(r=i.stateNode,s=i.memoizedProps,d=null,p=Aa,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}r[dt]=i,r=!!(r.nodeValue===s||d!==null&&d.suppressHydrationWarning===!0||Jy(r.nodeValue,s)),r||Qn(i)}else r=ao(r).createTextNode(d),r[dt]=i,i.stateNode=r}return Rt(i),null;case 13:if(d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Pl(i),d!==null&&d.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[dt]=i}else Ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),p=!1}else p=Pg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(_r(i),i):(_r(i),null)}if(_r(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=d!==null,r=r!==null&&r.memoizedState!==null,s){d=i.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)}return s!==r&&s&&(i.child.flags|=8192),Ys(i,i.updateQueue),Rt(i),null;case 4:return ie(),r===null&&nv(i.stateNode.containerInfo),Rt(i),null;case 10:return Lr(i.type),Rt(i),null;case 19:if(K(Xt),p=i.memoizedState,p===null)return Rt(i),null;if(d=(i.flags&128)!==0,b=p.rendering,b===null)if(d)tu(p,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(b=Ps(r),b!==null){for(i.flags|=128,tu(p,!1),r=b.updateQueue,i.updateQueue=r,Ys(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)Lg(s,r),s=s.sibling;return Z(Xt,Xt.current&1|2),i.child}r=r.sibling}p.tail!==null&&be()>Xs&&(i.flags|=128,d=!0,tu(p,!1),i.lanes=4194304)}else{if(!d)if(r=Ps(b),r!==null){if(i.flags|=128,d=!0,r=r.updateQueue,i.updateQueue=r,Ys(i,r),tu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!st)return Rt(i),null}else 2*be()-p.renderingStartTime>Xs&&s!==536870912&&(i.flags|=128,d=!0,tu(p,!1),i.lanes=4194304);p.isBackwards?(b.sibling=i.child,i.child=b):(r=p.last,r!==null?r.sibling=b:i.child=b,p.last=b)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=be(),i.sibling=null,r=Xt.current,Z(Xt,d?r&1|2:r&1),i):(Rt(i),null);case 22:case 23:return _r(i),lc(),d=i.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(s&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),s=i.updateQueue,s!==null&&Ys(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==s&&(i.flags|=2048),r!==null&&K(Wn),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Lr(It),Rt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function mE(r,i){switch(Xf(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Lr(It),ie(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return ue(i),null;case 13:if(_r(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ul()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return K(Xt),null;case 4:return ie(),null;case 10:return Lr(i.type),null;case 22:case 23:return _r(i),lc(),r!==null&&K(Wn),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Lr(It),null;case 25:return null;default:return null}}function uy(r,i){switch(Xf(i),i.tag){case 3:Lr(It),ie();break;case 26:case 27:case 5:ue(i);break;case 4:ie();break;case 13:_r(i);break;case 19:K(Xt);break;case 10:Lr(i.type);break;case 22:case 23:_r(i),lc(),r!==null&&K(Wn);break;case 24:Lr(It)}}function au(r,i){try{var s=i.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var p=d.next;s=p;do{if((s.tag&r)===r){d=void 0;var b=s.create,A=s.inst;d=b(),A.destroy=d}s=s.next}while(s!==p)}}catch(N){wt(i,i.return,N)}}function sn(r,i,s){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&r)===r){var A=d.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,p=i;var X=s,le=N;try{le()}catch(pe){wt(p,X,pe)}}}d=d.next}while(d!==b)}}catch(pe){wt(i,i.return,pe)}}function sy(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{Qg(i,s)}catch(d){wt(r,r.return,d)}}}function oy(r,i,s){s.props=ei(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(d){wt(r,i,d)}}function ru(r,i){try{var s=r.ref;if(s!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof s=="function"?r.refCleanup=s(d):s.current=d}}catch(p){wt(r,i,p)}}function yr(r,i){var s=r.ref,d=r.refCleanup;if(s!==null)if(typeof d=="function")try{d()}catch(p){wt(r,i,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){wt(r,i,p)}else s.current=null}function fy(r){var i=r.type,s=r.memoizedProps,d=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&d.focus();break e;case"img":s.src?d.src=s.src:s.srcSet&&(d.srcset=s.srcSet)}}catch(p){wt(r,r.return,p)}}function Lc(r,i,s){try{var d=r.stateNode;UE(d,r.type,s,i),d[Ct]=i}catch(p){wt(r,r.return,p)}}function cy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&pn(r.type)||r.tag===4}function kc(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&pn(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _c(r,i,s){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(r,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(r),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=to));else if(d!==4&&(d===27&&pn(r.type)&&(s=r.stateNode,i=null),r=r.child,r!==null))for(_c(r,i,s),r=r.sibling;r!==null;)_c(r,i,s),r=r.sibling}function Fs(r,i,s){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(d!==4&&(d===27&&pn(r.type)&&(s=r.stateNode),r=r.child,r!==null))for(Fs(r,i,s),r=r.sibling;r!==null;)Fs(r,i,s),r=r.sibling}function vy(r){var i=r.stateNode,s=r.memoizedProps;try{for(var d=r.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);va(i,d,s),i[dt]=r,i[Ct]=s}catch(b){wt(r,r.return,b)}}var Ur=!1,Pt=!1,qc=!1,dy=typeof WeakSet=="function"?WeakSet:Set,aa=null;function bE(r,i){if(r=r.containerInfo,uv=so,r=Tg(r),kf(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var A=0,N=-1,X=-1,le=0,pe=0,we=r,oe=null;t:for(;;){for(var ce;we!==s||p!==0&&we.nodeType!==3||(N=A+p),we!==b||d!==0&&we.nodeType!==3||(X=A+d),we.nodeType===3&&(A+=we.nodeValue.length),(ce=we.firstChild)!==null;)oe=we,we=ce;for(;;){if(we===r)break t;if(oe===s&&++le===p&&(N=A),oe===b&&++pe===d&&(X=A),(ce=we.nextSibling)!==null)break;we=oe,oe=we.parentNode}we=ce}s=N===-1||X===-1?null:{start:N,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(sv={focusedElem:r,selectionRange:s},so=!1,aa=i;aa!==null;)if(i=aa,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,aa=r;else for(;aa!==null;){switch(i=aa,b=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,s=i,p=b.memoizedProps,b=b.memoizedState,d=s.stateNode;try{var Ze=ei(s.type,p,s.elementType===s.type);r=d.getSnapshotBeforeUpdate(Ze,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(Ge){wt(s,s.return,Ge)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)cv(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":cv(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=i.sibling,r!==null){r.return=i.return,aa=r;break}aa=i.return}}function hy(r,i,s){var d=s.flags;switch(s.tag){case 0:case 11:case 15:on(r,s),d&4&&au(5,s);break;case 1:if(on(r,s),d&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(A){wt(s,s.return,A)}else{var p=ei(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(p,i,r.__reactInternalSnapshotBeforeUpdate)}catch(A){wt(s,s.return,A)}}d&64&&sy(s),d&512&&ru(s,s.return);break;case 3:if(on(r,s),d&64&&(r=s.updateQueue,r!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Qg(r,i)}catch(A){wt(s,s.return,A)}}break;case 27:i===null&&d&4&&vy(s);case 26:case 5:on(r,s),i===null&&d&4&&fy(s),d&512&&ru(s,s.return);break;case 12:on(r,s);break;case 13:on(r,s),d&4&&yy(r,s),d&64&&(r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(s=RE.bind(null,s),XE(r,s))));break;case 22:if(d=s.memoizedState!==null||Ur,!d){i=i!==null&&i.memoizedState!==null||Pt,p=Ur;var b=Pt;Ur=d,(Pt=i)&&!b?fn(r,s,(s.subtreeFlags&8772)!==0):on(r,s),Ur=p,Pt=b}break;case 30:break;default:on(r,s)}}function gy(r){var i=r.alternate;i!==null&&(r.alternate=null,gy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ba(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var At=null,Na=!1;function Vr(r,i,s){for(s=s.child;s!==null;)py(r,i,s),s=s.sibling}function py(r,i,s){if(q&&typeof q.onCommitFiberUnmount=="function")try{q.onCommitFiberUnmount(Ee,s)}catch{}switch(s.tag){case 26:Pt||yr(s,i),Vr(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pt||yr(s,i);var d=At,p=Na;pn(s.type)&&(At=s.stateNode,Na=!1),Vr(r,i,s),vu(s.stateNode),At=d,Na=p;break;case 5:Pt||yr(s,i);case 6:if(d=At,p=Na,At=null,Vr(r,i,s),At=d,Na=p,At!==null)if(Na)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(s.stateNode)}catch(b){wt(s,i,b)}else try{At.removeChild(s.stateNode)}catch(b){wt(s,i,b)}break;case 18:At!==null&&(Na?(r=At,nm(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.stateNode),wu(r)):nm(At,s.stateNode));break;case 4:d=At,p=Na,At=s.stateNode.containerInfo,Na=!0,Vr(r,i,s),At=d,Na=p;break;case 0:case 11:case 14:case 15:Pt||sn(2,s,i),Pt||sn(4,s,i),Vr(r,i,s);break;case 1:Pt||(yr(s,i),d=s.stateNode,typeof d.componentWillUnmount=="function"&&oy(s,i,d)),Vr(r,i,s);break;case 21:Vr(r,i,s);break;case 22:Pt=(d=Pt)||s.memoizedState!==null,Vr(r,i,s),Pt=d;break;default:Vr(r,i,s)}}function yy(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wu(r)}catch(s){wt(i,i.return,s)}}function wE(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new dy),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new dy),i;default:throw Error(n(435,r.tag))}}function Pc(r,i){var s=wE(r);i.forEach(function(d){var p=ME.bind(null,r,d);s.has(d)||(s.add(d),d.then(p,p))})}function Ha(r,i){var s=i.deletions;if(s!==null)for(var d=0;d<s.length;d++){var p=s[d],b=r,A=i,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(pn(N.type)){At=N.stateNode,Na=!1;break e}break;case 5:At=N.stateNode,Na=!1;break e;case 3:case 4:At=N.stateNode.containerInfo,Na=!0;break e}N=N.return}if(At===null)throw Error(n(160));py(b,A,p),At=null,Na=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)my(i,r),i=i.sibling}var sr=null;function my(r,i){var s=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ha(i,r),Ga(r),d&4&&(sn(3,r,r.return),au(3,r),sn(5,r,r.return));break;case 1:Ha(i,r),Ga(r),d&512&&(Pt||s===null||yr(s,s.return)),d&64&&Ur&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?d:s.concat(d))));break;case 26:var p=sr;if(Ha(i,r),Ga(r),d&512&&(Pt||s===null||yr(s,s.return)),d&4){var b=s!==null?s.memoizedState:null;if(d=r.memoizedState,s===null)if(d===null)if(r.stateNode===null){e:{d=r.type,s=r.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[hr]||b[dt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),va(b,d,s),b[dt]=r,Ht(b),d=b;break e;case"link":var A=vm("link","href",p).get(d+(s.href||""));if(A){for(var N=0;N<A.length;N++)if(b=A[N],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(N,1);break t}}b=p.createElement(d),va(b,d,s),p.head.appendChild(b);break;case"meta":if(A=vm("meta","content",p).get(d+(s.content||""))){for(N=0;N<A.length;N++)if(b=A[N],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(N,1);break t}}b=p.createElement(d),va(b,d,s),p.head.appendChild(b);break;default:throw Error(n(468,d))}b[dt]=r,Ht(b),d=b}r.stateNode=d}else dm(p,r.type,r.stateNode);else r.stateNode=cm(p,d,r.memoizedProps);else b!==d?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,d===null?dm(p,r.type,r.stateNode):cm(p,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Lc(r,r.memoizedProps,s.memoizedProps)}break;case 27:Ha(i,r),Ga(r),d&512&&(Pt||s===null||yr(s,s.return)),s!==null&&d&4&&Lc(r,r.memoizedProps,s.memoizedProps);break;case 5:if(Ha(i,r),Ga(r),d&512&&(Pt||s===null||yr(s,s.return)),r.flags&32){p=r.stateNode;try{wi(p,"")}catch(ce){wt(r,r.return,ce)}}d&4&&r.stateNode!=null&&(p=r.memoizedProps,Lc(r,p,s!==null?s.memoizedProps:p)),d&1024&&(qc=!0);break;case 6:if(Ha(i,r),Ga(r),d&4){if(r.stateNode===null)throw Error(n(162));d=r.memoizedProps,s=r.stateNode;try{s.nodeValue=d}catch(ce){wt(r,r.return,ce)}}break;case 3:if(io=null,p=sr,sr=ro(i.containerInfo),Ha(i,r),sr=p,Ga(r),d&4&&s!==null&&s.memoizedState.isDehydrated)try{wu(i.containerInfo)}catch(ce){wt(r,r.return,ce)}qc&&(qc=!1,by(r));break;case 4:d=sr,sr=ro(r.stateNode.containerInfo),Ha(i,r),Ga(r),sr=d;break;case 12:Ha(i,r),Ga(r);break;case 13:Ha(i,r),Ga(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fc=be()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Pc(r,d)));break;case 22:p=r.memoizedState!==null;var X=s!==null&&s.memoizedState!==null,le=Ur,pe=Pt;if(Ur=le||p,Pt=pe||X,Ha(i,r),Pt=pe,Ur=le,Ga(r),d&8192)e:for(i=r.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(s===null||X||Ur||Pt||ti(r)),s=null,i=r;;){if(i.tag===5||i.tag===26){if(s===null){X=s=i;try{if(b=X.stateNode,p)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=X.stateNode;var we=X.memoizedProps.style,oe=we!=null&&we.hasOwnProperty("display")?we.display:null;N.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ce){wt(X,X.return,ce)}}}else if(i.tag===6){if(s===null){X=i;try{X.stateNode.nodeValue=p?"":X.memoizedProps}catch(ce){wt(X,X.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=r.updateQueue,d!==null&&(s=d.retryQueue,s!==null&&(d.retryQueue=null,Pc(r,s))));break;case 19:Ha(i,r),Ga(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Pc(r,d)));break;case 30:break;case 21:break;default:Ha(i,r),Ga(r)}}function Ga(r){var i=r.flags;if(i&2){try{for(var s,d=r.return;d!==null;){if(cy(d)){s=d;break}d=d.return}if(s==null)throw Error(n(160));switch(s.tag){case 27:var p=s.stateNode,b=kc(r);Fs(r,b,p);break;case 5:var A=s.stateNode;s.flags&32&&(wi(A,""),s.flags&=-33);var N=kc(r);Fs(r,N,A);break;case 3:case 4:var X=s.stateNode.containerInfo,le=kc(r);_c(r,le,X);break;default:throw Error(n(161))}}catch(pe){wt(r,r.return,pe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function by(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;by(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function on(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)hy(r,i.alternate,i),i=i.sibling}function ti(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:sn(4,i,i.return),ti(i);break;case 1:yr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&oy(i,i.return,s),ti(i);break;case 27:vu(i.stateNode);case 26:case 5:yr(i,i.return),ti(i);break;case 22:i.memoizedState===null&&ti(i);break;case 30:ti(i);break;default:ti(i)}r=r.sibling}}function fn(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,p=r,b=i,A=b.flags;switch(b.tag){case 0:case 11:case 15:fn(p,b,s),au(4,b);break;case 1:if(fn(p,b,s),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(le){wt(d,d.return,le)}if(d=b,p=d.updateQueue,p!==null){var N=d.stateNode;try{var X=p.shared.hiddenCallbacks;if(X!==null)for(p.shared.hiddenCallbacks=null,p=0;p<X.length;p++)Zg(X[p],N)}catch(le){wt(d,d.return,le)}}s&&A&64&&sy(b),ru(b,b.return);break;case 27:vy(b);case 26:case 5:fn(p,b,s),s&&d===null&&A&4&&fy(b),ru(b,b.return);break;case 12:fn(p,b,s);break;case 13:fn(p,b,s),s&&A&4&&yy(p,b);break;case 22:b.memoizedState===null&&fn(p,b,s),ru(b,b.return);break;case 30:break;default:fn(p,b,s)}i=i.sibling}}function Uc(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&Gl(s))}function Vc(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Gl(r))}function mr(r,i,s,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wy(r,i,s,d),i=i.sibling}function wy(r,i,s,d){var p=i.flags;switch(i.tag){case 0:case 11:case 15:mr(r,i,s,d),p&2048&&au(9,i);break;case 1:mr(r,i,s,d);break;case 3:mr(r,i,s,d),p&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Gl(r)));break;case 12:if(p&2048){mr(r,i,s,d),r=i.stateNode;try{var b=i.memoizedProps,A=b.id,N=b.onPostCommit;typeof N=="function"&&N(A,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(X){wt(i,i.return,X)}}else mr(r,i,s,d);break;case 13:mr(r,i,s,d);break;case 23:break;case 22:b=i.stateNode,A=i.alternate,i.memoizedState!==null?b._visibility&2?mr(r,i,s,d):nu(r,i):b._visibility&2?mr(r,i,s,d):(b._visibility|=2,Ui(r,i,s,d,(i.subtreeFlags&10256)!==0)),p&2048&&Uc(A,i);break;case 24:mr(r,i,s,d),p&2048&&Vc(i.alternate,i);break;default:mr(r,i,s,d)}}function Ui(r,i,s,d,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=r,A=i,N=s,X=d,le=A.flags;switch(A.tag){case 0:case 11:case 15:Ui(b,A,N,X,p),au(8,A);break;case 23:break;case 22:var pe=A.stateNode;A.memoizedState!==null?pe._visibility&2?Ui(b,A,N,X,p):nu(b,A):(pe._visibility|=2,Ui(b,A,N,X,p)),p&&le&2048&&Uc(A.alternate,A);break;case 24:Ui(b,A,N,X,p),p&&le&2048&&Vc(A.alternate,A);break;default:Ui(b,A,N,X,p)}i=i.sibling}}function nu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,d=i,p=d.flags;switch(d.tag){case 22:nu(s,d),p&2048&&Uc(d.alternate,d);break;case 24:nu(s,d),p&2048&&Vc(d.alternate,d);break;default:nu(s,d)}i=i.sibling}}var iu=8192;function Vi(r){if(r.subtreeFlags&iu)for(r=r.child;r!==null;)xy(r),r=r.sibling}function xy(r){switch(r.tag){case 26:Vi(r),r.flags&iu&&r.memoizedState!==null&&i2(sr,r.memoizedState,r.memoizedProps);break;case 5:Vi(r);break;case 3:case 4:var i=sr;sr=ro(r.stateNode.containerInfo),Vi(r),sr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=iu,iu=16777216,Vi(r),iu=i):Vi(r));break;default:Vi(r)}}function Ey(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function lu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var d=i[s];aa=d,Ty(d,r)}Ey(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sy(r),r=r.sibling}function Sy(r){switch(r.tag){case 0:case 11:case 15:lu(r),r.flags&2048&&sn(9,r,r.return);break;case 3:lu(r);break;case 12:lu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Is(r)):lu(r);break;default:lu(r)}}function Is(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var d=i[s];aa=d,Ty(d,r)}Ey(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:sn(8,i,i.return),Is(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Is(i));break;default:Is(i)}r=r.sibling}}function Ty(r,i){for(;aa!==null;){var s=aa;switch(s.tag){case 0:case 11:case 15:sn(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var d=s.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Gl(s.memoizedState.cache)}if(d=s.child,d!==null)d.return=s,aa=d;else e:for(s=r;aa!==null;){d=aa;var p=d.sibling,b=d.return;if(gy(d),d===s){aa=null;break e}if(p!==null){p.return=b,aa=p;break e}aa=b}}}var xE={getCacheForType:function(r){var i=wa(It),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s}},EE=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,tt=null,rt=0,gt=0,Ya=null,cn=!1,Hi=!1,Hc=!1,Hr=0,kt=0,vn=0,ai=0,Gc=0,tr=0,Gi=0,uu=null,La=null,Yc=!1,Fc=0,Xs=1/0,Ks=null,dn=null,ca=0,hn=null,Yi=null,Fi=0,Ic=0,Xc=null,Cy=null,su=0,Kc=null;function Fa(){if((ht&2)!==0&&rt!==0)return rt&-rt;if(k.T!==null){var r=Oi;return r!==0?r:ev()}return Wt()}function Dy(){tr===0&&(tr=(rt&536870912)===0||st?Ke():536870912);var r=er.current;return r!==null&&(r.flags|=32),tr}function Ia(r,i,s){(r===Et&&(gt===2||gt===9)||r.cancelPendingCommit!==null)&&(Ii(r,0),gn(r,rt,tr,!1)),vt(r,s),((ht&2)===0||r!==Et)&&(r===Et&&((ht&2)===0&&(ai|=s),kt===4&&gn(r,rt,tr,!1)),br(r))}function Ay(r,i,s){if((ht&6)!==0)throw Error(n(327));var d=!s&&(i&124)===0&&(i&r.expiredLanes)===0||Be(r,i),p=d?CE(r,i):jc(r,i,!0),b=d;do{if(p===0){Hi&&!d&&gn(r,i,0,!1);break}else{if(s=r.current.alternate,b&&!SE(s)){p=jc(r,i,!1),b=!1;continue}if(p===2){if(b=i,r.errorRecoveryDisabledLanes&b)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;e:{var N=r;p=uu;var X=N.current.memoizedState.isDehydrated;if(X&&(Ii(N,A).flags|=256),A=jc(N,A,!1),A!==2){if(Hc&&!X){N.errorRecoveryDisabledLanes|=b,ai|=b,p=4;break e}b=La,La=p,b!==null&&(La===null?La=b:La.push.apply(La,b))}p=A}if(b=!1,p!==2)continue}}if(p===1){Ii(r,0),gn(r,i,0,!0);break}e:{switch(d=r,b=p,b){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:gn(d,i,tr,!cn);break e;case 2:La=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(p=Fc+300-be(),10<p)){if(gn(d,i,tr,!cn),Ie(d,0,!0)!==0)break e;d.timeoutHandle=am(Ry.bind(null,d,s,La,Ks,Yc,i,tr,ai,Gi,cn,b,2,-0,0),p);break e}Ry(d,s,La,Ks,Yc,i,tr,ai,Gi,cn,b,0,-0,0)}}break}while(!0);br(r)}function Ry(r,i,s,d,p,b,A,N,X,le,pe,we,oe,ce){if(r.timeoutHandle=-1,we=i.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(gu={stylesheets:null,count:0,unsuspend:n2},xy(i),we=l2(),we!==null)){r.cancelPendingCommit=we(ky.bind(null,r,i,b,s,d,p,A,N,X,pe,1,oe,ce)),gn(r,b,A,!le);return}ky(r,i,b,s,d,p,A,N,X)}function SE(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var d=0;d<s.length;d++){var p=s[d],b=p.getSnapshot;p=p.value;try{if(!Ua(b(),p))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gn(r,i,s,d){i&=~Gc,i&=~ai,r.suspendedLanes|=i,r.pingedLanes&=~i,d&&(r.warmLanes|=i),d=r.expirationTimes;for(var p=i;0<p;){var b=31-ve(p),A=1<<b;d[b]=-1,p&=~A}s!==0&&ya(r,s,i)}function Zs(){return(ht&6)===0?(ou(0),!1):!0}function Zc(){if(tt!==null){if(gt===0)var r=tt.return;else r=tt,Nr=jn=null,cc(r),qi=null,Jl=0,r=tt;for(;r!==null;)uy(r.alternate,r),r=r.return;tt=null}}function Ii(r,i){var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,HE(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),Zc(),Et=r,tt=s=Br(r.current,null),rt=i,gt=0,Ya=null,cn=!1,Hi=Be(r,i),Hc=!1,Gi=tr=Gc=ai=vn=kt=0,La=uu=null,Yc=!1,(i&8)!==0&&(i|=i&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=i;0<d;){var p=31-ve(d),b=1<<p;i|=r[p],d&=~b}return Hr=i,ps(),s}function My(r,i){We=null,k.H=ks,i===Fl||i===Cs?(i=Xg(),gt=3):i===Yg?(i=Xg(),gt=4):gt=i===Kp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ya=i,tt===null&&(kt=1,Vs(r,ja(i,r.current)))}function By(){var r=k.H;return k.H=ks,r===null?ks:r}function Oy(){var r=k.A;return k.A=xE,r}function Qc(){kt=4,cn||(rt&4194048)!==rt&&er.current!==null||(Hi=!0),(vn&134217727)===0&&(ai&134217727)===0||Et===null||gn(Et,rt,tr,!1)}function jc(r,i,s){var d=ht;ht|=2;var p=By(),b=Oy();(Et!==r||rt!==i)&&(Ks=null,Ii(r,i)),i=!1;var A=kt;e:do try{if(gt!==0&&tt!==null){var N=tt,X=Ya;switch(gt){case 8:Zc(),A=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(i=!0);var le=gt;if(gt=0,Ya=null,Xi(r,N,X,le),s&&Hi){A=0;break e}break;default:le=gt,gt=0,Ya=null,Xi(r,N,X,le)}}TE(),A=kt;break}catch(pe){My(r,pe)}while(!0);return i&&r.shellSuspendCounter++,Nr=jn=null,ht=d,k.H=p,k.A=b,tt===null&&(Et=null,rt=0,ps()),A}function TE(){for(;tt!==null;)zy(tt)}function CE(r,i){var s=ht;ht|=2;var d=By(),p=Oy();Et!==r||rt!==i?(Ks=null,Xs=be()+500,Ii(r,i)):Hi=Be(r,i);e:do try{if(gt!==0&&tt!==null){i=tt;var b=Ya;t:switch(gt){case 1:gt=0,Ya=null,Xi(r,i,b,1);break;case 2:case 9:if(Fg(b)){gt=0,Ya=null,Ny(i);break}i=function(){gt!==2&&gt!==9||Et!==r||(gt=7),br(r)},b.then(i,i);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:Fg(b)?(gt=0,Ya=null,Ny(i)):(gt=0,Ya=null,Xi(r,i,b,7));break;case 5:var A=null;switch(tt.tag){case 26:A=tt.memoizedState;case 5:case 27:var N=tt;if(!A||hm(A)){gt=0,Ya=null;var X=N.sibling;if(X!==null)tt=X;else{var le=N.return;le!==null?(tt=le,Qs(le)):tt=null}break t}}gt=0,Ya=null,Xi(r,i,b,5);break;case 6:gt=0,Ya=null,Xi(r,i,b,6);break;case 8:Zc(),kt=6;break e;default:throw Error(n(462))}}DE();break}catch(pe){My(r,pe)}while(!0);return Nr=jn=null,k.H=d,k.A=p,ht=s,tt!==null?0:(Et=null,rt=0,ps(),kt)}function DE(){for(;tt!==null&&!_e();)zy(tt)}function zy(r){var i=iy(r.alternate,r,Hr);r.memoizedProps=r.pendingProps,i===null?Qs(r):tt=i}function Ny(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=Jp(s,i,i.pendingProps,i.type,void 0,rt);break;case 11:i=Jp(s,i,i.pendingProps,i.type.render,i.ref,rt);break;case 5:cc(i);default:uy(s,i),i=tt=Lg(i,Hr),i=iy(s,i,Hr)}r.memoizedProps=r.pendingProps,i===null?Qs(r):tt=i}function Xi(r,i,s,d){Nr=jn=null,cc(i),qi=null,Jl=0;var p=i.return;try{if(gE(r,p,i,s,rt)){kt=1,Vs(r,ja(s,r.current)),tt=null;return}}catch(b){if(p!==null)throw tt=p,b;kt=1,Vs(r,ja(s,r.current)),tt=null;return}i.flags&32768?(st||d===1?r=!0:Hi||(rt&536870912)!==0?r=!1:(cn=r=!0,(d===2||d===9||d===3||d===6)&&(d=er.current,d!==null&&d.tag===13&&(d.flags|=16384))),Ly(i,r)):Qs(i)}function Qs(r){var i=r;do{if((i.flags&32768)!==0){Ly(i,cn);return}r=i.return;var s=yE(i.alternate,i,Hr);if(s!==null){tt=s;return}if(i=i.sibling,i!==null){tt=i;return}tt=i=r}while(i!==null);kt===0&&(kt=5)}function Ly(r,i){do{var s=mE(r.alternate,r);if(s!==null){s.flags&=32767,tt=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){tt=r;return}tt=r=s}while(r!==null);kt=6,tt=null}function ky(r,i,s,d,p,b,A,N,X){r.cancelPendingCommit=null;do js();while(ca!==0);if((ht&6)!==0)throw Error(n(327));if(i!==null){if(i===r.current)throw Error(n(177));if(b=i.lanes|i.childLanes,b|=Vf,Da(r,s,b,A,N,X),r===Et&&(tt=Et=null,rt=0),Yi=i,hn=r,Fi=s,Ic=b,Xc=p,Cy=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,BE(qe,function(){return Vy(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=k.T,k.T=null,p=H.p,H.p=2,A=ht,ht|=4;try{bE(r,i,s)}finally{ht=A,H.p=p,k.T=d}}ca=1,_y(),qy(),Py()}}function _y(){if(ca===1){ca=0;var r=hn,i=Yi,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var d=H.p;H.p=2;var p=ht;ht|=4;try{my(i,r);var b=sv,A=Tg(r.containerInfo),N=b.focusedElem,X=b.selectionRange;if(A!==N&&N&&N.ownerDocument&&Sg(N.ownerDocument.documentElement,N)){if(X!==null&&kf(N)){var le=X.start,pe=X.end;if(pe===void 0&&(pe=le),"selectionStart"in N)N.selectionStart=le,N.selectionEnd=Math.min(pe,N.value.length);else{var we=N.ownerDocument||document,oe=we&&we.defaultView||window;if(oe.getSelection){var ce=oe.getSelection(),Ze=N.textContent.length,Ge=Math.min(X.start,Ze),mt=X.end===void 0?Ge:Math.min(X.end,Ze);!ce.extend&&Ge>mt&&(A=mt,mt=Ge,Ge=A);var J=Eg(N,Ge),Q=Eg(N,mt);if(J&&Q&&(ce.rangeCount!==1||ce.anchorNode!==J.node||ce.anchorOffset!==J.offset||ce.focusNode!==Q.node||ce.focusOffset!==Q.offset)){var ne=we.createRange();ne.setStart(J.node,J.offset),ce.removeAllRanges(),Ge>mt?(ce.addRange(ne),ce.extend(Q.node,Q.offset)):(ne.setEnd(Q.node,Q.offset),ce.addRange(ne))}}}}for(we=[],ce=N;ce=ce.parentNode;)ce.nodeType===1&&we.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<we.length;N++){var me=we[N];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}so=!!uv,sv=uv=null}finally{ht=p,H.p=d,k.T=s}}r.current=i,ca=2}}function qy(){if(ca===2){ca=0;var r=hn,i=Yi,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var d=H.p;H.p=2;var p=ht;ht|=4;try{hy(r,i.alternate,i)}finally{ht=p,H.p=d,k.T=s}}ca=3}}function Py(){if(ca===4||ca===3){ca=0,he();var r=hn,i=Yi,s=Fi,d=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ca=5:(ca=0,Yi=hn=null,Uy(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(dn=null),Nt(s),i=i.stateNode,q&&typeof q.onCommitFiberRoot=="function")try{q.onCommitFiberRoot(Ee,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=k.T,p=H.p,H.p=2,k.T=null;try{for(var b=r.onRecoverableError,A=0;A<d.length;A++){var N=d[A];b(N.value,{componentStack:N.stack})}}finally{k.T=i,H.p=p}}(Fi&3)!==0&&js(),br(r),p=r.pendingLanes,(s&4194090)!==0&&(p&42)!==0?r===Kc?su++:(su=0,Kc=r):su=0,ou(0)}}function Uy(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Gl(i)))}function js(r){return _y(),qy(),Py(),Vy()}function Vy(){if(ca!==5)return!1;var r=hn,i=Ic;Ic=0;var s=Nt(Fi),d=k.T,p=H.p;try{H.p=32>s?32:s,k.T=null,s=Xc,Xc=null;var b=hn,A=Fi;if(ca=0,Yi=hn=null,Fi=0,(ht&6)!==0)throw Error(n(331));var N=ht;if(ht|=4,Sy(b.current),wy(b,b.current,A,s),ht=N,ou(0,!1),q&&typeof q.onPostCommitFiberRoot=="function")try{q.onPostCommitFiberRoot(Ee,b)}catch{}return!0}finally{H.p=p,k.T=d,Uy(r,i)}}function Hy(r,i,s){i=ja(s,i),i=Cc(r.stateNode,i,2),r=rn(r,i,2),r!==null&&(vt(r,2),br(r))}function wt(r,i,s){if(r.tag===3)Hy(r,r,s);else for(;i!==null;){if(i.tag===3){Hy(i,r,s);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(dn===null||!dn.has(d))){r=ja(s,r),s=Ip(2),d=rn(i,s,2),d!==null&&(Xp(s,d,i,r),vt(d,2),br(d));break}}i=i.return}}function $c(r,i,s){var d=r.pingCache;if(d===null){d=r.pingCache=new EE;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(s)||(Hc=!0,p.add(s),r=AE.bind(null,r,i,s),i.then(r,r))}function AE(r,i,s){var d=r.pingCache;d!==null&&d.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,Et===r&&(rt&s)===s&&(kt===4||kt===3&&(rt&62914560)===rt&&300>be()-Fc?(ht&2)===0&&Ii(r,0):Gc|=s,Gi===rt&&(Gi=0)),br(r)}function Gy(r,i){i===0&&(i=Ve()),r=Ai(r,i),r!==null&&(vt(r,i),br(r))}function RE(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),Gy(r,s)}function ME(r,i){var s=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(s=p.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(i),Gy(r,s)}function BE(r,i){return Se(r,i)}var $s=null,Ki=null,Wc=!1,Ws=!1,Jc=!1,ri=0;function br(r){r!==Ki&&r.next===null&&(Ki===null?$s=Ki=r:Ki=Ki.next=r),Ws=!0,Wc||(Wc=!0,zE())}function ou(r,i){if(!Jc&&Ws){Jc=!0;do for(var s=!1,d=$s;d!==null;){if(r!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var A=d.suspendedLanes,N=d.pingedLanes;b=(1<<31-ve(42|r)+1)-1,b&=p&~(A&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,Xy(d,b))}else b=rt,b=Ie(d,d===Et?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Be(d,b)||(s=!0,Xy(d,b));d=d.next}while(s);Jc=!1}}function OE(){Yy()}function Yy(){Ws=Wc=!1;var r=0;ri!==0&&(VE()&&(r=ri),ri=0);for(var i=be(),s=null,d=$s;d!==null;){var p=d.next,b=Fy(d,i);b===0?(d.next=null,s===null?$s=p:s.next=p,p===null&&(Ki=s)):(s=d,(r!==0||(b&3)!==0)&&(Ws=!0)),d=p}ou(r)}function Fy(r,i){for(var s=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var A=31-ve(b),N=1<<A,X=p[A];X===-1?((N&s)===0||(N&d)!==0)&&(p[A]=Xe(N,i)):X<=i&&(r.expiredLanes|=N),b&=~N}if(i=Et,s=rt,s=Ie(r,r===i?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,s===0||r===i&&(gt===2||gt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Me(d),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||Be(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(d!==null&&Me(d),Nt(s)){case 2:case 8:s=Ne;break;case 32:s=qe;break;case 268435456:s=Fe;break;default:s=qe}return d=Iy.bind(null,r),s=Se(s,d),r.callbackPriority=i,r.callbackNode=s,i}return d!==null&&d!==null&&Me(d),r.callbackPriority=2,r.callbackNode=null,2}function Iy(r,i){if(ca!==0&&ca!==5)return r.callbackNode=null,r.callbackPriority=0,null;var s=r.callbackNode;if(js()&&r.callbackNode!==s)return null;var d=rt;return d=Ie(r,r===Et?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Ay(r,d,i),Fy(r,be()),r.callbackNode!=null&&r.callbackNode===s?Iy.bind(null,r):null)}function Xy(r,i){if(js())return null;Ay(r,i,!0)}function zE(){GE(function(){(ht&6)!==0?Se(Te,OE):Yy()})}function ev(){return ri===0&&(ri=Ke()),ri}function Ky(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:os(""+r)}function Zy(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function NE(r,i,s,d,p){if(i==="submit"&&s&&s.stateNode===p){var b=Ky((p[Ct]||null).action),A=d.submitter;A&&(i=(i=A[Ct]||null)?Ky(i.formAction):A.getAttribute("formAction"),i!==null&&(b=i,A=null));var N=new ds("action","action",null,d,p);r.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ri!==0){var X=A?Zy(p,A):new FormData(p);wc(s,{pending:!0,data:X,method:p.method,action:b},null,X)}}else typeof b=="function"&&(N.preventDefault(),X=A?Zy(p,A):new FormData(p),wc(s,{pending:!0,data:X,method:p.method,action:b},b,X))},currentTarget:p}]})}}for(var tv=0;tv<Uf.length;tv++){var av=Uf[tv],LE=av.toLowerCase(),kE=av[0].toUpperCase()+av.slice(1);ur(LE,"on"+kE)}ur(Ag,"onAnimationEnd"),ur(Rg,"onAnimationIteration"),ur(Mg,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(Wx,"onTransitionRun"),ur(Jx,"onTransitionStart"),ur(eE,"onTransitionCancel"),ur(Bg,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function Qy(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var d=r[s],p=d.event;d=d.listeners;e:{var b=void 0;if(i)for(var A=d.length-1;0<=A;A--){var N=d[A],X=N.instance,le=N.currentTarget;if(N=N.listener,X!==b&&p.isPropagationStopped())break e;b=N,p.currentTarget=le;try{b(p)}catch(pe){Us(pe)}p.currentTarget=null,b=X}else for(A=0;A<d.length;A++){if(N=d[A],X=N.instance,le=N.currentTarget,N=N.listener,X!==b&&p.isPropagationStopped())break e;b=N,p.currentTarget=le;try{b(p)}catch(pe){Us(pe)}p.currentTarget=null,b=X}}}}function at(r,i){var s=i[qa];s===void 0&&(s=i[qa]=new Set);var d=r+"__bubble";s.has(d)||(jy(i,r,2,!1),s.add(d))}function rv(r,i,s){var d=0;i&&(d|=4),jy(s,r,d,i)}var Js="_reactListening"+Math.random().toString(36).slice(2);function nv(r){if(!r[Js]){r[Js]=!0,ns.forEach(function(s){s!=="selectionchange"&&(_E.has(s)||rv(s,!1,r),rv(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Js]||(i[Js]=!0,rv("selectionchange",!1,i))}}function jy(r,i,s,d){switch(wm(i)){case 2:var p=o2;break;case 8:p=f2;break;default:p=mv}s=p.bind(null,i,s,r),p=void 0,!Df||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,s,{capture:!0,passive:p}):r.addEventListener(i,s,!0):p!==void 0?r.addEventListener(i,s,{passive:p}):r.addEventListener(i,s,!1)}function iv(r,i,s,d,p){var b=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var N=d.stateNode.containerInfo;if(N===p)break;if(A===4)for(A=d.return;A!==null;){var X=A.tag;if((X===3||X===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;N!==null;){if(A=Ar(N),A===null)return;if(X=A.tag,X===5||X===6||X===26||X===27){d=b=A;continue e}N=N.parentNode}}d=d.return}rg(function(){var le=b,pe=Tf(s),we=[];e:{var oe=Og.get(r);if(oe!==void 0){var ce=ds,Ze=r;switch(r){case"keypress":if(cs(s)===0)break e;case"keydown":case"keyup":ce=Bx;break;case"focusin":Ze="focus",ce=Bf;break;case"focusout":Ze="blur",ce=Bf;break;case"beforeblur":case"afterblur":ce=Bf;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Nx;break;case Ag:case Rg:case Mg:ce=xx;break;case Bg:ce=kx;break;case"scroll":case"scrollend":ce=px;break;case"wheel":ce=qx;break;case"copy":case"cut":case"paste":ce=Sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=sg;break;case"toggle":case"beforetoggle":ce=Ux}var Ge=(i&4)!==0,mt=!Ge&&(r==="scroll"||r==="scrollend"),J=Ge?oe!==null?oe+"Capture":null:oe;Ge=[];for(var Q=le,ne;Q!==null;){var me=Q;if(ne=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ne===null||J===null||(me=Ml(Q,J),me!=null&&Ge.push(cu(Q,me,ne))),mt)break;Q=Q.return}0<Ge.length&&(oe=new ce(oe,Ze,null,s,pe),we.push({event:oe,listeners:Ge}))}}if((i&7)===0){e:{if(oe=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",oe&&s!==Sf&&(Ze=s.relatedTarget||s.fromElement)&&(Ar(Ze)||Ze[ma]))break e;if((ce||oe)&&(oe=pe.window===pe?pe:(oe=pe.ownerDocument)?oe.defaultView||oe.parentWindow:window,ce?(Ze=s.relatedTarget||s.toElement,ce=le,Ze=Ze?Ar(Ze):null,Ze!==null&&(mt=u(Ze),Ge=Ze.tag,Ze!==mt||Ge!==5&&Ge!==27&&Ge!==6)&&(Ze=null)):(ce=null,Ze=le),ce!==Ze)){if(Ge=lg,me="onMouseLeave",J="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(Ge=sg,me="onPointerLeave",J="onPointerEnter",Q="pointer"),mt=ce==null?oe:Vn(ce),ne=Ze==null?oe:Vn(Ze),oe=new Ge(me,Q+"leave",ce,s,pe),oe.target=mt,oe.relatedTarget=ne,me=null,Ar(pe)===le&&(Ge=new Ge(J,Q+"enter",Ze,s,pe),Ge.target=ne,Ge.relatedTarget=mt,me=Ge),mt=me,ce&&Ze)t:{for(Ge=ce,J=Ze,Q=0,ne=Ge;ne;ne=Zi(ne))Q++;for(ne=0,me=J;me;me=Zi(me))ne++;for(;0<Q-ne;)Ge=Zi(Ge),Q--;for(;0<ne-Q;)J=Zi(J),ne--;for(;Q--;){if(Ge===J||J!==null&&Ge===J.alternate)break t;Ge=Zi(Ge),J=Zi(J)}Ge=null}else Ge=null;ce!==null&&$y(we,oe,ce,Ge,!1),Ze!==null&&mt!==null&&$y(we,mt,Ze,Ge,!0)}}e:{if(oe=le?Vn(le):window,ce=oe.nodeName&&oe.nodeName.toLowerCase(),ce==="select"||ce==="input"&&oe.type==="file")var ze=pg;else if(hg(oe))if(yg)ze=Qx;else{ze=Kx;var et=Xx}else ce=oe.nodeName,!ce||ce.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?le&&Ef(le.elementType)&&(ze=pg):ze=Zx;if(ze&&(ze=ze(r,le))){gg(we,ze,s,pe);break e}et&&et(r,oe,le),r==="focusout"&&le&&oe.type==="number"&&le.memoizedProps.value!=null&&xf(oe,"number",oe.value)}switch(et=le?Vn(le):window,r){case"focusin":(hg(et)||et.contentEditable==="true")&&(Ti=et,_f=le,ql=null);break;case"focusout":ql=_f=Ti=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Cg(we,s,pe);break;case"selectionchange":if($x)break;case"keydown":case"keyup":Cg(we,s,pe)}var Pe;if(zf)e:{switch(r){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Si?vg(r,s)&&(Ye="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(Ye="onCompositionStart");Ye&&(og&&s.locale!=="ko"&&(Si||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Si&&(Pe=ng()):(Jr=pe,Af="value"in Jr?Jr.value:Jr.textContent,Si=!0)),et=eo(le,Ye),0<et.length&&(Ye=new ug(Ye,r,null,s,pe),we.push({event:Ye,listeners:et}),Pe?Ye.data=Pe:(Pe=dg(s),Pe!==null&&(Ye.data=Pe)))),(Pe=Hx?Gx(r,s):Yx(r,s))&&(Ye=eo(le,"onBeforeInput"),0<Ye.length&&(et=new ug("onBeforeInput","beforeinput",null,s,pe),we.push({event:et,listeners:Ye}),et.data=Pe)),NE(we,r,le,s,pe)}Qy(we,i)})}function cu(r,i,s){return{instance:r,listener:i,currentTarget:s}}function eo(r,i){for(var s=i+"Capture",d=[];r!==null;){var p=r,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=Ml(r,s),p!=null&&d.unshift(cu(r,p,b)),p=Ml(r,i),p!=null&&d.push(cu(r,p,b))),r.tag===3)return d;r=r.return}return[]}function Zi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function $y(r,i,s,d,p){for(var b=i._reactName,A=[];s!==null&&s!==d;){var N=s,X=N.alternate,le=N.stateNode;if(N=N.tag,X!==null&&X===d)break;N!==5&&N!==26&&N!==27||le===null||(X=le,p?(le=Ml(s,b),le!=null&&A.unshift(cu(s,le,X))):p||(le=Ml(s,b),le!=null&&A.push(cu(s,le,X)))),s=s.return}A.length!==0&&r.push({event:i,listeners:A})}var qE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function Wy(r){return(typeof r=="string"?r:""+r).replace(qE,`
`).replace(PE,"")}function Jy(r,i){return i=Wy(i),Wy(r)===i}function to(){}function yt(r,i,s,d,p,b){switch(s){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||wi(r,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&wi(r,""+d);break;case"className":ba(r,"class",d);break;case"tabIndex":ba(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ba(r,s,d);break;case"style":tg(r,d,b);break;case"data":if(i!=="object"){ba(r,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(s);break}d=os(""+d),r.setAttribute(s,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(i!=="input"&&yt(r,i,"name",p.name,p,null),yt(r,i,"formEncType",p.formEncType,p,null),yt(r,i,"formMethod",p.formMethod,p,null),yt(r,i,"formTarget",p.formTarget,p,null)):(yt(r,i,"encType",p.encType,p,null),yt(r,i,"method",p.method,p,null),yt(r,i,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(s);break}d=os(""+d),r.setAttribute(s,d);break;case"onClick":d!=null&&(r.onclick=to);break;case"onScroll":d!=null&&at("scroll",r);break;case"onScrollEnd":d!=null&&at("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(s=d.__html,s!=null){if(p.children!=null)throw Error(n(60));r.innerHTML=s}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}s=os(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(s,""+d):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":d===!0?r.setAttribute(s,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(s,d):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(s,d):r.removeAttribute(s);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(s):r.setAttribute(s,d);break;case"popover":at("beforetoggle",r),at("toggle",r),yi(r,"popover",d);break;case"xlinkActuate":Pa(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Pa(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Pa(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Pa(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Pa(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Pa(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Pa(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Pa(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Pa(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yi(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hx.get(s)||s,yi(r,s,d))}}function lv(r,i,s,d,p,b){switch(s){case"style":tg(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(s=d.__html,s!=null){if(p.children!=null)throw Error(n(60));r.innerHTML=s}}break;case"children":typeof d=="string"?wi(r,d):(typeof d=="number"||typeof d=="bigint")&&wi(r,""+d);break;case"onScroll":d!=null&&at("scroll",r);break;case"onScrollEnd":d!=null&&at("scrollend",r);break;case"onClick":d!=null&&(r.onclick=to);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!is.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),i=s.slice(2,p?s.length-7:void 0),b=r[Ct]||null,b=b!=null?b[s]:null,typeof b=="function"&&r.removeEventListener(i,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,d,p);break e}s in r?r[s]=d:d===!0?r.setAttribute(s,""):yi(r,s,d)}}}function va(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",r),at("load",r);var d=!1,p=!1,b;for(b in s)if(s.hasOwnProperty(b)){var A=s[b];if(A!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:yt(r,i,b,A,s,null)}}p&&yt(r,i,"srcSet",s.srcSet,s,null),d&&yt(r,i,"src",s.src,s,null);return;case"input":at("invalid",r);var N=b=A=p=null,X=null,le=null;for(d in s)if(s.hasOwnProperty(d)){var pe=s[d];if(pe!=null)switch(d){case"name":p=pe;break;case"type":A=pe;break;case"checked":X=pe;break;case"defaultChecked":le=pe;break;case"value":b=pe;break;case"defaultValue":N=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(n(137,i));break;default:yt(r,i,d,pe,s,null)}}$h(r,b,N,X,le,A,p,!1),us(r);return;case"select":at("invalid",r),d=A=b=null;for(p in s)if(s.hasOwnProperty(p)&&(N=s[p],N!=null))switch(p){case"value":b=N;break;case"defaultValue":A=N;break;case"multiple":d=N;default:yt(r,i,p,N,s,null)}i=b,s=A,r.multiple=!!d,i!=null?bi(r,!!d,i,!1):s!=null&&bi(r,!!d,s,!0);return;case"textarea":at("invalid",r),b=p=d=null;for(A in s)if(s.hasOwnProperty(A)&&(N=s[A],N!=null))switch(A){case"value":d=N;break;case"defaultValue":p=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:yt(r,i,A,N,s,null)}Jh(r,d,p,b),us(r);return;case"option":for(X in s)if(s.hasOwnProperty(X)&&(d=s[X],d!=null))switch(X){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:yt(r,i,X,d,s,null)}return;case"dialog":at("beforetoggle",r),at("toggle",r),at("cancel",r),at("close",r);break;case"iframe":case"object":at("load",r);break;case"video":case"audio":for(d=0;d<fu.length;d++)at(fu[d],r);break;case"image":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"embed":case"source":case"link":at("error",r),at("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in s)if(s.hasOwnProperty(le)&&(d=s[le],d!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:yt(r,i,le,d,s,null)}return;default:if(Ef(i)){for(pe in s)s.hasOwnProperty(pe)&&(d=s[pe],d!==void 0&&lv(r,i,pe,d,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(d=s[N],d!=null&&yt(r,i,N,d,s,null))}function UE(r,i,s,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,A=null,N=null,X=null,le=null,pe=null;for(ce in s){var we=s[ce];if(s.hasOwnProperty(ce)&&we!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":X=we;default:d.hasOwnProperty(ce)||yt(r,i,ce,null,d,we)}}for(var oe in d){var ce=d[oe];if(we=s[oe],d.hasOwnProperty(oe)&&(ce!=null||we!=null))switch(oe){case"type":b=ce;break;case"name":p=ce;break;case"checked":le=ce;break;case"defaultChecked":pe=ce;break;case"value":A=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,i));break;default:ce!==we&&yt(r,i,oe,ce,d,we)}}wf(r,A,N,X,le,pe,b,p);return;case"select":ce=A=N=oe=null;for(b in s)if(X=s[b],s.hasOwnProperty(b)&&X!=null)switch(b){case"value":break;case"multiple":ce=X;default:d.hasOwnProperty(b)||yt(r,i,b,null,d,X)}for(p in d)if(b=d[p],X=s[p],d.hasOwnProperty(p)&&(b!=null||X!=null))switch(p){case"value":oe=b;break;case"defaultValue":N=b;break;case"multiple":A=b;default:b!==X&&yt(r,i,p,b,d,X)}i=N,s=A,d=ce,oe!=null?bi(r,!!s,oe,!1):!!d!=!!s&&(i!=null?bi(r,!!s,i,!0):bi(r,!!s,s?[]:"",!1));return;case"textarea":ce=oe=null;for(N in s)if(p=s[N],s.hasOwnProperty(N)&&p!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:yt(r,i,N,null,d,p)}for(A in d)if(p=d[A],b=s[A],d.hasOwnProperty(A)&&(p!=null||b!=null))switch(A){case"value":oe=p;break;case"defaultValue":ce=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==b&&yt(r,i,A,p,d,b)}Wh(r,oe,ce);return;case"option":for(var Ze in s)if(oe=s[Ze],s.hasOwnProperty(Ze)&&oe!=null&&!d.hasOwnProperty(Ze))switch(Ze){case"selected":r.selected=!1;break;default:yt(r,i,Ze,null,d,oe)}for(X in d)if(oe=d[X],ce=s[X],d.hasOwnProperty(X)&&oe!==ce&&(oe!=null||ce!=null))switch(X){case"selected":r.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:yt(r,i,X,oe,d,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in s)oe=s[Ge],s.hasOwnProperty(Ge)&&oe!=null&&!d.hasOwnProperty(Ge)&&yt(r,i,Ge,null,d,oe);for(le in d)if(oe=d[le],ce=s[le],d.hasOwnProperty(le)&&oe!==ce&&(oe!=null||ce!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,i));break;default:yt(r,i,le,oe,d,ce)}return;default:if(Ef(i)){for(var mt in s)oe=s[mt],s.hasOwnProperty(mt)&&oe!==void 0&&!d.hasOwnProperty(mt)&&lv(r,i,mt,void 0,d,oe);for(pe in d)oe=d[pe],ce=s[pe],!d.hasOwnProperty(pe)||oe===ce||oe===void 0&&ce===void 0||lv(r,i,pe,oe,d,ce);return}}for(var J in s)oe=s[J],s.hasOwnProperty(J)&&oe!=null&&!d.hasOwnProperty(J)&&yt(r,i,J,null,d,oe);for(we in d)oe=d[we],ce=s[we],!d.hasOwnProperty(we)||oe===ce||oe==null&&ce==null||yt(r,i,we,oe,d,ce)}var uv=null,sv=null;function ao(r){return r.nodeType===9?r:r.ownerDocument}function em(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tm(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function ov(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fv=null;function VE(){var r=window.event;return r&&r.type==="popstate"?r===fv?!1:(fv=r,!0):(fv=null,!1)}var am=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(r){return rm.resolve(null).then(r).catch(YE)}:am;function YE(r){setTimeout(function(){throw r})}function pn(r){return r==="head"}function nm(r,i){var s=i,d=0,p=0;do{var b=s.nextSibling;if(r.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(0<d&&8>d){s=d;var A=r.ownerDocument;if(s&1&&vu(A.documentElement),s&2&&vu(A.body),s&4)for(s=A.head,vu(s),A=s.firstChild;A;){var N=A.nextSibling,X=A.nodeName;A[hr]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&A.rel.toLowerCase()==="stylesheet"||s.removeChild(A),A=N}}if(p===0){r.removeChild(b),wu(i);return}p--}else s==="$"||s==="$?"||s==="$!"?p++:d=s.charCodeAt(0)-48;else d=0;s=b}while(s);wu(i)}function cv(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cv(s),Ba(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function FE(r,i,s,d){for(;r.nodeType===1;){var p=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[hr])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=or(r.nextSibling),r===null)break}return null}function IE(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=or(r.nextSibling),r===null))return null;return r}function vv(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function XE(r,i){var s=r.ownerDocument;if(r.data!=="$?"||s.readyState==="complete")i();else{var d=function(){i(),s.removeEventListener("DOMContentLoaded",d)};s.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function or(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var dv=null;function im(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return r;i--}else s==="/$"&&i++}r=r.previousSibling}return null}function lm(r,i,s){switch(i=ao(s),r){case"html":if(r=i.documentElement,!r)throw Error(n(452));return r;case"head":if(r=i.head,!r)throw Error(n(453));return r;case"body":if(r=i.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function vu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ba(r)}var ar=new Map,um=new Set;function ro(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Gr=H.d;H.d={f:KE,r:ZE,D:QE,C:jE,L:$E,m:WE,X:e2,S:JE,M:t2};function KE(){var r=Gr.f(),i=Zs();return r||i}function ZE(r){var i=jr(r);i!==null&&i.tag===5&&i.type==="form"?Ap(i):Gr.r(r)}var Qi=typeof document>"u"?null:document;function sm(r,i,s){var d=Qi;if(d&&typeof i=="string"&&i){var p=Qa(i);p='link[rel="'+r+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),um.has(p)||(um.add(p),r={rel:r,crossOrigin:s,href:i},d.querySelector(p)===null&&(i=d.createElement("link"),va(i,"link",r),Ht(i),d.head.appendChild(i)))}}function QE(r){Gr.D(r),sm("dns-prefetch",r,null)}function jE(r,i){Gr.C(r,i),sm("preconnect",r,i)}function $E(r,i,s){Gr.L(r,i,s);var d=Qi;if(d&&r&&i){var p='link[rel="preload"][as="'+Qa(i)+'"]';i==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Qa(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Qa(s.imageSizes)+'"]')):p+='[href="'+Qa(r)+'"]';var b=p;switch(i){case"style":b=ji(r);break;case"script":b=$i(r)}ar.has(b)||(r=h({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),ar.set(b,r),d.querySelector(p)!==null||i==="style"&&d.querySelector(du(b))||i==="script"&&d.querySelector(hu(b))||(i=d.createElement("link"),va(i,"link",r),Ht(i),d.head.appendChild(i)))}}function WE(r,i){Gr.m(r,i);var s=Qi;if(s&&r){var d=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Qa(d)+'"][href="'+Qa(r)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=$i(r)}if(!ar.has(b)&&(r=h({rel:"modulepreload",href:r},i),ar.set(b,r),s.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hu(b)))return}d=s.createElement("link"),va(d,"link",r),Ht(d),s.head.appendChild(d)}}}function JE(r,i,s){Gr.S(r,i,s);var d=Qi;if(d&&r){var p=$r(d).hoistableStyles,b=ji(r);i=i||"default";var A=p.get(b);if(!A){var N={loading:0,preload:null};if(A=d.querySelector(du(b)))N.loading=5;else{r=h({rel:"stylesheet",href:r,"data-precedence":i},s),(s=ar.get(b))&&hv(r,s);var X=A=d.createElement("link");Ht(X),va(X,"link",r),X._p=new Promise(function(le,pe){X.onload=le,X.onerror=pe}),X.addEventListener("load",function(){N.loading|=1}),X.addEventListener("error",function(){N.loading|=2}),N.loading|=4,no(A,i,d)}A={type:"stylesheet",instance:A,count:1,state:N},p.set(b,A)}}}function e2(r,i){Gr.X(r,i);var s=Qi;if(s&&r){var d=$r(s).hoistableScripts,p=$i(r),b=d.get(p);b||(b=s.querySelector(hu(p)),b||(r=h({src:r,async:!0},i),(i=ar.get(p))&&gv(r,i),b=s.createElement("script"),Ht(b),va(b,"link",r),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function t2(r,i){Gr.M(r,i);var s=Qi;if(s&&r){var d=$r(s).hoistableScripts,p=$i(r),b=d.get(p);b||(b=s.querySelector(hu(p)),b||(r=h({src:r,async:!0,type:"module"},i),(i=ar.get(p))&&gv(r,i),b=s.createElement("script"),Ht(b),va(b,"link",r),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function om(r,i,s,d){var p=(p=ae.current)?ro(p):null;if(!p)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ji(s.href),s=$r(p).hoistableStyles,d=s.get(i),d||(d={type:"style",instance:null,count:0,state:null},s.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=ji(s.href);var b=$r(p).hoistableStyles,A=b.get(r);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,A),(b=p.querySelector(du(r)))&&!b._p&&(A.instance=b,A.state.loading=5),ar.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ar.set(r,s),b||a2(p,r,s,A.state))),i&&d===null)throw Error(n(528,""));return A}if(i&&d!==null)throw Error(n(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$i(s),s=$r(p).hoistableScripts,d=s.get(i),d||(d={type:"script",instance:null,count:0,state:null},s.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function ji(r){return'href="'+Qa(r)+'"'}function du(r){return'link[rel="stylesheet"]['+r+"]"}function fm(r){return h({},r,{"data-precedence":r.precedence,precedence:null})}function a2(r,i,s,d){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=r.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),va(i,"link",s),Ht(i),r.head.appendChild(i))}function $i(r){return'[src="'+Qa(r)+'"]'}function hu(r){return"script[async]"+r}function cm(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var d=r.querySelector('style[data-href~="'+Qa(s.href)+'"]');if(d)return i.instance=d,Ht(d),d;var p=h({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Ht(d),va(d,"style",p),no(d,s.precedence,r),i.instance=d;case"stylesheet":p=ji(s.href);var b=r.querySelector(du(p));if(b)return i.state.loading|=4,i.instance=b,Ht(b),b;d=fm(s),(p=ar.get(p))&&hv(d,p),b=(r.ownerDocument||r).createElement("link"),Ht(b);var A=b;return A._p=new Promise(function(N,X){A.onload=N,A.onerror=X}),va(b,"link",d),i.state.loading|=4,no(b,s.precedence,r),i.instance=b;case"script":return b=$i(s.src),(p=r.querySelector(hu(b)))?(i.instance=p,Ht(p),p):(d=s,(p=ar.get(b))&&(d=h({},s),gv(d,p)),r=r.ownerDocument||r,p=r.createElement("script"),Ht(p),va(p,"link",d),r.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,no(d,s.precedence,r));return i.instance}function no(r,i,s){for(var d=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,A=0;A<d.length;A++){var N=d[A];if(N.dataset.precedence===i)b=N;else if(b!==p)break}b?b.parentNode.insertBefore(r,b.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function hv(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function gv(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var io=null;function vm(r,i,s){if(io===null){var d=new Map,p=io=new Map;p.set(s,d)}else p=io,d=p.get(s),d||(d=new Map,p.set(s,d));if(d.has(r))return d;for(d.set(r,null),s=s.getElementsByTagName(r),p=0;p<s.length;p++){var b=s[p];if(!(b[hr]||b[dt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(i)||"";A=r+A;var N=d.get(A);N?N.push(b):d.set(A,[b])}}return d}function dm(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function r2(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hm(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var gu=null;function n2(){}function i2(r,i,s){if(gu===null)throw Error(n(475));var d=gu;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=ji(s.href),b=r.querySelector(du(p));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=lo.bind(d),r.then(d,d)),i.state.loading|=4,i.instance=b,Ht(b);return}b=r.ownerDocument||r,s=fm(s),(p=ar.get(p))&&hv(s,p),b=b.createElement("link"),Ht(b);var A=b;A._p=new Promise(function(N,X){A.onload=N,A.onerror=X}),va(b,"link",s),i.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=lo.bind(d),r.addEventListener("load",i),r.addEventListener("error",i))}}function l2(){if(gu===null)throw Error(n(475));var r=gu;return r.stylesheets&&r.count===0&&pv(r,r.stylesheets),0<r.count?function(i){var s=setTimeout(function(){if(r.stylesheets&&pv(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(s)}}:null}function lo(){if(this.count--,this.count===0){if(this.stylesheets)pv(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var uo=null;function pv(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,uo=new Map,i.forEach(u2,r),uo=null,lo.call(r))}function u2(r,i){if(!(i.state.loading&4)){var s=uo.get(r);if(s)var d=s.get(null);else{s=new Map,uo.set(r,s);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var A=p[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),d=A)}d&&s.set(null,d)}p=i.instance,A=p.getAttribute("data-precedence"),b=s.get(A)||d,b===d&&s.set(null,p),s.set(A,p),this.count++,d=lo.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),i.state.loading|=4}}var pu={$$typeof:C,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function s2(r,i,s,d,p,b,A,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function gm(r,i,s,d,p,b,A,N,X,le,pe,we){return r=new s2(r,i,s,A,N,X,le,we),i=1,b===!0&&(i|=24),b=Va(3,null,null,i),r.current=b,b.stateNode=r,i=$f(),i.refCount++,r.pooledCache=i,i.refCount++,b.memoizedState={element:d,isDehydrated:s,cache:i},tc(b),r}function pm(r){return r?(r=Ri,r):Ri}function ym(r,i,s,d,p,b){p=pm(p),d.context===null?d.context=p:d.pendingContext=p,d=an(i),d.payload={element:s},b=b===void 0?null:b,b!==null&&(d.callback=b),s=rn(r,d,i),s!==null&&(Ia(s,r,i),Xl(s,r,i))}function mm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function yv(r,i){mm(r,i),(r=r.alternate)&&mm(r,i)}function bm(r){if(r.tag===13){var i=Ai(r,67108864);i!==null&&Ia(i,r,67108864),yv(r,67108864)}}var so=!0;function o2(r,i,s,d){var p=k.T;k.T=null;var b=H.p;try{H.p=2,mv(r,i,s,d)}finally{H.p=b,k.T=p}}function f2(r,i,s,d){var p=k.T;k.T=null;var b=H.p;try{H.p=8,mv(r,i,s,d)}finally{H.p=b,k.T=p}}function mv(r,i,s,d){if(so){var p=bv(d);if(p===null)iv(r,i,d,oo,s),xm(r,d);else if(v2(p,r,i,s,d))d.stopPropagation();else if(xm(r,d),i&4&&-1<c2.indexOf(r)){for(;p!==null;){var b=jr(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Le(b.pendingLanes);if(A!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var X=1<<31-ve(A);N.entanglements[1]|=X,A&=~X}br(b),(ht&6)===0&&(Xs=be()+500,ou(0))}}break;case 13:N=Ai(b,2),N!==null&&Ia(N,b,2),Zs(),yv(b,2)}if(b=bv(d),b===null&&iv(r,i,d,oo,s),b===p)break;p=b}p!==null&&d.stopPropagation()}else iv(r,i,d,null,s)}}function bv(r){return r=Tf(r),wv(r)}var oo=null;function wv(r){if(oo=null,r=Ar(r),r!==null){var i=u(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=o(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return oo=r,null}function wm(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Te:return 2;case Ne:return 8;case qe:case ke:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var xv=!1,yn=null,mn=null,bn=null,yu=new Map,mu=new Map,wn=[],c2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xm(r,i){switch(r){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":yu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(i.pointerId)}}function bu(r,i,s,d,p,b){return r===null||r.nativeEvent!==b?(r={blockedOn:i,domEventName:s,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},i!==null&&(i=jr(i),i!==null&&bm(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function v2(r,i,s,d,p){switch(i){case"focusin":return yn=bu(yn,r,i,s,d,p),!0;case"dragenter":return mn=bu(mn,r,i,s,d,p),!0;case"mouseover":return bn=bu(bn,r,i,s,d,p),!0;case"pointerover":var b=p.pointerId;return yu.set(b,bu(yu.get(b)||null,r,i,s,d,p)),!0;case"gotpointercapture":return b=p.pointerId,mu.set(b,bu(mu.get(b)||null,r,i,s,d,p)),!0}return!1}function Em(r){var i=Ar(r.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=o(s),i!==null){r.blockedOn=i,sa(r.priority,function(){if(s.tag===13){var d=Fa();d=zt(d);var p=Ai(s,d);p!==null&&Ia(p,s,d),yv(s,d)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=bv(r.nativeEvent);if(s===null){s=r.nativeEvent;var d=new s.constructor(s.type,s);Sf=d,s.target.dispatchEvent(d),Sf=null}else return i=jr(s),i!==null&&bm(i),r.blockedOn=s,!1;i.shift()}return!0}function Sm(r,i,s){fo(r)&&s.delete(i)}function d2(){xv=!1,yn!==null&&fo(yn)&&(yn=null),mn!==null&&fo(mn)&&(mn=null),bn!==null&&fo(bn)&&(bn=null),yu.forEach(Sm),mu.forEach(Sm)}function co(r,i){r.blockedOn===i&&(r.blockedOn=null,xv||(xv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,d2)))}var vo=null;function Tm(r){vo!==r&&(vo=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vo===r&&(vo=null);for(var i=0;i<r.length;i+=3){var s=r[i],d=r[i+1],p=r[i+2];if(typeof d!="function"){if(wv(d||s)===null)continue;break}var b=jr(s);b!==null&&(r.splice(i,3),i-=3,wc(b,{pending:!0,data:p,method:s.method,action:d},d,p))}}))}function wu(r){function i(X){return co(X,r)}yn!==null&&co(yn,r),mn!==null&&co(mn,r),bn!==null&&co(bn,r),yu.forEach(i),mu.forEach(i);for(var s=0;s<wn.length;s++){var d=wn[s];d.blockedOn===r&&(d.blockedOn=null)}for(;0<wn.length&&(s=wn[0],s.blockedOn===null);)Em(s),s.blockedOn===null&&wn.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(d=0;d<s.length;d+=3){var p=s[d],b=s[d+1],A=p[Ct]||null;if(typeof b=="function")A||Tm(s);else if(A){var N=null;if(b&&b.hasAttribute("formAction")){if(p=b,A=b[Ct]||null)N=A.formAction;else if(wv(p)!==null)continue}else N=A.action;typeof N=="function"?s[d+1]=N:(s.splice(d,3),d-=3),Tm(s)}}}function Ev(r){this._internalRoot=r}ho.prototype.render=Ev.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));var s=i.current,d=Fa();ym(s,d,r,i,null,null)},ho.prototype.unmount=Ev.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ym(r.current,2,null,r,null,null),Zs(),i[ma]=null}};function ho(r){this._internalRoot=r}ho.prototype.unstable_scheduleHydration=function(r){if(r){var i=Wt();r={blockedOn:null,target:r,priority:i};for(var s=0;s<wn.length&&i!==0&&i<wn[s].priority;s++);wn.splice(s,0,r),s===0&&Em(r)}};var Cm=e.version;if(Cm!=="19.1.0")throw Error(n(527,Cm,"19.1.0"));H.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=v(i),r=r!==null?c(r):null,r=r===null?null:r.stateNode,r};var h2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Ee=go.inject(h2),q=go}catch{}}return Eu.createRoot=function(r,i){if(!l(r))throw Error(n(299));var s=!1,d="",p=Hp,b=Gp,A=Yp,N=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(N=i.unstable_transitionCallbacks)),i=gm(r,1,!1,null,null,s,d,p,b,A,N,null),r[ma]=i.current,nv(r),new Ev(i)},Eu.hydrateRoot=function(r,i,s){if(!l(r))throw Error(n(299));var d=!1,p="",b=Hp,A=Gp,N=Yp,X=null,le=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(X=s.unstable_transitionCallbacks),s.formState!==void 0&&(le=s.formState)),i=gm(r,1,!0,i,s??null,d,p,b,A,N,X,le),i.context=pm(null),s=i.current,d=Fa(),d=zt(d),p=an(d),p.callback=null,rn(s,p,d),s=d,i.current.lanes=s,vt(i,s),br(i),r[ma]=i.current,nv(r),new ho(i)},Eu.version="19.1.0",Eu}var km;function C2(){if(km)return Cv.exports;km=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cv.exports=T2(),Cv.exports}var D2=C2();const A2="/reggie/assets/reggielogo-gkvIYDSA.svg",R2={"Character Classes":[{symbol:"\\d",label:"Digit (\\d)"},{symbol:"\\w",label:"Word (\\w)"},{symbol:"\\s",label:"Whitespace (\\s)"},{symbol:".",label:"Any character (.)"},{symbol:"[^abc]",label:"Not a, b, or c ([^abc])"}],Quantifiers:[{symbol:"*",label:"Zero or more (*)"},{symbol:"+",label:"One or more (+)"},{symbol:"?",label:"Zero or one (?)"},{symbol:"{n}",label:"Exactly n times ({n})"},{symbol:"{n,}",label:"n or more times ({n,})"},{symbol:"{n,m}",label:"Between n and m times ({n,m})"}],"Anchors & Assertions":[{symbol:"^",label:"Start of string (^)"},{symbol:"$",label:"End of string ($)"},{symbol:"(?=...)",label:"Lookahead (?=...)"},{symbol:"(?!...)",label:"Negative Lookahead (?!...)"},{symbol:"\\b",label:"Word Boundary (\\b)"}],"Grouping & Alternation":[{symbol:"()",label:"Capturing group ( )"},{symbol:"(?:)",label:"Non-capturing group (?: )"},{symbol:"|",label:"Alternation (|)"},{symbol:"[]",label:"Character set [ ]"},{symbol:"a-z",label:"Range a to z"}]},M2=({onInsert:t})=>{const e=a=>{const n=a.target.value;n&&(t(n),a.target.selectedIndex=0)};return De.jsxs("select",{onChange:e,className:"mt-2 mb-4 w-full md:w-auto border border-gray-300 rounded px-2 py-1",children:[De.jsx("option",{value:"",children:"Insert Regex Symbol..."}),Object.entries(R2).map(([a,n])=>De.jsx("optgroup",{label:a,children:n.map((l,u)=>De.jsx("option",{value:l.symbol,children:l.label},u))},a))]})},B2=[{pattern:/\\d/g,explanation:"digit (0-9)"},{pattern:/\\w/g,explanation:"word character (a-z, A-Z, 0-9, _)"},{pattern:/\\s/g,explanation:"whitespace"},{pattern:/\./g,explanation:"any character except newline"},{pattern:/\^/g,explanation:"start of string"},{pattern:/\$/g,explanation:"end of string"},{pattern:/\*/g,explanation:"zero or more repetitions"},{pattern:/\+/g,explanation:"one or more repetitions"},{pattern:/\?/g,explanation:"zero or one repetition"},{pattern:/\|/g,explanation:"alternation (OR)"},{pattern:/\[\^?.*?\]/g,explanation:"character set"},{pattern:/\(\?:.*?\)/g,explanation:"non-capturing group"},{pattern:/\(.*?\)/g,explanation:"capturing group"},{pattern:/[a-z]-[a-z]/gi,explanation:"character range"}],O2=({regex:t})=>{if(!t)return null;const e=[];let a=t;return B2.forEach(({pattern:n,explanation:l})=>{[...a.matchAll(n)].forEach(o=>{e.push(`${o[0]} -> ${l}`)})}),De.jsxs("div",{className:"bg-gray-50 border rounded p-3 mt-2",children:[De.jsx("h3",{className:"font-semibold mb-1",children:"Regex Explanation"}),e.length>0?De.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700",children:e.map((n,l)=>De.jsx("li",{children:n},l))}):De.jsx("p",{className:"italic text-gray-500 text-sm",children:"No recognizable patterns found."})]})},_m=["bg-yellow-200","bg-green-200","bg-pink-200","bg-blue-200","bg-purple-200","bg-red-200"],z2=t=>_m[t%_m.length],N2=({testString:t,matches:e,onChange:a})=>{const n=Ut.useRef(null);let l=0;const u=[];return e.forEach((o,f)=>{const v=o.index,c=v+o[0].length;l<v&&u.push({text:t.slice(l,v),highlight:!1}),u.push({text:t.slice(v,c),highlight:!0,colorClass:z2(f)}),l=c}),l<t.length&&u.push({text:t.slice(l),highlight:!1}),De.jsxs("div",{className:"relative w-full mt-2",children:[De.jsx("div",{className:"absolute inset-0 p-2 whitespace-pre-wrap break-words font-mono text-sm text-black pointer-events-none z-0",children:u.length>0?u.map((o,f)=>o.highlight?De.jsx("span",{className:`${o.colorClass} rounded px-1`,children:o.text},f):De.jsx("span",{children:o.text},f)):De.jsx("span",{className:"text-gray-500 italic",children:"Start typing to see highlights"})}),De.jsx("textarea",{ref:n,value:t,onChange:a,className:"relative z-10 w-full border border-gray-300 rounded px-3 py-2 h-32 caret-black selection:bg-blue-200 font-mono resize-none",style:{overflow:"hidden"}})]})},L2=["|","*","+","?","(",")","[","]",".","\\"];function k2(t){const e=[];let a=0;for(;a<t.length;){const n=t[a];if(n==="\\"){if(a+1<t.length)e.push({type:"escape",value:"\\"+t[a+1]}),a+=2;else throw new Error("Incomplete escape sequence at end of regex");continue}if(n==="["){let l=n;for(a++;a<t.length&&t[a]!=="]";)l+=t[a++];a<t.length&&(l+=t[a++]),e.push({type:"charclass",value:l});continue}if(L2.includes(n)){e.push({type:"operator",value:n}),a++;continue}e.push({type:"literal",value:n}),a++}return e}const qm={"*":3,"+":3,"?":3,".":2,"|":1};function _2(t){const e=[];for(let a=0;a<t.length;a++){const n=t[a],l=t[a-1];if(e.push(n),!n)continue;l&&(l.type==="literal"||l.type==="escape"||l.type==="charclass"||l.value===")"||l.value==="*")&&(n.type==="literal"||n.type==="escape"||n.type==="charclass"||n.value==="(")&&e.splice(e.length-1,0,{type:"operator",value:"."})}return e}function q2(t){const e=[],a=[];for(t.forEach(n=>{if(n.type==="literal"||n.type==="escape"||n.type==="charclass")e.push(n);else if(n.type==="operator"){const l=n.value;if(l==="(")a.push(n);else if(l===")"){for(;a.length>0&&a[a.length-1].value!=="(";)e.push(a.pop());a.pop()}else{for(;a.length>0&&qm[a[a.length-1].value]>=qm[l];)e.push(a.pop());a.push(n)}}});a.length>0;)e.push(a.pop());return e}let p1=0;const Ea="";class wr{constructor(){this.id=p1++,this.transitions=new Map}addTransition(e,a){this.transitions.has(e)||this.transitions.set(e,new Set),this.transitions.get(e).add(a)}}class Wi{constructor(e,a){this.start=e,this.accept=a}}function P2(){p1=0}function U2(t){const e=[];for(const n of t)if(n.type==="literal"||n.type==="escape"||n.type==="charclass"){const l=new wr,u=new wr;l.addTransition(n.value,u),e.push(new Wi(l,u))}else if(n.value==="."){const l=e.pop(),u=e.pop();u.accept.addTransition(Ea,l.start),e.push(new Wi(u.start,l.accept))}else if(n.value==="|"){const l=e.pop(),u=e.pop(),o=new wr,f=new wr;o.addTransition(Ea,u.start),o.addTransition(Ea,l.start),u.accept.addTransition(Ea,f),l.accept.addTransition(Ea,f),e.push(new Wi(o,f))}else if(n.value==="*"){const l=e.pop(),u=new wr,o=new wr;u.addTransition(Ea,l.start),u.addTransition(Ea,o),l.accept.addTransition(Ea,l.start),l.accept.addTransition(Ea,o),e.push(new Wi(u,o))}else if(n.value==="+"){const l=e.pop();new wr;const u=new wr;l.accept.addTransition(Ea,l.start),l.accept.addTransition(Ea,u),e.push(new Wi(l.start,u))}else if(n.value==="?"){const l=e.pop(),u=new wr,o=new wr;u.addTransition(Ea,l.start),u.addTransition(Ea,o),l.accept.addTransition(Ea,o),e.push(new Wi(u,o))}const a=e.pop();return a.accept.isAccepting=!0,a}function V2(t){const e=new Set,a=[],n=[],l=[t];for(;l.length>0;){const u=l.shift();if(!e.has(u.id)){e.add(u.id),a.push({data:{id:`q${u.id}`,label:`q${u.id}`}});for(const[o,f]of u.transitions.entries())for(const v of f)n.push({data:{source:`q${u.id}`,target:`q${v.id}`,label:o}}),e.has(v.id)||l.push(v)}}return{nodes:a,edges:n}}const Pm=({graph:t})=>{if(!t||!t.nodes||t.nodes.length===0)return null;const e=t.edges.map((a,n)=>({from:a.data.source,symbol:a.data.label,to:a.data.target,key:n}));return De.jsxs("div",{className:"mt-4",children:[De.jsx("h3",{className:"text-lg font-semibold mb-2",children:"NFA State Transitions:"}),De.jsxs("table",{className:"w-full border text-sm",children:[De.jsx("thead",{className:"bg-gray-100",children:De.jsxs("tr",{className:"bg-header text-white",children:[De.jsx("th",{className:"border px-2 py-1",children:"From"}),De.jsx("th",{className:"border px-2 py-1",children:"Symbol"}),De.jsx("th",{className:"border px-2 py-1",children:"To"})]})}),De.jsx("tbody",{children:e.map(a=>De.jsxs("tr",{className:"text-center bg-white",children:[De.jsx("td",{className:"border px-2 py-1",children:a.from}),De.jsx("td",{className:"border px-2 py-1",children:a.symbol}),De.jsx("td",{className:"border px-2 py-1",children:a.to})]},a.key))})]})]})};function rh(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}function H2(t){if(Array.isArray(t))return t}function G2(t){if(Array.isArray(t))return rh(t)}function _n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y2(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b1(n.key),n)}}function qn(t,e,a){return e&&Y2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cr(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Sh(t))||e){a&&(t=a);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(v){throw v},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,o=!0,f=!1;return{s:function(){a=a.call(t)},n:function(){var v=a.next();return o=v.done,v},e:function(v){f=!0,u=v},f:function(){try{o||a.return==null||a.return()}finally{if(f)throw u}}}}function y1(t,e,a){return(e=b1(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function F2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I2(t,e){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,l,u,o,f=[],v=!0,c=!1;try{if(u=(a=a.call(t)).next,e===0){if(Object(a)!==a)return;v=!1}else for(;!(v=(n=u.call(a)).done)&&(f.push(n.value),f.length!==e);v=!0);}catch(h){c=!0,l=h}finally{try{if(!v&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw l}}return f}}function X2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ia(t,e){return H2(t)||I2(t,e)||Sh(t,e)||X2()}function m1(t){return G2(t)||F2(t)||Sh(t)||K2()}function Z2(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function b1(t){var e=Z2(t,"string");return typeof e=="symbol"?e:e+""}function Qt(t){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(t)}function Sh(t,e){if(t){if(typeof t=="string")return rh(t,e);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?rh(t,e):void 0}}var Kt=typeof window>"u"?null:window,Um=Kt?Kt.navigator:null;Kt&&Kt.document;var Q2=Qt(""),w1=Qt({}),j2=Qt(function(){}),$2=typeof HTMLElement>"u"?"undefined":Qt(HTMLElement),Xu=function(e){return e&&e.instanceString&&Bt(e.instanceString)?e.instanceString():null},Ue=function(e){return e!=null&&Qt(e)==Q2},Bt=function(e){return e!=null&&Qt(e)===j2},xt=function(e){return!Xa(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},it=function(e){return e!=null&&Qt(e)===w1&&!xt(e)&&e.constructor===Object},W2=function(e){return e!=null&&Qt(e)===w1},Re=function(e){return e!=null&&Qt(e)===Qt(1)&&!isNaN(e)},J2=function(e){return Re(e)&&Math.floor(e)===e},Ho=function(e){if($2!=="undefined")return e!=null&&e instanceof HTMLElement},Xa=function(e){return Ku(e)||x1(e)},Ku=function(e){return Xu(e)==="collection"&&e._private.single},x1=function(e){return Xu(e)==="collection"&&!e._private.single},Th=function(e){return Xu(e)==="core"},E1=function(e){return Xu(e)==="stylesheet"},eS=function(e){return Xu(e)==="event"},Mn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},tS=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},aS=function(e){return it(e)&&Re(e.x1)&&Re(e.x2)&&Re(e.y1)&&Re(e.y2)},rS=function(e){return W2(e)&&Bt(e.then)},nS=function(){return Um&&Um.userAgent.match(/msie|trident|edge/i)},gl=function(e,a){a||(a=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var u=[],o=0;o<arguments.length;o++)u.push(arguments[o]);return u.join("$")});var n=function(){var u=this,o=arguments,f,v=a.apply(u,o),c=n.cache;return(f=c[v])||(f=c[v]=e.apply(u,o)),f};return n.cache={},n},Ch=gl(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),ef=gl(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),S1=gl(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Vm=function(e){return Mn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Zt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",iS="rgb[a]?\\(("+Zt+"[%]?)\\s*,\\s*("+Zt+"[%]?)\\s*,\\s*("+Zt+"[%]?)(?:\\s*,\\s*("+Zt+"))?\\)",lS="rgb[a]?\\((?:"+Zt+"[%]?)\\s*,\\s*(?:"+Zt+"[%]?)\\s*,\\s*(?:"+Zt+"[%]?)(?:\\s*,\\s*(?:"+Zt+"))?\\)",uS="hsl[a]?\\(("+Zt+")\\s*,\\s*("+Zt+"[%])\\s*,\\s*("+Zt+"[%])(?:\\s*,\\s*("+Zt+"))?\\)",sS="hsl[a]?\\((?:"+Zt+")\\s*,\\s*(?:"+Zt+"[%])\\s*,\\s*(?:"+Zt+"[%])(?:\\s*,\\s*(?:"+Zt+"))?\\)",oS="\\#[0-9a-fA-F]{3}",fS="\\#[0-9a-fA-F]{6}",T1=function(e,a){return e<a?-1:e>a?1:0},cS=function(e,a){return-1*T1(e,a)},He=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,a=1;a<e.length;a++){var n=e[a];if(n!=null)for(var l=Object.keys(n),u=0;u<l.length;u++){var o=l[u];t[o]=n[o]}}return t},vS=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var a=e.length===4,n,l,u,o=16;return a?(n=parseInt(e[1]+e[1],o),l=parseInt(e[2]+e[2],o),u=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),l=parseInt(e[3]+e[4],o),u=parseInt(e[5]+e[6],o)),[n,l,u]}},dS=function(e){var a,n,l,u,o,f,v,c;function h(m,S,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?m+(S-m)*6*x:x<1/2?S:x<2/3?m+(S-m)*(2/3-x)*6:m}var g=new RegExp("^"+uS+"$").exec(e);if(g){if(n=parseInt(g[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,l=parseFloat(g[2]),l<0||l>100||(l=l/100,u=parseFloat(g[3]),u<0||u>100)||(u=u/100,o=g[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(l===0)f=v=c=Math.round(u*255);else{var y=u<.5?u*(1+l):u+l-u*l,w=2*u-y;f=Math.round(255*h(w,y,n+1/3)),v=Math.round(255*h(w,y,n)),c=Math.round(255*h(w,y,n-1/3))}a=[f,v,c,o]}return a},hS=function(e){var a,n=new RegExp("^"+iS+"$").exec(e);if(n){a=[];for(var l=[],u=1;u<=3;u++){var o=n[u];if(o[o.length-1]==="%"&&(l[u]=!0),o=parseFloat(o),l[u]&&(o=o/100*255),o<0||o>255)return;a.push(Math.floor(o))}var f=l[1]||l[2]||l[3],v=l[1]&&l[2]&&l[3];if(f&&!v)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;a.push(c)}}return a},gS=function(e){return pS[e.toLowerCase()]},C1=function(e){return(xt(e)?e:null)||gS(e)||vS(e)||hS(e)||dS(e)},pS={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},D1=function(e){for(var a=e.map,n=e.keys,l=n.length,u=0;u<l;u++){var o=n[u];if(it(o))throw Error("Tried to set map with object key");u<n.length-1?(a[o]==null&&(a[o]={}),a=a[o]):a[o]=e.value}},A1=function(e){for(var a=e.map,n=e.keys,l=n.length,u=0;u<l;u++){var o=n[u];if(it(o))throw Error("Tried to get map with object key");if(a=a[o],a==null)return a}return a},po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mv,Hm;function Qu(){if(Hm)return Mv;Hm=1;function t(e){var a=typeof e;return e!=null&&(a=="object"||a=="function")}return Mv=t,Mv}var Bv,Gm;function yS(){if(Gm)return Bv;Gm=1;var t=typeof po=="object"&&po&&po.Object===Object&&po;return Bv=t,Bv}var Ov,Ym;function tf(){if(Ym)return Ov;Ym=1;var t=yS(),e=typeof self=="object"&&self&&self.Object===Object&&self,a=t||e||Function("return this")();return Ov=a,Ov}var zv,Fm;function mS(){if(Fm)return zv;Fm=1;var t=tf(),e=function(){return t.Date.now()};return zv=e,zv}var Nv,Im;function bS(){if(Im)return Nv;Im=1;var t=/\s/;function e(a){for(var n=a.length;n--&&t.test(a.charAt(n)););return n}return Nv=e,Nv}var Lv,Xm;function wS(){if(Xm)return Lv;Xm=1;var t=bS(),e=/^\s+/;function a(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Lv=a,Lv}var kv,Km;function Dh(){if(Km)return kv;Km=1;var t=tf(),e=t.Symbol;return kv=e,kv}var _v,Zm;function xS(){if(Zm)return _v;Zm=1;var t=Dh(),e=Object.prototype,a=e.hasOwnProperty,n=e.toString,l=t?t.toStringTag:void 0;function u(o){var f=a.call(o,l),v=o[l];try{o[l]=void 0;var c=!0}catch{}var h=n.call(o);return c&&(f?o[l]=v:delete o[l]),h}return _v=u,_v}var qv,Qm;function ES(){if(Qm)return qv;Qm=1;var t=Object.prototype,e=t.toString;function a(n){return e.call(n)}return qv=a,qv}var Pv,jm;function R1(){if(jm)return Pv;jm=1;var t=Dh(),e=xS(),a=ES(),n="[object Null]",l="[object Undefined]",u=t?t.toStringTag:void 0;function o(f){return f==null?f===void 0?l:n:u&&u in Object(f)?e(f):a(f)}return Pv=o,Pv}var Uv,$m;function SS(){if($m)return Uv;$m=1;function t(e){return e!=null&&typeof e=="object"}return Uv=t,Uv}var Vv,Wm;function ju(){if(Wm)return Vv;Wm=1;var t=R1(),e=SS(),a="[object Symbol]";function n(l){return typeof l=="symbol"||e(l)&&t(l)==a}return Vv=n,Vv}var Hv,Jm;function TS(){if(Jm)return Hv;Jm=1;var t=wS(),e=Qu(),a=ju(),n=NaN,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,o=/^0o[0-7]+$/i,f=parseInt;function v(c){if(typeof c=="number")return c;if(a(c))return n;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var g=u.test(c);return g||o.test(c)?f(c.slice(2),g?2:8):l.test(c)?n:+c}return Hv=v,Hv}var Gv,e0;function CS(){if(e0)return Gv;e0=1;var t=Qu(),e=mS(),a=TS(),n="Expected a function",l=Math.max,u=Math.min;function o(f,v,c){var h,g,y,w,m,S,x=0,E=!1,T=!1,C=!0;if(typeof f!="function")throw new TypeError(n);v=a(v)||0,t(c)&&(E=!!c.leading,T="maxWait"in c,y=T?l(a(c.maxWait)||0,v):y,C="trailing"in c?!!c.trailing:C);function D(P){var Y=h,I=g;return h=g=void 0,x=P,w=f.apply(I,Y),w}function R(P){return x=P,m=setTimeout(z,v),E?D(P):w}function B(P){var Y=P-S,I=P-x,k=v-Y;return T?u(k,y-I):k}function M(P){var Y=P-S,I=P-x;return S===void 0||Y>=v||Y<0||T&&I>=y}function z(){var P=e();if(M(P))return L(P);m=setTimeout(z,B(P))}function L(P){return m=void 0,C&&h?D(P):(h=g=void 0,w)}function U(){m!==void 0&&clearTimeout(m),x=0,h=S=g=m=void 0}function _(){return m===void 0?w:L(e())}function V(){var P=e(),Y=M(P);if(h=arguments,g=this,S=P,Y){if(m===void 0)return R(S);if(T)return clearTimeout(m),m=setTimeout(z,v),D(S)}return m===void 0&&(m=setTimeout(z,v)),w}return V.cancel=U,V.flush=_,V}return Gv=o,Gv}var DS=CS(),$u=Zu(DS),Yv=Kt?Kt.performance:null,M1=Yv&&Yv.now?function(){return Yv.now()}:function(){return Date.now()},AS=function(){if(Kt){if(Kt.requestAnimationFrame)return function(t){Kt.requestAnimationFrame(t)};if(Kt.mozRequestAnimationFrame)return function(t){Kt.mozRequestAnimationFrame(t)};if(Kt.webkitRequestAnimationFrame)return function(t){Kt.webkitRequestAnimationFrame(t)};if(Kt.msRequestAnimationFrame)return function(t){Kt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(M1())},1e3/60)}}(),Go=function(e){return AS(e)},Xr=M1,ul=9261,B1=65599,Mu=5381,O1=function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ul,n=a,l;l=e.next(),!l.done;)n=n*B1+l.value|0;return n},_u=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ul;return a*B1+e|0},qu=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mu;return(a<<5)+a+e|0},RS=function(e,a){return e*2097152+a},En=function(e){return e[0]*2097152+e[1]},yo=function(e,a){return[_u(e[0],a[0]),qu(e[1],a[1])]},t0=function(e,a){var n={value:0,done:!1},l=0,u=e.length,o={next:function(){return l<u?n.value=e[l++]:n.done=!0,n}};return O1(o,a)},Bn=function(e,a){var n={value:0,done:!1},l=0,u=e.length,o={next:function(){return l<u?n.value=e.charCodeAt(l++):n.done=!0,n}};return O1(o,a)},z1=function(){return MS(arguments)},MS=function(e){for(var a,n=0;n<e.length;n++){var l=e[n];n===0?a=Bn(l):a=Bn(l,a)}return a},a0=!0,BS=console.warn!=null,OS=console.trace!=null,Ah=Number.MAX_SAFE_INTEGER||9007199254740991,N1=function(){return!0},Yo=function(){return!1},r0=function(){return 0},Rh=function(){},Mt=function(e){throw new Error(e)},L1=function(e){if(e!==void 0)a0=!!e;else return a0},ct=function(e){L1()&&(BS?console.warn(e):(console.log(e),OS&&console.trace()))},zS=function(e){return He({},e)},Sr=function(e){return e==null?e:xt(e)?e.slice():it(e)?zS(e):e},NS=function(e){return e.slice()},k1=function(e,a){for(a=e="";e++<36;a+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return a},LS={},_1=function(){return LS},jt=function(e){var a=Object.keys(e);return function(n){for(var l={},u=0;u<a.length;u++){var o=a[u],f=n==null?void 0:n[o];l[o]=f===void 0?e[o]:f}return l}},On=function(e,a,n){for(var l=e.length-1;l>=0;l--)e[l]===a&&e.splice(l,1)},Mh=function(e){e.splice(0,e.length)},kS=function(e,a){for(var n=0;n<a.length;n++){var l=a[n];e.push(l)}},nr=function(e,a,n){return n&&(a=S1(n,a)),e[a]},Fr=function(e,a,n,l){n&&(a=S1(n,a)),e[a]=l},_S=function(){function t(){_n(this,t),this._obj={}}return qn(t,[{key:"set",value:function(a,n){return this._obj[a]=n,this}},{key:"delete",value:function(a){return this._obj[a]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(a){return this._obj[a]!==void 0}},{key:"get",value:function(a){return this._obj[a]}}])}(),Ir=typeof Map<"u"?Map:_S,qS="undefined",PS=function(){function t(e){if(_n(this,t),this._obj=Object.create(null),this.size=0,e!=null){var a;e.instanceString!=null&&e.instanceString()===this.instanceString()?a=e.toArray():a=e;for(var n=0;n<a.length;n++)this.add(a[n])}}return qn(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(a){var n=this._obj;n[a]!==1&&(n[a]=1,this.size++)}},{key:"delete",value:function(a){var n=this._obj;n[a]===1&&(n[a]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(a){return this._obj[a]===1}},{key:"toArray",value:function(){var a=this;return Object.keys(this._obj).filter(function(n){return a.has(n)})}},{key:"forEach",value:function(a,n){return this.toArray().forEach(a,n)}}])}(),bl=(typeof Set>"u"?"undefined":Qt(Set))!==qS?Set:PS,af=function(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||a===void 0||!Th(e)){Mt("An element must have a core reference and parameters set");return}var l=a.group;if(l==null&&(a.data&&a.data.source!=null&&a.data.target!=null?l="edges":l="nodes"),l!=="nodes"&&l!=="edges"){Mt("An element must be of type `nodes` or `edges`; you specified `"+l+"`");return}this.length=1,this[0]=this;var u=this._private={cy:e,single:!0,data:a.data||{},position:a.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:l,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!a.selected,selectable:a.selectable===void 0?!0:!!a.selectable,locked:!!a.locked,grabbed:!1,grabbable:a.grabbable===void 0?!0:!!a.grabbable,pannable:a.pannable===void 0?l==="edges":!!a.pannable,active:!1,classes:new bl,animation:{current:[],queue:[]},rscratch:{},scratch:a.scratch||{},edges:[],children:[],parent:a.parent&&a.parent.isNode()?a.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(u.position.x==null&&(u.position.x=0),u.position.y==null&&(u.position.y=0),a.renderedPosition){var o=a.renderedPosition,f=e.pan(),v=e.zoom();u.position={x:(o.x-f.x)/v,y:(o.y-f.y)/v}}var c=[];xt(a.classes)?c=a.classes:Ue(a.classes)&&(c=a.classes.split(/\s+/));for(var h=0,g=c.length;h<g;h++){var y=c[h];!y||y===""||u.classes.add(y)}this.createEmitter(),(n===void 0||n)&&this.restore();var w=a.style||a.css;w&&(ct("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(w))},n0=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,l,u){var o;it(n)&&!Xa(n)&&(o=n,n=o.roots||o.root,l=o.visit,u=o.directed),u=arguments.length===2&&!Bt(l)?l:u,l=Bt(l)?l:function(){};for(var f=this._private.cy,v=n=Ue(n)?this.filter(n):n,c=[],h=[],g={},y={},w={},m=0,S,x=this.byGroup(),E=x.nodes,T=x.edges,C=0;C<v.length;C++){var D=v[C],R=D.id();D.isNode()&&(c.unshift(D),e.bfs&&(w[R]=!0,h.push(D)),y[R]=0)}for(var B=function(){var P=e.bfs?c.shift():c.pop(),Y=P.id();if(e.dfs){if(w[Y])return 0;w[Y]=!0,h.push(P)}var I=y[Y],k=g[Y],H=k!=null?k.source():null,F=k!=null?k.target():null,j=k==null?void 0:P.same(H)?F[0]:H[0],O;if(O=l(P,k,j,m++,I),O===!0)return S=P,1;if(O===!1)return 1;for(var G=P.connectedEdges().filter(function(ae){return(!u||ae.source().same(P))&&T.has(ae)}),K=0;K<G.length;K++){var Z=G[K],W=Z.connectedNodes().filter(function(ae){return!ae.same(P)&&E.has(ae)}),ee=W.id();W.length!==0&&!w[ee]&&(W=W[0],c.push(W),e.bfs&&(w[ee]=!0,h.push(W)),g[ee]=Z,y[ee]=y[Y]+1)}},M;c.length!==0&&(M=B(),!(M!==0&&M===1)););for(var z=f.collection(),L=0;L<h.length;L++){var U=h[L],_=g[U.id()];_!=null&&z.push(_),z.push(U)}return{path:f.collection(z),found:f.collection(S)}}},Pu={breadthFirstSearch:n0({bfs:!0}),depthFirstSearch:n0({dfs:!0})};Pu.bfs=Pu.breadthFirstSearch;Pu.dfs=Pu.depthFirstSearch;var Mo={exports:{}},US=Mo.exports,i0;function VS(){return i0||(i0=1,function(t,e){(function(){var a,n,l,u,o,f,v,c,h,g,y,w,m,S,x;l=Math.floor,g=Math.min,n=function(E,T){return E<T?-1:E>T?1:0},h=function(E,T,C,D,R){var B;if(C==null&&(C=0),R==null&&(R=n),C<0)throw new Error("lo must be non-negative");for(D==null&&(D=E.length);C<D;)B=l((C+D)/2),R(T,E[B])<0?D=B:C=B+1;return[].splice.apply(E,[C,C-C].concat(T)),T},f=function(E,T,C){return C==null&&(C=n),E.push(T),S(E,0,E.length-1,C)},o=function(E,T){var C,D;return T==null&&(T=n),C=E.pop(),E.length?(D=E[0],E[0]=C,x(E,0,T)):D=C,D},c=function(E,T,C){var D;return C==null&&(C=n),D=E[0],E[0]=T,x(E,0,C),D},v=function(E,T,C){var D;return C==null&&(C=n),E.length&&C(E[0],T)<0&&(D=[E[0],T],T=D[0],E[0]=D[1],x(E,0,C)),T},u=function(E,T){var C,D,R,B,M,z;for(T==null&&(T=n),B=(function(){z=[];for(var L=0,U=l(E.length/2);0<=U?L<U:L>U;0<=U?L++:L--)z.push(L);return z}).apply(this).reverse(),M=[],D=0,R=B.length;D<R;D++)C=B[D],M.push(x(E,C,T));return M},m=function(E,T,C){var D;if(C==null&&(C=n),D=E.indexOf(T),D!==-1)return S(E,0,D,C),x(E,D,C)},y=function(E,T,C){var D,R,B,M,z;if(C==null&&(C=n),R=E.slice(0,T),!R.length)return R;for(u(R,C),z=E.slice(T),B=0,M=z.length;B<M;B++)D=z[B],v(R,D,C);return R.sort(C).reverse()},w=function(E,T,C){var D,R,B,M,z,L,U,_,V;if(C==null&&(C=n),T*10<=E.length){if(B=E.slice(0,T).sort(C),!B.length)return B;for(R=B[B.length-1],U=E.slice(T),M=0,L=U.length;M<L;M++)D=U[M],C(D,R)<0&&(h(B,D,0,null,C),B.pop(),R=B[B.length-1]);return B}for(u(E,C),V=[],z=0,_=g(T,E.length);0<=_?z<_:z>_;0<=_?++z:--z)V.push(o(E,C));return V},S=function(E,T,C,D){var R,B,M;for(D==null&&(D=n),R=E[C];C>T;){if(M=C-1>>1,B=E[M],D(R,B)<0){E[C]=B,C=M;continue}break}return E[C]=R},x=function(E,T,C){var D,R,B,M,z;for(C==null&&(C=n),R=E.length,z=T,B=E[T],D=2*T+1;D<R;)M=D+1,M<R&&!(C(E[D],E[M])<0)&&(D=M),E[T]=E[D],T=D,D=2*T+1;return E[T]=B,S(E,z,T,C)},a=function(){E.push=f,E.pop=o,E.replace=c,E.pushpop=v,E.heapify=u,E.updateItem=m,E.nlargest=y,E.nsmallest=w;function E(T){this.cmp=T??n,this.nodes=[]}return E.prototype.push=function(T){return f(this.nodes,T,this.cmp)},E.prototype.pop=function(){return o(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(T){return this.nodes.indexOf(T)!==-1},E.prototype.replace=function(T){return c(this.nodes,T,this.cmp)},E.prototype.pushpop=function(T){return v(this.nodes,T,this.cmp)},E.prototype.heapify=function(){return u(this.nodes,this.cmp)},E.prototype.updateItem=function(T){return m(this.nodes,T,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var T;return T=new E,T.nodes=this.nodes.slice(0),T},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E}(),function(E,T){return t.exports=T()}(this,function(){return a})}).call(US)}(Mo)),Mo.exports}var Fv,l0;function HS(){return l0||(l0=1,Fv=VS()),Fv}var GS=HS(),Wu=Zu(GS),YS=jt({root:null,weight:function(e){return 1},directed:!1}),FS={dijkstra:function(e){if(!it(e)){var a=arguments;e={root:a[0],weight:a[1],directed:a[2]}}var n=YS(e),l=n.root,u=n.weight,o=n.directed,f=this,v=u,c=Ue(l)?this.filter(l)[0]:l[0],h={},g={},y={},w=this.byGroup(),m=w.nodes,S=w.edges;S.unmergeBy(function(I){return I.isLoop()});for(var x=function(k){return h[k.id()]},E=function(k,H){h[k.id()]=H,T.updateItem(k)},T=new Wu(function(I,k){return x(I)-x(k)}),C=0;C<m.length;C++){var D=m[C];h[D.id()]=D.same(c)?0:1/0,T.push(D)}for(var R=function(k,H){for(var F=(o?k.edgesTo(H):k.edgesWith(H)).intersect(S),j=1/0,O,G=0;G<F.length;G++){var K=F[G],Z=v(K);(Z<j||!O)&&(j=Z,O=K)}return{edge:O,dist:j}};T.size()>0;){var B=T.pop(),M=x(B),z=B.id();if(y[z]=M,M!==1/0)for(var L=B.neighborhood().intersect(m),U=0;U<L.length;U++){var _=L[U],V=_.id(),P=R(B,_),Y=M+P.dist;Y<x(_)&&(E(_,Y),g[V]={node:B,edge:P.edge})}}return{distanceTo:function(k){var H=Ue(k)?m.filter(k)[0]:k[0];return y[H.id()]},pathTo:function(k){var H=Ue(k)?m.filter(k)[0]:k[0],F=[],j=H,O=j.id();if(H.length>0)for(F.unshift(H);g[O];){var G=g[O];F.unshift(G.edge),F.unshift(G.node),j=G.node,O=j.id()}return f.spawn(F)}}}},IS={kruskal:function(e){e=e||function(C){return 1};for(var a=this.byGroup(),n=a.nodes,l=a.edges,u=n.length,o=new Array(u),f=n,v=function(D){for(var R=0;R<o.length;R++){var B=o[R];if(B.has(D))return R}},c=0;c<u;c++)o[c]=this.spawn(n[c]);for(var h=l.sort(function(C,D){return e(C)-e(D)}),g=0;g<h.length;g++){var y=h[g],w=y.source()[0],m=y.target()[0],S=v(w),x=v(m),E=o[S],T=o[x];S!==x&&(f.merge(y),E.merge(T),o.splice(x,1))}return f}},XS=jt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),KS={aStar:function(e){var a=this.cy(),n=XS(e),l=n.root,u=n.goal,o=n.heuristic,f=n.directed,v=n.weight;l=a.collection(l)[0],u=a.collection(u)[0];var c=l.id(),h=u.id(),g={},y={},w={},m=new Wu(function(O,G){return y[O.id()]-y[G.id()]}),S=new bl,x={},E={},T=function(G,K){m.push(G),S.add(K)},C,D,R=function(){C=m.pop(),D=C.id(),S.delete(D)},B=function(G){return S.has(G)};T(l,c),g[c]=0,y[c]=o(l);for(var M=0;m.size()>0;){if(R(),M++,D===h){for(var z=[],L=u,U=h,_=E[U];z.unshift(L),_!=null&&z.unshift(_),L=x[U],L!=null;)U=L.id(),_=E[U];return{found:!0,distance:g[D],path:this.spawn(z),steps:M}}w[D]=!0;for(var V=C._private.edges,P=0;P<V.length;P++){var Y=V[P];if(this.hasElementWithId(Y.id())&&!(f&&Y.data("source")!==D)){var I=Y.source(),k=Y.target(),H=I.id()!==D?I:k,F=H.id();if(this.hasElementWithId(F)&&!w[F]){var j=g[D]+v(Y);if(!B(F)){g[F]=j,y[F]=j+o(H),T(H,F),x[F]=C,E[F]=Y;continue}j<g[F]&&(g[F]=j,y[F]=j+o(H),x[F]=C,E[F]=Y)}}}}return{found:!1,distance:void 0,path:void 0,steps:M}}},ZS=jt({weight:function(e){return 1},directed:!1}),QS={floydWarshall:function(e){for(var a=this.cy(),n=ZS(e),l=n.weight,u=n.directed,o=l,f=this.byGroup(),v=f.nodes,c=f.edges,h=v.length,g=h*h,y=function(Z){return v.indexOf(Z)},w=function(Z){return v[Z]},m=new Array(g),S=0;S<g;S++){var x=S%h,E=(S-x)/h;E===x?m[S]=0:m[S]=1/0}for(var T=new Array(g),C=new Array(g),D=0;D<c.length;D++){var R=c[D],B=R.source()[0],M=R.target()[0];if(B!==M){var z=y(B),L=y(M),U=z*h+L,_=o(R);if(m[U]>_&&(m[U]=_,T[U]=L,C[U]=R),!u){var V=L*h+z;!u&&m[V]>_&&(m[V]=_,T[V]=z,C[V]=R)}}}for(var P=0;P<h;P++)for(var Y=0;Y<h;Y++)for(var I=Y*h+P,k=0;k<h;k++){var H=Y*h+k,F=P*h+k;m[I]+m[F]<m[H]&&(m[H]=m[I]+m[F],T[H]=T[I])}var j=function(Z){return(Ue(Z)?a.filter(Z):Z)[0]},O=function(Z){return y(j(Z))},G={distance:function(Z,W){var ee=O(Z),ae=O(W);return m[ee*h+ae]},path:function(Z,W){var ee=O(Z),ae=O(W),de=w(ee);if(ee===ae)return de.collection();if(T[ee*h+ae]==null)return a.collection();var fe=a.collection(),ie=ee,$;for(fe.merge(de);ee!==ae;)ie=ee,ee=T[ee*h+ae],$=C[ie*h+ee],fe.merge($),fe.merge(w(ee));return fe}};return G}},jS=jt({weight:function(e){return 1},directed:!1,root:null}),$S={bellmanFord:function(e){var a=this,n=jS(e),l=n.weight,u=n.directed,o=n.root,f=l,v=this,c=this.cy(),h=this.byGroup(),g=h.edges,y=h.nodes,w=y.length,m=new Ir,S=!1,x=[];o=c.collection(o)[0],g.unmergeBy(function(be){return be.isLoop()});for(var E=g.length,T=function(xe){var Te=m.get(xe.id());return Te||(Te={},m.set(xe.id(),Te)),Te},C=function(xe){return(Ue(xe)?c.$(xe):xe)[0]},D=function(xe){return T(C(xe)).dist},R=function(xe){for(var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,Ne=C(xe),qe=[],ke=Ne;;){if(ke==null)return a.spawn();var Fe=T(ke),Qe=Fe.edge,$e=Fe.pred;if(qe.unshift(ke[0]),ke.same(Te)&&qe.length>0)break;Qe!=null&&qe.unshift(Qe),ke=$e}return v.spawn(qe)},B=0;B<w;B++){var M=y[B],z=T(M);M.same(o)?z.dist=0:z.dist=1/0,z.pred=null,z.edge=null}for(var L=!1,U=function(xe,Te,Ne,qe,ke,Fe){var Qe=qe.dist+Fe;Qe<ke.dist&&!Ne.same(qe.edge)&&(ke.dist=Qe,ke.pred=xe,ke.edge=Ne,L=!0)},_=1;_<w;_++){L=!1;for(var V=0;V<E;V++){var P=g[V],Y=P.source(),I=P.target(),k=f(P),H=T(Y),F=T(I);U(Y,I,P,H,F,k),u||U(I,Y,P,F,H,k)}if(!L)break}if(L)for(var j=[],O=0;O<E;O++){var G=g[O],K=G.source(),Z=G.target(),W=f(G),ee=T(K).dist,ae=T(Z).dist;if(ee+W<ae||!u&&ae+W<ee)if(S||(ct("Graph contains a negative weight cycle for Bellman-Ford"),S=!0),e.findNegativeWeightCycles!==!1){var de=[];ee+W<ae&&de.push(K),!u&&ae+W<ee&&de.push(Z);for(var fe=de.length,ie=0;ie<fe;ie++){var $=de[ie],ue=[$];ue.push(T($).edge);for(var ge=T($).pred;ue.indexOf(ge)===-1;)ue.push(ge),ue.push(T(ge).edge),ge=T(ge).pred;ue=ue.slice(ue.indexOf(ge));for(var Se=ue[0].id(),Me=0,_e=2;_e<ue.length;_e+=2)ue[_e].id()<Se&&(Se=ue[_e].id(),Me=_e);ue=ue.slice(Me).concat(ue.slice(0,Me)),ue.push(ue[0]);var he=ue.map(function(be){return be.id()}).join(",");j.indexOf(he)===-1&&(x.push(v.spawn(ue)),j.push(he))}}else break}return{distanceTo:D,pathTo:R,hasNegativeWeightCycle:S,negativeWeightCycles:x}}},WS=Math.sqrt(2),JS=function(e,a,n){n.length===0&&Mt("Karger-Stein must be run on a connected (sub)graph");for(var l=n[e],u=l[1],o=l[2],f=a[u],v=a[o],c=n,h=c.length-1;h>=0;h--){var g=c[h],y=g[1],w=g[2];(a[y]===f&&a[w]===v||a[y]===v&&a[w]===f)&&c.splice(h,1)}for(var m=0;m<c.length;m++){var S=c[m];S[1]===v?(c[m]=S.slice(),c[m][1]=f):S[2]===v&&(c[m]=S.slice(),c[m][2]=f)}for(var x=0;x<a.length;x++)a[x]===v&&(a[x]=f);return c},Iv=function(e,a,n,l){for(;n>l;){var u=Math.floor(Math.random()*a.length);a=JS(u,e,a),n--}return a},eT={kargerStein:function(){var e=this,a=this.byGroup(),n=a.nodes,l=a.edges;l.unmergeBy(function(F){return F.isLoop()});var u=n.length,o=l.length,f=Math.ceil(Math.pow(Math.log(u)/Math.LN2,2)),v=Math.floor(u/WS);if(u<2){Mt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],h=0;h<o;h++){var g=l[h];c.push([h,n.indexOf(g.source()),n.indexOf(g.target())])}for(var y=1/0,w=[],m=new Array(u),S=new Array(u),x=new Array(u),E=function(j,O){for(var G=0;G<u;G++)O[G]=j[G]},T=0;T<=f;T++){for(var C=0;C<u;C++)S[C]=C;var D=Iv(S,c.slice(),u,v),R=D.slice();E(S,x);var B=Iv(S,D,v,2),M=Iv(x,R,v,2);B.length<=M.length&&B.length<y?(y=B.length,w=B,E(S,m)):M.length<=B.length&&M.length<y&&(y=M.length,w=M,E(x,m))}for(var z=this.spawn(w.map(function(F){return l[F[0]]})),L=this.spawn(),U=this.spawn(),_=m[0],V=0;V<m.length;V++){var P=m[V],Y=n[V];P===_?L.merge(Y):U.merge(Y)}var I=function(j){var O=e.spawn();return j.forEach(function(G){O.merge(G),G.connectedEdges().forEach(function(K){e.contains(K)&&!z.contains(K)&&O.merge(K)})}),O},k=[I(L),I(U)],H={cut:z,components:k,partition1:L,partition2:U};return H}},tT=function(e){return{x:e.x,y:e.y}},rf=function(e,a,n){return{x:e.x*a+n.x,y:e.y*a+n.y}},q1=function(e,a,n){return{x:(e.x-n.x)/a,y:(e.y-n.y)/a}},sl=function(e){return{x:e[0],y:e[1]}},aT=function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=1/0,u=a;u<n;u++){var o=e[u];isFinite(o)&&(l=Math.min(o,l))}return l},rT=function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=-1/0,u=a;u<n;u++){var o=e[u];isFinite(o)&&(l=Math.max(o,l))}return l},nT=function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=0,u=0,o=a;o<n;o++){var f=e[o];isFinite(f)&&(l+=f,u++)}return l/u},iT=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;l?e=e.slice(a,n):(n<e.length&&e.splice(n,e.length-n),a>0&&e.splice(0,a));for(var f=0,v=e.length-1;v>=0;v--){var c=e[v];o?isFinite(c)||(e[v]=-1/0,f++):e.splice(v,1)}u&&e.sort(function(y,w){return y-w});var h=e.length,g=Math.floor(h/2);return h%2!==0?e[g+1+f]:(e[g-1+f]+e[g+f])/2},lT=function(e){return Math.PI*e/180},mo=function(e,a){return Math.atan2(a,e)-Math.PI/2},Bh=Math.log2||function(t){return Math.log(t)/Math.log(2)},P1=function(e){return e>0?1:e<0?-1:0},fi=function(e,a){return Math.sqrt(ii(e,a))},ii=function(e,a){var n=a.x-e.x,l=a.y-e.y;return n*n+l*l},uT=function(e){for(var a=e.length,n=0,l=0;l<a;l++)n+=e[l];for(var u=0;u<a;u++)e[u]=e[u]/n;return e},na=function(e,a,n,l){return(1-l)*(1-l)*e+2*(1-l)*l*a+l*l*n},cl=function(e,a,n,l){return{x:na(e.x,a.x,n.x,l),y:na(e.y,a.y,n.y,l)}},sT=function(e,a,n,l){var u={x:a.x-e.x,y:a.y-e.y},o=fi(e,a),f={x:u.x/o,y:u.y/o};return n=n??0,l=l??n*o,{x:e.x+f.x*l,y:e.y+f.y*l}},Uu=function(e,a,n){return Math.max(e,Math.min(n,a))},_a=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},oT=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},fT=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},cT=function(e,a,n){return{x1:e.x1+a,x2:e.x2+a,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},U1=function(e,a){e.x1=Math.min(e.x1,a.x1),e.x2=Math.max(e.x2,a.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,a.y1),e.y2=Math.max(e.y2,a.y2),e.h=e.y2-e.y1},vT=function(e,a,n){e.x1=Math.min(e.x1,a),e.x2=Math.max(e.x2,a),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Bo=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=a,e.x2+=a,e.y1-=a,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Oo=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,l,u,o;if(a.length===1)n=l=u=o=a[0];else if(a.length===2)n=u=a[0],o=l=a[1];else if(a.length===4){var f=ia(a,4);n=f[0],l=f[1],u=f[2],o=f[3]}return e.x1-=o,e.x2+=l,e.y1-=n,e.y2+=u,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},u0=function(e,a){e.x1=a.x1,e.y1=a.y1,e.x2=a.x2,e.y2=a.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Oh=function(e,a){return!(e.x1>a.x2||a.x1>e.x2||e.x2<a.x1||a.x2<e.x1||e.y2<a.y1||a.y2<e.y1||e.y1>a.y2||a.y1>e.y2)},pl=function(e,a,n){return e.x1<=a&&a<=e.x2&&e.y1<=n&&n<=e.y2},dT=function(e,a){return pl(e,a.x,a.y)},V1=function(e,a){return pl(e,a.x1,a.y1)&&pl(e,a.x2,a.y2)},H1=function(e,a,n,l,u,o,f){var v=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=v==="auto"?ci(u,o):v,h=u/2,g=o/2;c=Math.min(c,h,g);var y=c!==h,w=c!==g,m;if(y){var S=n-h+c-f,x=l-g-f,E=n+h-c+f,T=x;if(m=Dn(e,a,n,l,S,x,E,T,!1),m.length>0)return m}if(w){var C=n+h+f,D=l-g+c-f,R=C,B=l+g-c+f;if(m=Dn(e,a,n,l,C,D,R,B,!1),m.length>0)return m}if(y){var M=n-h+c-f,z=l+g+f,L=n+h-c+f,U=z;if(m=Dn(e,a,n,l,M,z,L,U,!1),m.length>0)return m}if(w){var _=n-h-f,V=l-g+c-f,P=_,Y=l+g-c+f;if(m=Dn(e,a,n,l,_,V,P,Y,!1),m.length>0)return m}var I;{var k=n-h+c,H=l-g+c;if(I=Bu(e,a,n,l,k,H,c+f),I.length>0&&I[0]<=k&&I[1]<=H)return[I[0],I[1]]}{var F=n+h-c,j=l-g+c;if(I=Bu(e,a,n,l,F,j,c+f),I.length>0&&I[0]>=F&&I[1]<=j)return[I[0],I[1]]}{var O=n+h-c,G=l+g-c;if(I=Bu(e,a,n,l,O,G,c+f),I.length>0&&I[0]>=O&&I[1]>=G)return[I[0],I[1]]}{var K=n-h+c,Z=l+g-c;if(I=Bu(e,a,n,l,K,Z,c+f),I.length>0&&I[0]<=K&&I[1]>=Z)return[I[0],I[1]]}return[]},hT=function(e,a,n,l,u,o,f){var v=f,c=Math.min(n,u),h=Math.max(n,u),g=Math.min(l,o),y=Math.max(l,o);return c-v<=e&&e<=h+v&&g-v<=a&&a<=y+v},gT=function(e,a,n,l,u,o,f,v,c){var h={x1:Math.min(n,f,u)-c,x2:Math.max(n,f,u)+c,y1:Math.min(l,v,o)-c,y2:Math.max(l,v,o)+c};return!(e<h.x1||e>h.x2||a<h.y1||a>h.y2)},pT=function(e,a,n,l){n-=l;var u=a*a-4*e*n;if(u<0)return[];var o=Math.sqrt(u),f=2*e,v=(-a+o)/f,c=(-a-o)/f;return[v,c]},yT=function(e,a,n,l,u){var o=1e-5;e===0&&(e=o),a/=e,n/=e,l/=e;var f,v,c,h,g,y,w,m;if(v=(3*n-a*a)/9,c=-(27*l)+a*(9*n-2*(a*a)),c/=54,f=v*v*v+c*c,u[1]=0,w=a/3,f>0){g=c+Math.sqrt(f),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),y=c-Math.sqrt(f),y=y<0?-Math.pow(-y,1/3):Math.pow(y,1/3),u[0]=-w+g+y,w+=(g+y)/2,u[4]=u[2]=-w,w=Math.sqrt(3)*(-y+g)/2,u[3]=w,u[5]=-w;return}if(u[5]=u[3]=0,f===0){m=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),u[0]=-w+2*m,u[4]=u[2]=-(m+w);return}v=-v,h=v*v*v,h=Math.acos(c/Math.sqrt(h)),m=2*Math.sqrt(v),u[0]=-w+m*Math.cos(h/3),u[2]=-w+m*Math.cos((h+2*Math.PI)/3),u[4]=-w+m*Math.cos((h+4*Math.PI)/3)},mT=function(e,a,n,l,u,o,f,v){var c=1*n*n-4*n*u+2*n*f+4*u*u-4*u*f+f*f+l*l-4*l*o+2*l*v+4*o*o-4*o*v+v*v,h=1*9*n*u-3*n*n-3*n*f-6*u*u+3*u*f+9*l*o-3*l*l-3*l*v-6*o*o+3*o*v,g=1*3*n*n-6*n*u+n*f-n*e+2*u*u+2*u*e-f*e+3*l*l-6*l*o+l*v-l*a+2*o*o+2*o*a-v*a,y=1*n*u-n*n+n*e-u*e+l*o-l*l+l*a-o*a,w=[];yT(c,h,g,y,w);for(var m=1e-7,S=[],x=0;x<6;x+=2)Math.abs(w[x+1])<m&&w[x]>=0&&w[x]<=1&&S.push(w[x]);S.push(1),S.push(0);for(var E=-1,T,C,D,R=0;R<S.length;R++)T=Math.pow(1-S[R],2)*n+2*(1-S[R])*S[R]*u+S[R]*S[R]*f,C=Math.pow(1-S[R],2)*l+2*(1-S[R])*S[R]*o+S[R]*S[R]*v,D=Math.pow(T-e,2)+Math.pow(C-a,2),E>=0?D<E&&(E=D):E=D;return E},bT=function(e,a,n,l,u,o){var f=[e-n,a-l],v=[u-n,o-l],c=v[0]*v[0]+v[1]*v[1],h=f[0]*f[0]+f[1]*f[1],g=f[0]*v[0]+f[1]*v[1],y=g*g/c;return g<0?h:y>c?(e-u)*(e-u)+(a-o)*(a-o):h-y},ka=function(e,a,n){for(var l,u,o,f,v,c=0,h=0;h<n.length/2;h++)if(l=n[h*2],u=n[h*2+1],h+1<n.length/2?(o=n[(h+1)*2],f=n[(h+1)*2+1]):(o=n[(h+1-n.length/2)*2],f=n[(h+1-n.length/2)*2+1]),!(l==e&&o==e))if(l>=e&&e>=o||l<=e&&e<=o)v=(e-l)/(o-l)*(f-u)+u,v>a&&c++;else continue;return c%2!==0},Kr=function(e,a,n,l,u,o,f,v,c){var h=new Array(n.length),g;v[0]!=null?(g=Math.atan(v[1]/v[0]),v[0]<0?g=g+Math.PI/2:g=-g-Math.PI/2):g=v;for(var y=Math.cos(-g),w=Math.sin(-g),m=0;m<h.length/2;m++)h[m*2]=o/2*(n[m*2]*y-n[m*2+1]*w),h[m*2+1]=f/2*(n[m*2+1]*y+n[m*2]*w),h[m*2]+=l,h[m*2+1]+=u;var S;if(c>0){var x=Io(h,-c);S=Fo(x)}else S=h;return ka(e,a,S)},wT=function(e,a,n,l,u,o,f,v){for(var c=new Array(n.length*2),h=0;h<v.length;h++){var g=v[h];c[h*4+0]=g.startX,c[h*4+1]=g.startY,c[h*4+2]=g.stopX,c[h*4+3]=g.stopY;var y=Math.pow(g.cx-e,2)+Math.pow(g.cy-a,2);if(y<=Math.pow(g.radius,2))return!0}return ka(e,a,c)},Fo=function(e){for(var a=new Array(e.length/2),n,l,u,o,f,v,c,h,g=0;g<e.length/4;g++){n=e[g*4],l=e[g*4+1],u=e[g*4+2],o=e[g*4+3],g<e.length/4-1?(f=e[(g+1)*4],v=e[(g+1)*4+1],c=e[(g+1)*4+2],h=e[(g+1)*4+3]):(f=e[0],v=e[1],c=e[2],h=e[3]);var y=Dn(n,l,u,o,f,v,c,h,!0);a[g*2]=y[0],a[g*2+1]=y[1]}return a},Io=function(e,a){for(var n=new Array(e.length*2),l,u,o,f,v=0;v<e.length/2;v++){l=e[v*2],u=e[v*2+1],v<e.length/2-1?(o=e[(v+1)*2],f=e[(v+1)*2+1]):(o=e[0],f=e[1]);var c=f-u,h=-(o-l),g=Math.sqrt(c*c+h*h),y=c/g,w=h/g;n[v*4]=l+y*a,n[v*4+1]=u+w*a,n[v*4+2]=o+y*a,n[v*4+3]=f+w*a}return n},xT=function(e,a,n,l,u,o){var f=n-e,v=l-a;f/=u,v/=o;var c=Math.sqrt(f*f+v*v),h=c-1;if(h<0)return[];var g=h/c;return[(n-e)*g+e,(l-a)*g+a]},oi=function(e,a,n,l,u,o,f){return e-=u,a-=o,e/=n/2+f,a/=l/2+f,e*e+a*a<=1},Bu=function(e,a,n,l,u,o,f){var v=[n-e,l-a],c=[e-u,a-o],h=v[0]*v[0]+v[1]*v[1],g=2*(c[0]*v[0]+c[1]*v[1]),y=c[0]*c[0]+c[1]*c[1]-f*f,w=g*g-4*h*y;if(w<0)return[];var m=(-g+Math.sqrt(w))/(2*h),S=(-g-Math.sqrt(w))/(2*h),x=Math.min(m,S),E=Math.max(m,S),T=[];if(x>=0&&x<=1&&T.push(x),E>=0&&E<=1&&T.push(E),T.length===0)return[];var C=T[0]*v[0]+e,D=T[0]*v[1]+a;if(T.length>1){if(T[0]==T[1])return[C,D];var R=T[1]*v[0]+e,B=T[1]*v[1]+a;return[C,D,R,B]}else return[C,D]},Xv=function(e,a,n){return a<=e&&e<=n||n<=e&&e<=a?e:e<=a&&a<=n||n<=a&&a<=e?a:n},Dn=function(e,a,n,l,u,o,f,v,c){var h=e-u,g=n-e,y=f-u,w=a-o,m=l-a,S=v-o,x=y*w-S*h,E=g*w-m*h,T=S*g-y*m;if(T!==0){var C=x/T,D=E/T,R=.001,B=0-R,M=1+R;return B<=C&&C<=M&&B<=D&&D<=M?[e+C*g,a+C*m]:c?[e+C*g,a+C*m]:[]}else return x===0||E===0?Xv(e,n,f)===f?[f,v]:Xv(e,n,u)===u?[u,o]:Xv(u,f,n)===n?[n,l]:[]:[]},Vu=function(e,a,n,l,u,o,f,v){var c=[],h,g=new Array(n.length),y=!0;o==null&&(y=!1);var w;if(y){for(var m=0;m<g.length/2;m++)g[m*2]=n[m*2]*o+l,g[m*2+1]=n[m*2+1]*f+u;if(v>0){var S=Io(g,-v);w=Fo(S)}else w=g}else w=n;for(var x,E,T,C,D=0;D<w.length/2;D++)x=w[D*2],E=w[D*2+1],D<w.length/2-1?(T=w[(D+1)*2],C=w[(D+1)*2+1]):(T=w[0],C=w[1]),h=Dn(e,a,l,u,x,E,T,C),h.length!==0&&c.push(h[0],h[1]);return c},ET=function(e,a,n,l,u,o,f,v,c){var h=[],g,y=new Array(n.length*2);c.forEach(function(T,C){C===0?(y[y.length-2]=T.startX,y[y.length-1]=T.startY):(y[C*4-2]=T.startX,y[C*4-1]=T.startY),y[C*4]=T.stopX,y[C*4+1]=T.stopY,g=Bu(e,a,l,u,T.cx,T.cy,T.radius),g.length!==0&&h.push(g[0],g[1])});for(var w=0;w<y.length/4;w++)g=Dn(e,a,l,u,y[w*4],y[w*4+1],y[w*4+2],y[w*4+3],!1),g.length!==0&&h.push(g[0],g[1]);if(h.length>2){for(var m=[h[0],h[1]],S=Math.pow(m[0]-e,2)+Math.pow(m[1]-a,2),x=1;x<h.length/2;x++){var E=Math.pow(h[x*2]-e,2)+Math.pow(h[x*2+1]-a,2);E<=S&&(m[0]=h[x*2],m[1]=h[x*2+1],S=E)}return m}return h},bo=function(e,a,n){var l=[e[0]-a[0],e[1]-a[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),o=(u-n)/u;return o<0&&(o=1e-5),[a[0]+o*l[0],a[1]+o*l[1]]},Ra=function(e,a){var n=nh(e,a);return n=G1(n),n},G1=function(e){for(var a,n,l=e.length/2,u=1/0,o=1/0,f=-1/0,v=-1/0,c=0;c<l;c++)a=e[2*c],n=e[2*c+1],u=Math.min(u,a),f=Math.max(f,a),o=Math.min(o,n),v=Math.max(v,n);for(var h=2/(f-u),g=2/(v-o),y=0;y<l;y++)a=e[2*y]=e[2*y]*h,n=e[2*y+1]=e[2*y+1]*g,u=Math.min(u,a),f=Math.max(f,a),o=Math.min(o,n),v=Math.max(v,n);if(o<-1)for(var w=0;w<l;w++)n=e[2*w+1]=e[2*w+1]+(-1-o);return e},nh=function(e,a){var n=1/e*2*Math.PI,l=e%2===0?Math.PI/2+n/2:Math.PI/2;l+=a;for(var u=new Array(e*2),o,f=0;f<e;f++)o=f*n+l,u[2*f]=Math.cos(o),u[2*f+1]=Math.sin(-o);return u},ci=function(e,a){return Math.min(e/4,a/4,8)},Y1=function(e,a){return Math.min(e/10,a/10,8)},zh=function(){return 8},ST=function(e,a,n){return[e-2*a+n,2*(a-e),e]},ih=function(e,a){return{heightOffset:Math.min(15,.05*a),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},TT=jt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),CT={pageRank:function(e){for(var a=TT(e),n=a.dampingFactor,l=a.precision,u=a.iterations,o=a.weight,f=this._private.cy,v=this.byGroup(),c=v.nodes,h=v.edges,g=c.length,y=g*g,w=h.length,m=new Array(y),S=new Array(g),x=(1-n)/g,E=0;E<g;E++){for(var T=0;T<g;T++){var C=E*g+T;m[C]=0}S[E]=0}for(var D=0;D<w;D++){var R=h[D],B=R.data("source"),M=R.data("target");if(B!==M){var z=c.indexOfId(B),L=c.indexOfId(M),U=o(R),_=L*g+z;m[_]+=U,S[z]+=U}}for(var V=1/g+x,P=0;P<g;P++)if(S[P]===0)for(var Y=0;Y<g;Y++){var I=Y*g+P;m[I]=V}else for(var k=0;k<g;k++){var H=k*g+P;m[H]=m[H]/S[P]+x}for(var F=new Array(g),j=new Array(g),O,G=0;G<g;G++)F[G]=1;for(var K=0;K<u;K++){for(var Z=0;Z<g;Z++)j[Z]=0;for(var W=0;W<g;W++)for(var ee=0;ee<g;ee++){var ae=W*g+ee;j[W]+=m[ae]*F[ee]}uT(j),O=F,F=j,j=O;for(var de=0,fe=0;fe<g;fe++){var ie=O[fe]-F[fe];de+=ie*ie}if(de<l)break}var $={rank:function(ge){return ge=f.collection(ge)[0],F[c.indexOf(ge)]}};return $}},s0=jt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),vl={degreeCentralityNormalized:function(e){e=s0(e);var a=this.cy(),n=this.nodes(),l=n.length;if(e.directed){for(var h={},g={},y=0,w=0,m=0;m<l;m++){var S=n[m],x=S.id();e.root=S;var E=this.degreeCentrality(e);y<E.indegree&&(y=E.indegree),w<E.outdegree&&(w=E.outdegree),h[x]=E.indegree,g[x]=E.outdegree}return{indegree:function(C){return y==0?0:(Ue(C)&&(C=a.filter(C)),h[C.id()]/y)},outdegree:function(C){return w===0?0:(Ue(C)&&(C=a.filter(C)),g[C.id()]/w)}}}else{for(var u={},o=0,f=0;f<l;f++){var v=n[f];e.root=v;var c=this.degreeCentrality(e);o<c.degree&&(o=c.degree),u[v.id()]=c.degree}return{degree:function(C){return o===0?0:(Ue(C)&&(C=a.filter(C)),u[C.id()]/o)}}}},degreeCentrality:function(e){e=s0(e);var a=this.cy(),n=this,l=e,u=l.root,o=l.weight,f=l.directed,v=l.alpha;if(u=a.collection(u)[0],f){for(var w=u.connectedEdges(),m=w.filter(function(B){return B.target().same(u)&&n.has(B)}),S=w.filter(function(B){return B.source().same(u)&&n.has(B)}),x=m.length,E=S.length,T=0,C=0,D=0;D<m.length;D++)T+=o(m[D]);for(var R=0;R<S.length;R++)C+=o(S[R]);return{indegree:Math.pow(x,1-v)*Math.pow(T,v),outdegree:Math.pow(E,1-v)*Math.pow(C,v)}}else{for(var c=u.connectedEdges().intersection(n),h=c.length,g=0,y=0;y<c.length;y++)g+=o(c[y]);return{degree:Math.pow(h,1-v)*Math.pow(g,v)}}}};vl.dc=vl.degreeCentrality;vl.dcn=vl.degreeCentralityNormalised=vl.degreeCentralityNormalized;var o0=jt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),dl={closenessCentralityNormalized:function(e){for(var a=o0(e),n=a.harmonic,l=a.weight,u=a.directed,o=this.cy(),f={},v=0,c=this.nodes(),h=this.floydWarshall({weight:l,directed:u}),g=0;g<c.length;g++){for(var y=0,w=c[g],m=0;m<c.length;m++)if(g!==m){var S=h.distance(w,c[m]);n?y+=1/S:y+=S}n||(y=1/y),v<y&&(v=y),f[w.id()]=y}return{closeness:function(E){return v==0?0:(Ue(E)?E=o.filter(E)[0].id():E=E.id(),f[E]/v)}}},closenessCentrality:function(e){var a=o0(e),n=a.root,l=a.weight,u=a.directed,o=a.harmonic;n=this.filter(n)[0];for(var f=this.dijkstra({root:n,weight:l,directed:u}),v=0,c=this.nodes(),h=0;h<c.length;h++){var g=c[h];if(!g.same(n)){var y=f.distanceTo(g);o?v+=1/y:v+=y}}return o?v:1/v}};dl.cc=dl.closenessCentrality;dl.ccn=dl.closenessCentralityNormalised=dl.closenessCentralityNormalized;var DT=jt({weight:null,directed:!1}),lh={betweennessCentrality:function(e){for(var a=DT(e),n=a.directed,l=a.weight,u=l!=null,o=this.cy(),f=this.nodes(),v={},c={},h=0,g={set:function(C,D){c[C]=D,D>h&&(h=D)},get:function(C){return c[C]}},y=0;y<f.length;y++){var w=f[y],m=w.id();n?v[m]=w.outgoers().nodes():v[m]=w.openNeighborhood().nodes(),g.set(m,0)}for(var S=function(){for(var C=f[x].id(),D=[],R={},B={},M={},z=new Wu(function(W,ee){return M[W]-M[ee]}),L=0;L<f.length;L++){var U=f[L].id();R[U]=[],B[U]=0,M[U]=1/0}for(B[C]=1,M[C]=0,z.push(C);!z.empty();){var _=z.pop();if(D.push(_),u)for(var V=0;V<v[_].length;V++){var P=v[_][V],Y=o.getElementById(_),I=void 0;Y.edgesTo(P).length>0?I=Y.edgesTo(P)[0]:I=P.edgesTo(Y)[0];var k=l(I);P=P.id(),M[P]>M[_]+k&&(M[P]=M[_]+k,z.nodes.indexOf(P)<0?z.push(P):z.updateItem(P),B[P]=0,R[P]=[]),M[P]==M[_]+k&&(B[P]=B[P]+B[_],R[P].push(_))}else for(var H=0;H<v[_].length;H++){var F=v[_][H].id();M[F]==1/0&&(z.push(F),M[F]=M[_]+1),M[F]==M[_]+1&&(B[F]=B[F]+B[_],R[F].push(_))}}for(var j={},O=0;O<f.length;O++)j[f[O].id()]=0;for(;D.length>0;){for(var G=D.pop(),K=0;K<R[G].length;K++){var Z=R[G][K];j[Z]=j[Z]+B[Z]/B[G]*(1+j[G])}G!=f[x].id()&&g.set(G,g.get(G)+j[G])}},x=0;x<f.length;x++)S();var E={betweenness:function(C){var D=o.collection(C).id();return g.get(D)},betweennessNormalized:function(C){if(h==0)return 0;var D=o.collection(C).id();return g.get(D)/h}};return E.betweennessNormalised=E.betweennessNormalized,E}};lh.bc=lh.betweennessCentrality;var AT=jt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),RT=function(e){return AT(e)},MT=function(e,a){for(var n=0,l=0;l<a.length;l++)n+=a[l](e);return n},BT=function(e,a,n){for(var l=0;l<a;l++)e[l*a+l]=n},F1=function(e,a){for(var n,l=0;l<a;l++){n=0;for(var u=0;u<a;u++)n+=e[u*a+l];for(var o=0;o<a;o++)e[o*a+l]=e[o*a+l]/n}},OT=function(e,a,n){for(var l=new Array(n*n),u=0;u<n;u++){for(var o=0;o<n;o++)l[u*n+o]=0;for(var f=0;f<n;f++)for(var v=0;v<n;v++)l[u*n+v]+=e[u*n+f]*a[f*n+v]}return l},zT=function(e,a,n){for(var l=e.slice(0),u=1;u<n;u++)e=OT(e,l,a);return e},NT=function(e,a,n){for(var l=new Array(a*a),u=0;u<a*a;u++)l[u]=Math.pow(e[u],n);return F1(l,a),l},LT=function(e,a,n,l){for(var u=0;u<n;u++){var o=Math.round(e[u]*Math.pow(10,l))/Math.pow(10,l),f=Math.round(a[u]*Math.pow(10,l))/Math.pow(10,l);if(o!==f)return!1}return!0},kT=function(e,a,n,l){for(var u=[],o=0;o<a;o++){for(var f=[],v=0;v<a;v++)Math.round(e[o*a+v]*1e3)/1e3>0&&f.push(n[v]);f.length!==0&&u.push(l.collection(f))}return u},_T=function(e,a){for(var n=0;n<e.length;n++)if(!a[n]||e[n].id()!==a[n].id())return!1;return!0},qT=function(e){for(var a=0;a<e.length;a++)for(var n=0;n<e.length;n++)a!=n&&_T(e[a],e[n])&&e.splice(n,1);return e},f0=function(e){for(var a=this.nodes(),n=this.edges(),l=this.cy(),u=RT(e),o={},f=0;f<a.length;f++)o[a[f].id()]=f;for(var v=a.length,c=v*v,h=new Array(c),g,y=0;y<c;y++)h[y]=0;for(var w=0;w<n.length;w++){var m=n[w],S=o[m.source().id()],x=o[m.target().id()],E=MT(m,u.attributes);h[S*v+x]+=E,h[x*v+S]+=E}BT(h,v,u.multFactor),F1(h,v);for(var T=!0,C=0;T&&C<u.maxIterations;)T=!1,g=zT(h,v,u.expandFactor),h=NT(g,v,u.inflateFactor),LT(h,g,c,4)||(T=!0),C++;var D=kT(h,v,a,l);return D=qT(D),D},PT={markovClustering:f0,mcl:f0},UT=function(e){return e},I1=function(e,a){return Math.abs(a-e)},c0=function(e,a,n){return e+I1(a,n)},v0=function(e,a,n){return e+Math.pow(n-a,2)},VT=function(e){return Math.sqrt(e)},HT=function(e,a,n){return Math.max(e,I1(a,n))},Su=function(e,a,n,l,u){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:UT,f=l,v,c,h=0;h<e;h++)v=a(h),c=n(h),f=u(f,v,c);return o(f)},yl={euclidean:function(e,a,n){return e>=2?Su(e,a,n,0,v0,VT):Su(e,a,n,0,c0)},squaredEuclidean:function(e,a,n){return Su(e,a,n,0,v0)},manhattan:function(e,a,n){return Su(e,a,n,0,c0)},max:function(e,a,n){return Su(e,a,n,-1/0,HT)}};yl["squared-euclidean"]=yl.squaredEuclidean;yl.squaredeuclidean=yl.squaredEuclidean;function nf(t,e,a,n,l,u){var o;return Bt(t)?o=t:o=yl[t]||yl.euclidean,e===0&&Bt(t)?o(l,u):o(e,a,n,l,u)}var GT=jt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Nh=function(e){return GT(e)},Xo=function(e,a,n,l,u){var o=u!=="kMedoids",f=o?function(g){return n[g]}:function(g){return l[g](n)},v=function(y){return l[y](a)},c=n,h=a;return nf(e,l.length,f,v,c,h)},Kv=function(e,a,n){for(var l=n.length,u=new Array(l),o=new Array(l),f=new Array(a),v=null,c=0;c<l;c++)u[c]=e.min(n[c]).value,o[c]=e.max(n[c]).value;for(var h=0;h<a;h++){v=[];for(var g=0;g<l;g++)v[g]=Math.random()*(o[g]-u[g])+u[g];f[h]=v}return f},X1=function(e,a,n,l,u){for(var o=1/0,f=0,v=0;v<a.length;v++){var c=Xo(n,e,a[v],l,u);c<o&&(o=c,f=v)}return f},K1=function(e,a,n){for(var l=[],u=null,o=0;o<a.length;o++)u=a[o],n[u.id()]===e&&l.push(u);return l},YT=function(e,a,n){return Math.abs(a-e)<=n},FT=function(e,a,n){for(var l=0;l<e.length;l++)for(var u=0;u<e[l].length;u++){var o=Math.abs(e[l][u]-a[l][u]);if(o>n)return!1}return!0},IT=function(e,a,n){for(var l=0;l<n;l++)if(e===a[l])return!0;return!1},d0=function(e,a){var n=new Array(a);if(e.length<50)for(var l=0;l<a;l++){for(var u=e[Math.floor(Math.random()*e.length)];IT(u,n,l);)u=e[Math.floor(Math.random()*e.length)];n[l]=u}else for(var o=0;o<a;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},h0=function(e,a,n){for(var l=0,u=0;u<a.length;u++)l+=Xo("manhattan",a[u],e,n,"kMedoids");return l},XT=function(e){var a=this.cy(),n=this.nodes(),l=null,u=Nh(e),o=new Array(u.k),f={},v;u.testMode?typeof u.testCentroids=="number"?(u.testCentroids,v=Kv(n,u.k,u.attributes)):Qt(u.testCentroids)==="object"?v=u.testCentroids:v=Kv(n,u.k,u.attributes):v=Kv(n,u.k,u.attributes);for(var c=!0,h=0;c&&h<u.maxIterations;){for(var g=0;g<n.length;g++)l=n[g],f[l.id()]=X1(l,v,u.distance,u.attributes,"kMeans");c=!1;for(var y=0;y<u.k;y++){var w=K1(y,n,f);if(w.length!==0){for(var m=u.attributes.length,S=v[y],x=new Array(m),E=new Array(m),T=0;T<m;T++){E[T]=0;for(var C=0;C<w.length;C++)l=w[C],E[T]+=u.attributes[T](l);x[T]=E[T]/w.length,YT(x[T],S[T],u.sensitivityThreshold)||(c=!0)}v[y]=x,o[y]=a.collection(w)}}h++}return o},KT=function(e){var a=this.cy(),n=this.nodes(),l=null,u=Nh(e),o=new Array(u.k),f,v={},c,h=new Array(u.k);u.testMode?typeof u.testCentroids=="number"||(Qt(u.testCentroids)==="object"?f=u.testCentroids:f=d0(n,u.k)):f=d0(n,u.k);for(var g=!0,y=0;g&&y<u.maxIterations;){for(var w=0;w<n.length;w++)l=n[w],v[l.id()]=X1(l,f,u.distance,u.attributes,"kMedoids");g=!1;for(var m=0;m<f.length;m++){var S=K1(m,n,v);if(S.length!==0){h[m]=h0(f[m],S,u.attributes);for(var x=0;x<S.length;x++)c=h0(S[x],S,u.attributes),c<h[m]&&(h[m]=c,f[m]=S[x],g=!0);o[m]=a.collection(S)}}y++}return o},ZT=function(e,a,n,l,u){for(var o,f,v=0;v<a.length;v++)for(var c=0;c<e.length;c++)l[v][c]=Math.pow(n[v][c],u.m);for(var h=0;h<e.length;h++)for(var g=0;g<u.attributes.length;g++){o=0,f=0;for(var y=0;y<a.length;y++)o+=l[y][h]*u.attributes[g](a[y]),f+=l[y][h];e[h][g]=o/f}},QT=function(e,a,n,l,u){for(var o=0;o<e.length;o++)a[o]=e[o].slice();for(var f,v,c,h=2/(u.m-1),g=0;g<n.length;g++)for(var y=0;y<l.length;y++){f=0;for(var w=0;w<n.length;w++)v=Xo(u.distance,l[y],n[g],u.attributes,"cmeans"),c=Xo(u.distance,l[y],n[w],u.attributes,"cmeans"),f+=Math.pow(v/c,h);e[y][g]=1/f}},jT=function(e,a,n,l){for(var u=new Array(n.k),o=0;o<u.length;o++)u[o]=[];for(var f,v,c=0;c<a.length;c++){f=-1/0,v=-1;for(var h=0;h<a[0].length;h++)a[c][h]>f&&(f=a[c][h],v=h);u[v].push(e[c])}for(var g=0;g<u.length;g++)u[g]=l.collection(u[g]);return u},g0=function(e){var a=this.cy(),n=this.nodes(),l=Nh(e),u,o,f,v,c;v=new Array(n.length);for(var h=0;h<n.length;h++)v[h]=new Array(l.k);f=new Array(n.length);for(var g=0;g<n.length;g++)f[g]=new Array(l.k);for(var y=0;y<n.length;y++){for(var w=0,m=0;m<l.k;m++)f[y][m]=Math.random(),w+=f[y][m];for(var S=0;S<l.k;S++)f[y][S]=f[y][S]/w}o=new Array(l.k);for(var x=0;x<l.k;x++)o[x]=new Array(l.attributes.length);c=new Array(n.length);for(var E=0;E<n.length;E++)c[E]=new Array(l.k);for(var T=!0,C=0;T&&C<l.maxIterations;)T=!1,ZT(o,n,f,c,l),QT(f,v,o,n,l),FT(f,v,l.sensitivityThreshold)||(T=!0),C++;return u=jT(n,f,l,a),{clusters:u,degreeOfMembership:f}},$T={kMeans:XT,kMedoids:KT,fuzzyCMeans:g0,fcm:g0},WT=jt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),JT={single:"min",complete:"max"},eC=function(e){var a=WT(e),n=JT[a.linkage];return n!=null&&(a.linkage=n),a},p0=function(e,a,n,l,u){for(var o=0,f=1/0,v,c=u.attributes,h=function(L,U){return nf(u.distance,c.length,function(_){return c[_](L)},function(_){return c[_](U)},L,U)},g=0;g<e.length;g++){var y=e[g].key,w=n[y][l[y]];w<f&&(o=y,f=w)}if(u.mode==="threshold"&&f>=u.threshold||u.mode==="dendrogram"&&e.length===1)return!1;var m=a[o],S=a[l[o]],x;u.mode==="dendrogram"?x={left:m,right:S,key:m.key}:x={value:m.value.concat(S.value),key:m.key},e[m.index]=x,e.splice(S.index,1),a[m.key]=x;for(var E=0;E<e.length;E++){var T=e[E];m.key===T.key?v=1/0:u.linkage==="min"?(v=n[m.key][T.key],n[m.key][T.key]>n[S.key][T.key]&&(v=n[S.key][T.key])):u.linkage==="max"?(v=n[m.key][T.key],n[m.key][T.key]<n[S.key][T.key]&&(v=n[S.key][T.key])):u.linkage==="mean"?v=(n[m.key][T.key]*m.size+n[S.key][T.key]*S.size)/(m.size+S.size):u.mode==="dendrogram"?v=h(T.value,m.value):v=h(T.value[0],m.value[0]),n[m.key][T.key]=n[T.key][m.key]=v}for(var C=0;C<e.length;C++){var D=e[C].key;if(l[D]===m.key||l[D]===S.key){for(var R=D,B=0;B<e.length;B++){var M=e[B].key;n[D][M]<n[D][R]&&(R=M)}l[D]=R}e[C].index=C}return m.key=S.key=m.index=S.index=null,!0},ol=function(e,a,n){e&&(e.value?a.push(e.value):(e.left&&ol(e.left,a),e.right&&ol(e.right,a)))},uh=function(e,a){if(!e)return"";if(e.left&&e.right){var n=uh(e.left,a),l=uh(e.right,a),u=a.add({group:"nodes",data:{id:n+","+l}});return a.add({group:"edges",data:{source:n,target:u.id()}}),a.add({group:"edges",data:{source:l,target:u.id()}}),u.id()}else if(e.value)return e.value.id()},sh=function(e,a,n){if(!e)return[];var l=[],u=[],o=[];return a===0?(e.left&&ol(e.left,l),e.right&&ol(e.right,u),o=l.concat(u),[n.collection(o)]):a===1?e.value?[n.collection(e.value)]:(e.left&&ol(e.left,l),e.right&&ol(e.right,u),[n.collection(l),n.collection(u)]):e.value?[n.collection(e.value)]:(e.left&&(l=sh(e.left,a-1,n)),e.right&&(u=sh(e.right,a-1,n)),l.concat(u))},y0=function(e){for(var a=this.cy(),n=this.nodes(),l=eC(e),u=l.attributes,o=function(C,D){return nf(l.distance,u.length,function(R){return u[R](C)},function(R){return u[R](D)},C,D)},f=[],v=[],c=[],h=[],g=0;g<n.length;g++){var y={value:l.mode==="dendrogram"?n[g]:[n[g]],key:g,index:g};f[g]=y,h[g]=y,v[g]=[],c[g]=0}for(var w=0;w<f.length;w++)for(var m=0;m<=w;m++){var S=void 0;l.mode==="dendrogram"?S=w===m?1/0:o(f[w].value,f[m].value):S=w===m?1/0:o(f[w].value[0],f[m].value[0]),v[w][m]=S,v[m][w]=S,S<v[w][c[w]]&&(c[w]=m)}for(var x=p0(f,h,v,c,l);x;)x=p0(f,h,v,c,l);var E;return l.mode==="dendrogram"?(E=sh(f[0],l.dendrogramDepth,a),l.addDendrogram&&uh(f[0],a)):(E=new Array(f.length),f.forEach(function(T,C){T.key=T.index=null,E[C]=a.collection(T.value)})),E},tC={hierarchicalClustering:y0,hca:y0},aC=jt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),rC=function(e){var a=e.damping,n=e.preference;.5<=a&&a<1||Mt("Damping must range on [0.5, 1).  Got: ".concat(a));var l=["median","mean","min","max"];return l.some(function(u){return u===n})||Re(n)||Mt("Preference must be one of [".concat(l.map(function(u){return"'".concat(u,"'")}).join(", "),"] or a number.  Got: ").concat(n)),aC(e)},nC=function(e,a,n,l){var u=function(f,v){return l[v](f)};return-nf(e,l.length,function(o){return u(a,o)},function(o){return u(n,o)},a,n)},iC=function(e,a){var n=null;return a==="median"?n=iT(e):a==="mean"?n=nT(e):a==="min"?n=aT(e):a==="max"?n=rT(e):n=a,n},lC=function(e,a,n){for(var l=[],u=0;u<e;u++)a[u*e+u]+n[u*e+u]>0&&l.push(u);return l},m0=function(e,a,n){for(var l=[],u=0;u<e;u++){for(var o=-1,f=-1/0,v=0;v<n.length;v++){var c=n[v];a[u*e+c]>f&&(o=c,f=a[u*e+c])}o>0&&l.push(o)}for(var h=0;h<n.length;h++)l[n[h]]=n[h];return l},uC=function(e,a,n){for(var l=m0(e,a,n),u=0;u<n.length;u++){for(var o=[],f=0;f<l.length;f++)l[f]===n[u]&&o.push(f);for(var v=-1,c=-1/0,h=0;h<o.length;h++){for(var g=0,y=0;y<o.length;y++)g+=a[o[y]*e+o[h]];g>c&&(v=h,c=g)}n[u]=o[v]}return l=m0(e,a,n),l},b0=function(e){for(var a=this.cy(),n=this.nodes(),l=rC(e),u={},o=0;o<n.length;o++)u[n[o].id()]=o;var f,v,c,h,g,y;f=n.length,v=f*f,c=new Array(v);for(var w=0;w<v;w++)c[w]=-1/0;for(var m=0;m<f;m++)for(var S=0;S<f;S++)m!==S&&(c[m*f+S]=nC(l.distance,n[m],n[S],l.attributes));h=iC(c,l.preference);for(var x=0;x<f;x++)c[x*f+x]=h;g=new Array(v);for(var E=0;E<v;E++)g[E]=0;y=new Array(v);for(var T=0;T<v;T++)y[T]=0;for(var C=new Array(f),D=new Array(f),R=new Array(f),B=0;B<f;B++)C[B]=0,D[B]=0,R[B]=0;for(var M=new Array(f*l.minIterations),z=0;z<M.length;z++)M[z]=0;var L;for(L=0;L<l.maxIterations;L++){for(var U=0;U<f;U++){for(var _=-1/0,V=-1/0,P=-1,Y=0,I=0;I<f;I++)C[I]=g[U*f+I],Y=y[U*f+I]+c[U*f+I],Y>=_?(V=_,_=Y,P=I):Y>V&&(V=Y);for(var k=0;k<f;k++)g[U*f+k]=(1-l.damping)*(c[U*f+k]-_)+l.damping*C[k];g[U*f+P]=(1-l.damping)*(c[U*f+P]-V)+l.damping*C[P]}for(var H=0;H<f;H++){for(var F=0,j=0;j<f;j++)C[j]=y[j*f+H],D[j]=Math.max(0,g[j*f+H]),F+=D[j];F-=D[H],D[H]=g[H*f+H],F+=D[H];for(var O=0;O<f;O++)y[O*f+H]=(1-l.damping)*Math.min(0,F-D[O])+l.damping*C[O];y[H*f+H]=(1-l.damping)*(F-D[H])+l.damping*C[H]}for(var G=0,K=0;K<f;K++){var Z=y[K*f+K]+g[K*f+K]>0?1:0;M[L%l.minIterations*f+K]=Z,G+=Z}if(G>0&&(L>=l.minIterations-1||L==l.maxIterations-1)){for(var W=0,ee=0;ee<f;ee++){R[ee]=0;for(var ae=0;ae<l.minIterations;ae++)R[ee]+=M[ae*f+ee];(R[ee]===0||R[ee]===l.minIterations)&&W++}if(W===f)break}}for(var de=lC(f,g,y),fe=uC(f,c,de),ie={},$=0;$<de.length;$++)ie[de[$]]=[];for(var ue=0;ue<n.length;ue++){var ge=u[n[ue].id()],Se=fe[ge];Se!=null&&ie[Se].push(n[ue])}for(var Me=new Array(de.length),_e=0;_e<de.length;_e++)Me[_e]=a.collection(ie[de[_e]]);return Me},sC={affinityPropagation:b0,ap:b0},oC=jt({root:void 0,directed:!1}),fC={hierholzer:function(e){if(!it(e)){var a=arguments;e={root:a[0],directed:a[1]}}var n=oC(e),l=n.root,u=n.directed,o=this,f=!1,v,c,h;l&&(h=Ue(l)?this.filter(l)[0].id():l[0].id());var g={},y={};u?o.forEach(function(T){var C=T.id();if(T.isNode()){var D=T.indegree(!0),R=T.outdegree(!0),B=D-R,M=R-D;B==1?v?f=!0:v=C:M==1?c?f=!0:c=C:(M>1||B>1)&&(f=!0),g[C]=[],T.outgoers().forEach(function(z){z.isEdge()&&g[C].push(z.id())})}else y[C]=[void 0,T.target().id()]}):o.forEach(function(T){var C=T.id();if(T.isNode()){var D=T.degree(!0);D%2&&(v?c?f=!0:c=C:v=C),g[C]=[],T.connectedEdges().forEach(function(R){return g[C].push(R.id())})}else y[C]=[T.source().id(),T.target().id()]});var w={found:!1,trail:void 0};if(f)return w;if(c&&v)if(u){if(h&&c!=h)return w;h=c}else{if(h&&c!=h&&v!=h)return w;h||(h=c)}else h||(h=o[0].id());var m=function(C){for(var D=C,R=[C],B,M,z;g[D].length;)B=g[D].shift(),M=y[B][0],z=y[B][1],D!=z?(g[z]=g[z].filter(function(L){return L!=B}),D=z):!u&&D!=M&&(g[M]=g[M].filter(function(L){return L!=B}),D=M),R.unshift(B),R.unshift(D);return R},S=[],x=[];for(x=m(h);x.length!=1;)g[x[0]].length==0?(S.unshift(o.getElementById(x.shift())),S.unshift(o.getElementById(x.shift()))):x=m(x.shift()).concat(x);S.unshift(o.getElementById(x.shift()));for(var E in g)if(g[E].length)return w;return w.found=!0,w.trail=this.spawn(S,!0),w}},wo=function(){var e=this,a={},n=0,l=0,u=[],o=[],f={},v=function(y,w){for(var m=o.length-1,S=[],x=e.spawn();o[m].x!=y||o[m].y!=w;)S.push(o.pop().edge),m--;S.push(o.pop().edge),S.forEach(function(E){var T=E.connectedNodes().intersection(e);x.merge(E),T.forEach(function(C){var D=C.id(),R=C.connectedEdges().intersection(e);x.merge(C),a[D].cutVertex?x.merge(R.filter(function(B){return B.isLoop()})):x.merge(R)})}),u.push(x)},c=function(y,w,m){y===m&&(l+=1),a[w]={id:n,low:n++,cutVertex:!1};var S=e.getElementById(w).connectedEdges().intersection(e);if(S.size()===0)u.push(e.spawn(e.getElementById(w)));else{var x,E,T,C;S.forEach(function(D){x=D.source().id(),E=D.target().id(),T=x===w?E:x,T!==m&&(C=D.id(),f[C]||(f[C]=!0,o.push({x:w,y:T,edge:D})),T in a?a[w].low=Math.min(a[w].low,a[T].id):(c(y,T,w),a[w].low=Math.min(a[w].low,a[T].low),a[w].id<=a[T].low&&(a[w].cutVertex=!0,v(w,T))))})}};e.forEach(function(g){if(g.isNode()){var y=g.id();y in a||(l=0,c(y,y),a[y].cutVertex=l>1)}});var h=Object.keys(a).filter(function(g){return a[g].cutVertex}).map(function(g){return e.getElementById(g)});return{cut:e.spawn(h),components:u}},cC={hopcroftTarjanBiconnected:wo,htbc:wo,htb:wo,hopcroftTarjanBiconnectedComponents:wo},xo=function(){var e=this,a={},n=0,l=[],u=[],o=e.spawn(e),f=function(c){u.push(c),a[c]={index:n,low:n++,explored:!1};var h=e.getElementById(c).connectedEdges().intersection(e);if(h.forEach(function(S){var x=S.target().id();x!==c&&(x in a||f(x),a[x].explored||(a[c].low=Math.min(a[c].low,a[x].low)))}),a[c].index===a[c].low){for(var g=e.spawn();;){var y=u.pop();if(g.merge(e.getElementById(y)),a[y].low=a[c].index,a[y].explored=!0,y===c)break}var w=g.edgesWith(g),m=g.merge(w);l.push(m),o=o.difference(m)}};return e.forEach(function(v){if(v.isNode()){var c=v.id();c in a||f(c)}}),{cut:o,components:l}},vC={tarjanStronglyConnected:xo,tsc:xo,tscc:xo,tarjanStronglyConnectedComponents:xo},Z1={};[Pu,FS,IS,KS,QS,$S,eT,CT,vl,dl,lh,PT,$T,tC,sC,fC,cC,vC].forEach(function(t){He(Z1,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Q1=0,j1=1,$1=2,dr=function(e){if(!(this instanceof dr))return new dr(e);this.id="Thenable/1.0.7",this.state=Q1,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};dr.prototype={fulfill:function(e){return w0(this,j1,"fulfillValue",e)},reject:function(e){return w0(this,$1,"rejectReason",e)},then:function(e,a){var n=this,l=new dr;return n.onFulfilled.push(E0(e,l,"fulfill")),n.onRejected.push(E0(a,l,"reject")),W1(n),l.proxy}};var w0=function(e,a,n,l){return e.state===Q1&&(e.state=a,e[n]=l,W1(e)),e},W1=function(e){e.state===j1?x0(e,"onFulfilled",e.fulfillValue):e.state===$1&&x0(e,"onRejected",e.rejectReason)},x0=function(e,a,n){if(e[a].length!==0){var l=e[a];e[a]=[];var u=function(){for(var f=0;f<l.length;f++)l[f](n)};typeof setImmediate=="function"?setImmediate(u):setTimeout(u,0)}},E0=function(e,a,n){return function(l){if(typeof e!="function")a[n].call(a,l);else{var u;try{u=e(l)}catch(o){a.reject(o);return}J1(a,u)}}},J1=function(e,a){if(e===a||e.proxy===a){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Qt(a)==="object"&&a!==null||typeof a=="function")try{n=a.then}catch(u){e.reject(u);return}if(typeof n=="function"){var l=!1;try{n.call(a,function(u){l||(l=!0,u===a?e.reject(new TypeError("circular thenable chain")):J1(e,u))},function(u){l||(l=!0,e.reject(u))})}catch(u){l||e.reject(u)}return}e.fulfill(a)};dr.all=function(t){return new dr(function(e,a){for(var n=new Array(t.length),l=0,u=function(v,c){n[v]=c,l++,l===t.length&&e(n)},o=0;o<t.length;o++)(function(f){var v=t[f],c=v!=null&&v.then!=null;if(c)v.then(function(g){u(f,g)},function(g){a(g)});else{var h=v;u(f,h)}})(o)})};dr.resolve=function(t){return new dr(function(e,a){e(t)})};dr.reject=function(t){return new dr(function(e,a){a(t)})};var wl=typeof Promise<"u"?Promise:dr,oh=function(e,a,n){var l=Th(e),u=!l,o=this._private=He({duration:1e3},a,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Bt(o.complete)&&o.completes.push(o.complete),u){var f=e.position();o.startPosition=o.startPosition||{x:f.x,y:f.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(l){var v=e.pan();o.startPan={x:v.x,y:v.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},vi=oh.prototype;He(vi,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var a,n=e.target._private.animation;e.queue?a=n.queue:a=n.current,a.push(this),Xa(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var a=this._private;return e===void 0?a.progress*a.duration:this.progress(e/a.duration)},progress:function(e){var a=this._private,n=a.playing;return e===void 0?a.progress:(n&&this.pause(),a.progress=e,a.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,a=e.playing;a&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(c,h){var g=e[c];g!=null&&(e[c]=e[h],e[h]=g)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var l=0;l<e.style.length;l++){var u=e.style[l],o=u.name,f=e.startStyle[o];e.startStyle[o]=u,e.style[l]=f}return a&&this.play(),this},promise:function(e){var a=this._private,n;switch(e){case"frame":n=a.frames;break;default:case"complete":case"completed":n=a.completes}return new wl(function(l,u){n.push(function(){l()})})}});vi.complete=vi.completed;vi.run=vi.play;vi.running=vi.playing;var dC={animated:function(){return function(){var a=this,n=a.length!==void 0,l=n?a:[a],u=this._private.cy||this;if(!u.styleEnabled())return!1;var o=l[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var a=this,n=a.length!==void 0,l=n?a:[a],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var o=0;o<l.length;o++){var f=l[o];f._private.animation.queue=[]}return this}},delay:function(){return function(a,n){var l=this._private.cy||this;return l.styleEnabled()?this.animate({delay:a,duration:a,complete:n}):this}},delayAnimation:function(){return function(a,n){var l=this._private.cy||this;return l.styleEnabled()?this.animation({delay:a,duration:a,complete:n}):this}},animation:function(){return function(a,n){var l=this,u=l.length!==void 0,o=u?l:[l],f=this._private.cy||this,v=!u,c=!v;if(!f.styleEnabled())return this;var h=f.style();a=He({},a,n);var g=Object.keys(a).length===0;if(g)return new oh(o[0],a);switch(a.duration===void 0&&(a.duration=400),a.duration){case"slow":a.duration=600;break;case"fast":a.duration=200;break}if(c&&(a.style=h.getPropsList(a.style||a.css),a.css=void 0),c&&a.renderedPosition!=null){var y=a.renderedPosition,w=f.pan(),m=f.zoom();a.position=q1(y,m,w)}if(v&&a.panBy!=null){var S=a.panBy,x=f.pan();a.pan={x:x.x+S.x,y:x.y+S.y}}var E=a.center||a.centre;if(v&&E!=null){var T=f.getCenterPan(E.eles,a.zoom);T!=null&&(a.pan=T)}if(v&&a.fit!=null){var C=a.fit,D=f.getFitViewport(C.eles||C.boundingBox,C.padding);D!=null&&(a.pan=D.pan,a.zoom=D.zoom)}if(v&&it(a.zoom)){var R=f.getZoomedViewport(a.zoom);R!=null?(R.zoomed&&(a.zoom=R.zoom),R.panned&&(a.pan=R.pan)):a.zoom=null}return new oh(o[0],a)}},animate:function(){return function(a,n){var l=this,u=l.length!==void 0,o=u?l:[l],f=this._private.cy||this;if(!f.styleEnabled())return this;n&&(a=He({},a,n));for(var v=0;v<o.length;v++){var c=o[v],h=c.animated()&&(a.queue===void 0||a.queue),g=c.animation(a,h?{queue:!0}:void 0);g.play()}return this}},stop:function(){return function(a,n){var l=this,u=l.length!==void 0,o=u?l:[l],f=this._private.cy||this;if(!f.styleEnabled())return this;for(var v=0;v<o.length;v++){for(var c=o[v],h=c._private,g=h.animation.current,y=0;y<g.length;y++){var w=g[y],m=w._private;n&&(m.duration=0)}a&&(h.animation.queue=[]),n||(h.animation.current=[])}return f.notify("draw"),this}}},Zv,S0;function lf(){if(S0)return Zv;S0=1;var t=Array.isArray;return Zv=t,Zv}var Qv,T0;function hC(){if(T0)return Qv;T0=1;var t=lf(),e=ju(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function l(u,o){if(t(u))return!1;var f=typeof u;return f=="number"||f=="symbol"||f=="boolean"||u==null||e(u)?!0:n.test(u)||!a.test(u)||o!=null&&u in Object(o)}return Qv=l,Qv}var jv,C0;function gC(){if(C0)return jv;C0=1;var t=R1(),e=Qu(),a="[object AsyncFunction]",n="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";function o(f){if(!e(f))return!1;var v=t(f);return v==n||v==l||v==a||v==u}return jv=o,jv}var $v,D0;function pC(){if(D0)return $v;D0=1;var t=tf(),e=t["__core-js_shared__"];return $v=e,$v}var Wv,A0;function yC(){if(A0)return Wv;A0=1;var t=pC(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function a(n){return!!e&&e in n}return Wv=a,Wv}var Jv,R0;function mC(){if(R0)return Jv;R0=1;var t=Function.prototype,e=t.toString;function a(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Jv=a,Jv}var ed,M0;function bC(){if(M0)return ed;M0=1;var t=gC(),e=yC(),a=Qu(),n=mC(),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,o=Function.prototype,f=Object.prototype,v=o.toString,c=f.hasOwnProperty,h=RegExp("^"+v.call(c).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!a(y)||e(y))return!1;var w=t(y)?h:u;return w.test(n(y))}return ed=g,ed}var td,B0;function wC(){if(B0)return td;B0=1;function t(e,a){return e==null?void 0:e[a]}return td=t,td}var ad,O0;function Lh(){if(O0)return ad;O0=1;var t=bC(),e=wC();function a(n,l){var u=e(n,l);return t(u)?u:void 0}return ad=a,ad}var rd,z0;function uf(){if(z0)return rd;z0=1;var t=Lh(),e=t(Object,"create");return rd=e,rd}var nd,N0;function xC(){if(N0)return nd;N0=1;var t=uf();function e(){this.__data__=t?t(null):{},this.size=0}return nd=e,nd}var id,L0;function EC(){if(L0)return id;L0=1;function t(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a}return id=t,id}var ld,k0;function SC(){if(k0)return ld;k0=1;var t=uf(),e="__lodash_hash_undefined__",a=Object.prototype,n=a.hasOwnProperty;function l(u){var o=this.__data__;if(t){var f=o[u];return f===e?void 0:f}return n.call(o,u)?o[u]:void 0}return ld=l,ld}var ud,_0;function TC(){if(_0)return ud;_0=1;var t=uf(),e=Object.prototype,a=e.hasOwnProperty;function n(l){var u=this.__data__;return t?u[l]!==void 0:a.call(u,l)}return ud=n,ud}var sd,q0;function CC(){if(q0)return sd;q0=1;var t=uf(),e="__lodash_hash_undefined__";function a(n,l){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=t&&l===void 0?e:l,this}return sd=a,sd}var od,P0;function DC(){if(P0)return od;P0=1;var t=xC(),e=EC(),a=SC(),n=TC(),l=CC();function u(o){var f=-1,v=o==null?0:o.length;for(this.clear();++f<v;){var c=o[f];this.set(c[0],c[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=a,u.prototype.has=n,u.prototype.set=l,od=u,od}var fd,U0;function AC(){if(U0)return fd;U0=1;function t(){this.__data__=[],this.size=0}return fd=t,fd}var cd,V0;function ew(){if(V0)return cd;V0=1;function t(e,a){return e===a||e!==e&&a!==a}return cd=t,cd}var vd,H0;function sf(){if(H0)return vd;H0=1;var t=ew();function e(a,n){for(var l=a.length;l--;)if(t(a[l][0],n))return l;return-1}return vd=e,vd}var dd,G0;function RC(){if(G0)return dd;G0=1;var t=sf(),e=Array.prototype,a=e.splice;function n(l){var u=this.__data__,o=t(u,l);if(o<0)return!1;var f=u.length-1;return o==f?u.pop():a.call(u,o,1),--this.size,!0}return dd=n,dd}var hd,Y0;function MC(){if(Y0)return hd;Y0=1;var t=sf();function e(a){var n=this.__data__,l=t(n,a);return l<0?void 0:n[l][1]}return hd=e,hd}var gd,F0;function BC(){if(F0)return gd;F0=1;var t=sf();function e(a){return t(this.__data__,a)>-1}return gd=e,gd}var pd,I0;function OC(){if(I0)return pd;I0=1;var t=sf();function e(a,n){var l=this.__data__,u=t(l,a);return u<0?(++this.size,l.push([a,n])):l[u][1]=n,this}return pd=e,pd}var yd,X0;function zC(){if(X0)return yd;X0=1;var t=AC(),e=RC(),a=MC(),n=BC(),l=OC();function u(o){var f=-1,v=o==null?0:o.length;for(this.clear();++f<v;){var c=o[f];this.set(c[0],c[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=a,u.prototype.has=n,u.prototype.set=l,yd=u,yd}var md,K0;function NC(){if(K0)return md;K0=1;var t=Lh(),e=tf(),a=t(e,"Map");return md=a,md}var bd,Z0;function LC(){if(Z0)return bd;Z0=1;var t=DC(),e=zC(),a=NC();function n(){this.size=0,this.__data__={hash:new t,map:new(a||e),string:new t}}return bd=n,bd}var wd,Q0;function kC(){if(Q0)return wd;Q0=1;function t(e){var a=typeof e;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?e!=="__proto__":e===null}return wd=t,wd}var xd,j0;function of(){if(j0)return xd;j0=1;var t=kC();function e(a,n){var l=a.__data__;return t(n)?l[typeof n=="string"?"string":"hash"]:l.map}return xd=e,xd}var Ed,$0;function _C(){if($0)return Ed;$0=1;var t=of();function e(a){var n=t(this,a).delete(a);return this.size-=n?1:0,n}return Ed=e,Ed}var Sd,W0;function qC(){if(W0)return Sd;W0=1;var t=of();function e(a){return t(this,a).get(a)}return Sd=e,Sd}var Td,J0;function PC(){if(J0)return Td;J0=1;var t=of();function e(a){return t(this,a).has(a)}return Td=e,Td}var Cd,eb;function UC(){if(eb)return Cd;eb=1;var t=of();function e(a,n){var l=t(this,a),u=l.size;return l.set(a,n),this.size+=l.size==u?0:1,this}return Cd=e,Cd}var Dd,tb;function VC(){if(tb)return Dd;tb=1;var t=LC(),e=_C(),a=qC(),n=PC(),l=UC();function u(o){var f=-1,v=o==null?0:o.length;for(this.clear();++f<v;){var c=o[f];this.set(c[0],c[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=a,u.prototype.has=n,u.prototype.set=l,Dd=u,Dd}var Ad,ab;function HC(){if(ab)return Ad;ab=1;var t=VC(),e="Expected a function";function a(n,l){if(typeof n!="function"||l!=null&&typeof l!="function")throw new TypeError(e);var u=function(){var o=arguments,f=l?l.apply(this,o):o[0],v=u.cache;if(v.has(f))return v.get(f);var c=n.apply(this,o);return u.cache=v.set(f,c)||v,c};return u.cache=new(a.Cache||t),u}return a.Cache=t,Ad=a,Ad}var Rd,rb;function GC(){if(rb)return Rd;rb=1;var t=HC(),e=500;function a(n){var l=t(n,function(o){return u.size===e&&u.clear(),o}),u=l.cache;return l}return Rd=a,Rd}var Md,nb;function tw(){if(nb)return Md;nb=1;var t=GC(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,n=t(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(e,function(o,f,v,c){u.push(v?c.replace(a,"$1"):f||o)}),u});return Md=n,Md}var Bd,ib;function aw(){if(ib)return Bd;ib=1;function t(e,a){for(var n=-1,l=e==null?0:e.length,u=Array(l);++n<l;)u[n]=a(e[n],n,e);return u}return Bd=t,Bd}var Od,lb;function YC(){if(lb)return Od;lb=1;var t=Dh(),e=aw(),a=lf(),n=ju(),l=t?t.prototype:void 0,u=l?l.toString:void 0;function o(f){if(typeof f=="string")return f;if(a(f))return e(f,o)+"";if(n(f))return u?u.call(f):"";var v=f+"";return v=="0"&&1/f==-1/0?"-0":v}return Od=o,Od}var zd,ub;function rw(){if(ub)return zd;ub=1;var t=YC();function e(a){return a==null?"":t(a)}return zd=e,zd}var Nd,sb;function nw(){if(sb)return Nd;sb=1;var t=lf(),e=hC(),a=tw(),n=rw();function l(u,o){return t(u)?u:e(u,o)?[u]:a(n(u))}return Nd=l,Nd}var Ld,ob;function kh(){if(ob)return Ld;ob=1;var t=ju();function e(a){if(typeof a=="string"||t(a))return a;var n=a+"";return n=="0"&&1/a==-1/0?"-0":n}return Ld=e,Ld}var kd,fb;function FC(){if(fb)return kd;fb=1;var t=nw(),e=kh();function a(n,l){l=t(l,n);for(var u=0,o=l.length;n!=null&&u<o;)n=n[e(l[u++])];return u&&u==o?n:void 0}return kd=a,kd}var _d,cb;function IC(){if(cb)return _d;cb=1;var t=FC();function e(a,n,l){var u=a==null?void 0:t(a,n);return u===void 0?l:u}return _d=e,_d}var XC=IC(),KC=Zu(XC),qd,vb;function ZC(){if(vb)return qd;vb=1;var t=Lh(),e=function(){try{var a=t(Object,"defineProperty");return a({},"",{}),a}catch{}}();return qd=e,qd}var Pd,db;function QC(){if(db)return Pd;db=1;var t=ZC();function e(a,n,l){n=="__proto__"&&t?t(a,n,{configurable:!0,enumerable:!0,value:l,writable:!0}):a[n]=l}return Pd=e,Pd}var Ud,hb;function jC(){if(hb)return Ud;hb=1;var t=QC(),e=ew(),a=Object.prototype,n=a.hasOwnProperty;function l(u,o,f){var v=u[o];(!(n.call(u,o)&&e(v,f))||f===void 0&&!(o in u))&&t(u,o,f)}return Ud=l,Ud}var Vd,gb;function $C(){if(gb)return Vd;gb=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function a(n,l){var u=typeof n;return l=l??t,!!l&&(u=="number"||u!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<l}return Vd=a,Vd}var Hd,pb;function WC(){if(pb)return Hd;pb=1;var t=jC(),e=nw(),a=$C(),n=Qu(),l=kh();function u(o,f,v,c){if(!n(o))return o;f=e(f,o);for(var h=-1,g=f.length,y=g-1,w=o;w!=null&&++h<g;){var m=l(f[h]),S=v;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(h!=y){var x=w[m];S=c?c(x,m,w):void 0,S===void 0&&(S=n(x)?x:a(f[h+1])?[]:{})}t(w,m,S),w=w[m]}return o}return Hd=u,Hd}var Gd,yb;function JC(){if(yb)return Gd;yb=1;var t=WC();function e(a,n,l){return a==null?a:t(a,n,l)}return Gd=e,Gd}var eD=JC(),tD=Zu(eD),Yd,mb;function aD(){if(mb)return Yd;mb=1;function t(e,a){var n=-1,l=e.length;for(a||(a=Array(l));++n<l;)a[n]=e[n];return a}return Yd=t,Yd}var Fd,bb;function rD(){if(bb)return Fd;bb=1;var t=aw(),e=aD(),a=lf(),n=ju(),l=tw(),u=kh(),o=rw();function f(v){return a(v)?t(v,u):n(v)?[v]:e(l(o(v)))}return Fd=f,Fd}var nD=rD(),iD=Zu(nD),lD={data:function(e){var a={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(l){},beforeSet:function(l,u){},onSet:function(l){},canSet:function(l){return!0}};return e=He({},a,e),function(l,u){var o=e,f=this,v=f.length!==void 0,c=v?f:[f],h=v?f[0]:f;if(Ue(l)){var g=l.indexOf(".")!==-1,y=g&&iD(l);if(o.allowGetting&&u===void 0){var w;return h&&(o.beforeGet(h),y&&h._private[o.field][l]===void 0?w=KC(h._private[o.field],y):w=h._private[o.field][l]),w}else if(o.allowSetting&&u!==void 0){var m=!o.immutableKeys[l];if(m){var S=y1({},l,u);o.beforeSet(f,S);for(var x=0,E=c.length;x<E;x++){var T=c[x];o.canSet(T)&&(y&&h._private[o.field][l]===void 0?tD(T._private[o.field],y,u):T._private[o.field][l]=u)}o.updateStyle&&f.updateStyle(),o.onSet(f),o.settingTriggersEvent&&f[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&it(l)){var C=l,D,R,B=Object.keys(C);o.beforeSet(f,C);for(var M=0;M<B.length;M++){D=B[M],R=C[D];var z=!o.immutableKeys[D];if(z)for(var L=0;L<c.length;L++){var U=c[L];o.canSet(U)&&(U._private[o.field][D]=R)}}o.updateStyle&&f.updateStyle(),o.onSet(f),o.settingTriggersEvent&&f[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Bt(l)){var _=l;f.on(o.bindingEvent,_)}else if(o.allowGetting&&l===void 0){var V;return h&&(o.beforeGet(h),V=h._private[o.field]),V}return f}},removeData:function(e){var a={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=He({},a,e),function(l){var u=e,o=this,f=o.length!==void 0,v=f?o:[o];if(Ue(l)){for(var c=l.split(/\s+/),h=c.length,g=0;g<h;g++){var y=c[g];if(!Mn(y)){var w=!u.immutableKeys[y];if(w)for(var m=0,S=v.length;m<S;m++)v[m]._private[u.field][y]=void 0}}u.triggerEvent&&o[u.triggerFnName](u.event)}else if(l===void 0){for(var x=0,E=v.length;x<E;x++)for(var T=v[x]._private[u.field],C=Object.keys(T),D=0;D<C.length;D++){var R=C[D],B=!u.immutableKeys[R];B&&(T[R]=void 0)}u.triggerEvent&&o[u.triggerFnName](u.event)}return o}}},uD={eventAliasesOn:function(e){var a=e;a.addListener=a.listen=a.bind=a.on,a.unlisten=a.unbind=a.off=a.removeListener,a.trigger=a.emit,a.pon=a.promiseOn=function(n,l){var u=this,o=Array.prototype.slice.call(arguments,0);return new wl(function(f,v){var c=function(w){u.off.apply(u,g),f(w)},h=o.concat([c]),g=h.concat([]);u.on.apply(u,h)})}}},ft={};[dC,lD,uD].forEach(function(t){He(ft,t)});var sD={animate:ft.animate(),animation:ft.animation(),animated:ft.animated(),clearQueue:ft.clearQueue(),delay:ft.delay(),delayAnimation:ft.delayAnimation(),stop:ft.stop()},zo={classes:function(e){var a=this;if(e===void 0){var n=[];return a[0]._private.classes.forEach(function(m){return n.push(m)}),n}else xt(e)||(e=(e||"").match(/\S+/g)||[]);for(var l=[],u=new bl(e),o=0;o<a.length;o++){for(var f=a[o],v=f._private,c=v.classes,h=!1,g=0;g<e.length;g++){var y=e[g],w=c.has(y);if(!w){h=!0;break}}h||(h=c.size!==e.length),h&&(v.classes=u,l.push(f))}return l.length>0&&this.spawn(l).updateStyle().emit("class"),a},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var a=this[0];return a!=null&&a._private.classes.has(e)},toggleClass:function(e,a){xt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,l=a===void 0,u=[],o=0,f=n.length;o<f;o++)for(var v=n[o],c=v._private.classes,h=!1,g=0;g<e.length;g++){var y=e[g],w=c.has(y),m=!1;a||l&&!w?(c.add(y),m=!0):(!a||l&&w)&&(c.delete(y),m=!0),!h&&m&&(u.push(v),h=!0)}return u.length>0&&this.spawn(u).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,a){var n=this;if(a==null)a=250;else if(a===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},a),n}};zo.className=zo.classNames=zo.classes;var nt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Zt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};nt.variable="(?:[\\w-.]|(?:\\\\"+nt.metaChar+"))+";nt.className="(?:[\\w-]|(?:\\\\"+nt.metaChar+"))+";nt.value=nt.string+"|"+nt.number;nt.id=nt.variable;(function(){var t,e,a;for(t=nt.comparatorOp.split("|"),a=0;a<t.length;a++)e=t[a],nt.comparatorOp+="|@"+e;for(t=nt.comparatorOp.split("|"),a=0;a<t.length;a++)e=t[a],!(e.indexOf("!")>=0)&&e!=="="&&(nt.comparatorOp+="|\\!"+e)})();var bt=function(){return{checks:[]}},Oe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},fh=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return cS(t.selector,e.selector)}),oD=function(){for(var t={},e,a=0;a<fh.length;a++)e=fh[a],t[e.selector]=e.matches;return t}(),fD=function(e,a){return oD[e](a)},cD="("+fh.map(function(t){return t.selector}).join("|")+")",Ji=function(e){return e.replace(new RegExp("\\\\("+nt.metaChar+")","g"),function(a,n){return n})},Sn=function(e,a,n){e[e.length-1]=n},ch=[{name:"group",query:!0,regex:"("+nt.group+")",populate:function(e,a,n){var l=ia(n,1),u=l[0];a.checks.push({type:Oe.GROUP,value:u==="*"?u:u+"s"})}},{name:"state",query:!0,regex:cD,populate:function(e,a,n){var l=ia(n,1),u=l[0];a.checks.push({type:Oe.STATE,value:u})}},{name:"id",query:!0,regex:"\\#("+nt.id+")",populate:function(e,a,n){var l=ia(n,1),u=l[0];a.checks.push({type:Oe.ID,value:Ji(u)})}},{name:"className",query:!0,regex:"\\.("+nt.className+")",populate:function(e,a,n){var l=ia(n,1),u=l[0];a.checks.push({type:Oe.CLASS,value:Ji(u)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+nt.variable+")\\s*\\]",populate:function(e,a,n){var l=ia(n,1),u=l[0];a.checks.push({type:Oe.DATA_EXIST,field:Ji(u)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+nt.variable+")\\s*("+nt.comparatorOp+")\\s*("+nt.value+")\\s*\\]",populate:function(e,a,n){var l=ia(n,3),u=l[0],o=l[1],f=l[2],v=new RegExp("^"+nt.string+"$").exec(f)!=null;v?f=f.substring(1,f.length-1):f=parseFloat(f),a.checks.push({type:Oe.DATA_COMPARE,field:Ji(u),operator:o,value:f})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+nt.boolOp+")\\s*("+nt.variable+")\\s*\\]",populate:function(e,a,n){var l=ia(n,2),u=l[0],o=l[1];a.checks.push({type:Oe.DATA_BOOL,field:Ji(o),operator:u})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+nt.meta+")\\s*("+nt.comparatorOp+")\\s*("+nt.number+")\\s*\\]\\]",populate:function(e,a,n){var l=ia(n,3),u=l[0],o=l[1],f=l[2];a.checks.push({type:Oe.META_COMPARE,field:Ji(u),operator:o,value:parseFloat(f)})}},{name:"nextQuery",separator:!0,regex:nt.separator,populate:function(e,a){var n=e.currentSubject,l=e.edgeCount,u=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=l,o.compoundCount=u,e.edgeCount=0,e.compoundCount=0;var f=e[e.length++]=bt();return f}},{name:"directedEdge",separator:!0,regex:nt.directedEdge,populate:function(e,a){if(e.currentSubject==null){var n=bt(),l=a,u=bt();return n.checks.push({type:Oe.DIRECTED_EDGE,source:l,target:u}),Sn(e,a,n),e.edgeCount++,u}else{var o=bt(),f=a,v=bt();return o.checks.push({type:Oe.NODE_SOURCE,source:f,target:v}),Sn(e,a,o),e.edgeCount++,v}}},{name:"undirectedEdge",separator:!0,regex:nt.undirectedEdge,populate:function(e,a){if(e.currentSubject==null){var n=bt(),l=a,u=bt();return n.checks.push({type:Oe.UNDIRECTED_EDGE,nodes:[l,u]}),Sn(e,a,n),e.edgeCount++,u}else{var o=bt(),f=a,v=bt();return o.checks.push({type:Oe.NODE_NEIGHBOR,node:f,neighbor:v}),Sn(e,a,o),v}}},{name:"child",separator:!0,regex:nt.child,populate:function(e,a){if(e.currentSubject==null){var n=bt(),l=bt(),u=e[e.length-1];return n.checks.push({type:Oe.CHILD,parent:u,child:l}),Sn(e,a,n),e.compoundCount++,l}else if(e.currentSubject===a){var o=bt(),f=e[e.length-1],v=bt(),c=bt(),h=bt(),g=bt();return o.checks.push({type:Oe.COMPOUND_SPLIT,left:f,right:v,subject:c}),c.checks=a.checks,a.checks=[{type:Oe.TRUE}],g.checks.push({type:Oe.TRUE}),v.checks.push({type:Oe.PARENT,parent:g,child:h}),Sn(e,f,o),e.currentSubject=c,e.compoundCount++,h}else{var y=bt(),w=bt(),m=[{type:Oe.PARENT,parent:y,child:w}];return y.checks=a.checks,a.checks=m,e.compoundCount++,w}}},{name:"descendant",separator:!0,regex:nt.descendant,populate:function(e,a){if(e.currentSubject==null){var n=bt(),l=bt(),u=e[e.length-1];return n.checks.push({type:Oe.DESCENDANT,ancestor:u,descendant:l}),Sn(e,a,n),e.compoundCount++,l}else if(e.currentSubject===a){var o=bt(),f=e[e.length-1],v=bt(),c=bt(),h=bt(),g=bt();return o.checks.push({type:Oe.COMPOUND_SPLIT,left:f,right:v,subject:c}),c.checks=a.checks,a.checks=[{type:Oe.TRUE}],g.checks.push({type:Oe.TRUE}),v.checks.push({type:Oe.ANCESTOR,ancestor:g,descendant:h}),Sn(e,f,o),e.currentSubject=c,e.compoundCount++,h}else{var y=bt(),w=bt(),m=[{type:Oe.ANCESTOR,ancestor:y,descendant:w}];return y.checks=a.checks,a.checks=m,e.compoundCount++,w}}},{name:"subject",modifier:!0,regex:nt.subject,populate:function(e,a){if(e.currentSubject!=null&&e.currentSubject!==a)return ct("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=a;var n=e[e.length-1],l=n.checks[0],u=l==null?null:l.type;u===Oe.DIRECTED_EDGE?l.type=Oe.NODE_TARGET:u===Oe.UNDIRECTED_EDGE&&(l.type=Oe.NODE_NEIGHBOR,l.node=l.nodes[1],l.neighbor=l.nodes[0],l.nodes=null)}}];ch.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var vD=function(e){for(var a,n,l,u=0;u<ch.length;u++){var o=ch[u],f=o.name,v=e.match(o.regexObj);if(v!=null){n=v,a=o,l=f;var c=v[0];e=e.substring(c.length);break}}return{expr:a,match:n,name:l,remaining:e}},dD=function(e){var a=e.match(/^\s+/);if(a){var n=a[0];e=e.substring(n.length)}return e},hD=function(e){var a=this,n=a.inputText=e,l=a[0]=bt();for(a.length=1,n=dD(n);;){var u=vD(n);if(u.expr==null)return ct("The selector `"+e+"`is invalid"),!1;var o=u.match.slice(1),f=u.expr.populate(a,l,o);if(f===!1)return!1;if(f!=null&&(l=f),n=u.remaining,n.match(/^\s*$/))break}var v=a[a.length-1];a.currentSubject!=null&&(v.subject=a.currentSubject),v.edgeCount=a.edgeCount,v.compoundCount=a.compoundCount;for(var c=0;c<a.length;c++){var h=a[c];if(h.compoundCount>0&&h.edgeCount>0)return ct("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return ct("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&ct("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},gD=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(h){return h??""},a=function(h){return Ue(h)?'"'+h+'"':e(h)},n=function(h){return" "+h+" "},l=function(h,g){var y=h.type,w=h.value;switch(y){case Oe.GROUP:{var m=e(w);return m.substring(0,m.length-1)}case Oe.DATA_COMPARE:{var S=h.field,x=h.operator;return"["+S+n(e(x))+a(w)+"]"}case Oe.DATA_BOOL:{var E=h.operator,T=h.field;return"["+e(E)+T+"]"}case Oe.DATA_EXIST:{var C=h.field;return"["+C+"]"}case Oe.META_COMPARE:{var D=h.operator,R=h.field;return"[["+R+n(e(D))+a(w)+"]]"}case Oe.STATE:return w;case Oe.ID:return"#"+w;case Oe.CLASS:return"."+w;case Oe.PARENT:case Oe.CHILD:return u(h.parent,g)+n(">")+u(h.child,g);case Oe.ANCESTOR:case Oe.DESCENDANT:return u(h.ancestor,g)+" "+u(h.descendant,g);case Oe.COMPOUND_SPLIT:{var B=u(h.left,g),M=u(h.subject,g),z=u(h.right,g);return B+(B.length>0?" ":"")+M+z}case Oe.TRUE:return""}},u=function(h,g){return h.checks.reduce(function(y,w,m){return y+(g===h&&m===0?"$":"")+l(w,g)},"")},o="",f=0;f<this.length;f++){var v=this[f];o+=u(v,v.subject),this.length>1&&f<this.length-1&&(o+=", ")}return this.toStringCache=o,o},pD={parse:hD,toString:gD},iw=function(e,a,n){var l,u=Ue(e),o=Re(e),f=Ue(n),v,c,h=!1,g=!1,y=!1;switch(a.indexOf("!")>=0&&(a=a.replace("!",""),g=!0),a.indexOf("@")>=0&&(a=a.replace("@",""),h=!0),(u||f||h)&&(v=!u&&!o?"":""+e,c=""+n),h&&(e=v=v.toLowerCase(),n=c=c.toLowerCase()),a){case"*=":l=v.indexOf(c)>=0;break;case"$=":l=v.indexOf(c,v.length-c.length)>=0;break;case"^=":l=v.indexOf(c)===0;break;case"=":l=e===n;break;case">":y=!0,l=e>n;break;case">=":y=!0,l=e>=n;break;case"<":y=!0,l=e<n;break;case"<=":y=!0,l=e<=n;break;default:l=!1;break}return g&&(e!=null||!y)&&(l=!l),l},yD=function(e,a){switch(a){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},mD=function(e){return e!==void 0},_h=function(e,a){return e.data(a)},bD=function(e,a){return e[a]()},_t=[],Dt=function(e,a){return e.checks.every(function(n){return _t[n.type](n,a)})};_t[Oe.GROUP]=function(t,e){var a=t.value;return a==="*"||a===e.group()};_t[Oe.STATE]=function(t,e){var a=t.value;return fD(a,e)};_t[Oe.ID]=function(t,e){var a=t.value;return e.id()===a};_t[Oe.CLASS]=function(t,e){var a=t.value;return e.hasClass(a)};_t[Oe.META_COMPARE]=function(t,e){var a=t.field,n=t.operator,l=t.value;return iw(bD(e,a),n,l)};_t[Oe.DATA_COMPARE]=function(t,e){var a=t.field,n=t.operator,l=t.value;return iw(_h(e,a),n,l)};_t[Oe.DATA_BOOL]=function(t,e){var a=t.field,n=t.operator;return yD(_h(e,a),n)};_t[Oe.DATA_EXIST]=function(t,e){var a=t.field;return t.operator,mD(_h(e,a))};_t[Oe.UNDIRECTED_EDGE]=function(t,e){var a=t.nodes[0],n=t.nodes[1],l=e.source(),u=e.target();return Dt(a,l)&&Dt(n,u)||Dt(n,l)&&Dt(a,u)};_t[Oe.NODE_NEIGHBOR]=function(t,e){return Dt(t.node,e)&&e.neighborhood().some(function(a){return a.isNode()&&Dt(t.neighbor,a)})};_t[Oe.DIRECTED_EDGE]=function(t,e){return Dt(t.source,e.source())&&Dt(t.target,e.target())};_t[Oe.NODE_SOURCE]=function(t,e){return Dt(t.source,e)&&e.outgoers().some(function(a){return a.isNode()&&Dt(t.target,a)})};_t[Oe.NODE_TARGET]=function(t,e){return Dt(t.target,e)&&e.incomers().some(function(a){return a.isNode()&&Dt(t.source,a)})};_t[Oe.CHILD]=function(t,e){return Dt(t.child,e)&&Dt(t.parent,e.parent())};_t[Oe.PARENT]=function(t,e){return Dt(t.parent,e)&&e.children().some(function(a){return Dt(t.child,a)})};_t[Oe.DESCENDANT]=function(t,e){return Dt(t.descendant,e)&&e.ancestors().some(function(a){return Dt(t.ancestor,a)})};_t[Oe.ANCESTOR]=function(t,e){return Dt(t.ancestor,e)&&e.descendants().some(function(a){return Dt(t.descendant,a)})};_t[Oe.COMPOUND_SPLIT]=function(t,e){return Dt(t.subject,e)&&Dt(t.left,e)&&Dt(t.right,e)};_t[Oe.TRUE]=function(){return!0};_t[Oe.COLLECTION]=function(t,e){var a=t.value;return a.has(e)};_t[Oe.FILTER]=function(t,e){var a=t.value;return a(e)};var wD=function(e){var a=this;if(a.length===1&&a[0].checks.length===1&&a[0].checks[0].type===Oe.ID)return e.getElementById(a[0].checks[0].value).collection();var n=function(u){for(var o=0;o<a.length;o++){var f=a[o];if(Dt(f,u))return!0}return!1};return a.text()==null&&(n=function(){return!0}),e.filter(n)},xD=function(e){for(var a=this,n=0;n<a.length;n++){var l=a[n];if(Dt(l,e))return!0}return!1},ED={matches:xD,filter:wD},zn=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ue(e)&&e.match(/^\s*$/)||(Xa(e)?this.addQuery({checks:[{type:Oe.COLLECTION,value:e.collection()}]}):Bt(e)?this.addQuery({checks:[{type:Oe.FILTER,value:e}]}):Ue(e)?this.parse(e)||(this.invalid=!0):Mt("A selector must be created from a string; found "))},Nn=zn.prototype;[pD,ED].forEach(function(t){return He(Nn,t)});Nn.text=function(){return this.inputText};Nn.size=function(){return this.length};Nn.eq=function(t){return this[t]};Nn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Nn.addQuery=function(t){this[this.length++]=t};Nn.selector=Nn.toString;var An={allAre:function(e){var a=new zn(e);return this.every(function(n){return a.matches(n)})},is:function(e){var a=new zn(e);return this.some(function(n){return a.matches(n)})},some:function(e,a){for(var n=0;n<this.length;n++){var l=a?e.apply(a,[this[n],n,this]):e(this[n],n,this);if(l)return!0}return!1},every:function(e,a){for(var n=0;n<this.length;n++){var l=a?e.apply(a,[this[n],n,this]):e(this[n],n,this);if(!l)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var a=this.length,n=e.length;return a!==n?!1:a===1?this[0]===e[0]:this.every(function(l){return e.hasElementWithId(l.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(a){return e.hasElementWithId(a.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var a=this.neighborhood();return e.every(function(n){return a.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var a=this;return e.every(function(n){return a.hasElementWithId(n.id())})}};An.allAreNeighbours=An.allAreNeighbors;An.has=An.contains;An.equal=An.equals=An.same;var lr=function(e,a){return function(l,u,o,f){var v=l,c=this,h;if(v==null?h="":Xa(v)&&v.length===1&&(h=v.id()),c.length===1&&h){var g=c[0]._private,y=g.traversalCache=g.traversalCache||{},w=y[a]=y[a]||[],m=Bn(h),S=w[m];return S||(w[m]=e.call(c,l,u,o,f))}else return e.call(c,l,u,o,f)}},ml={parent:function(e){var a=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var l=0;l<this.length;l++){var u=this[l],o=u._private.parent;o&&a.push(o)}return this.spawn(a,!0).filter(e)},parents:function(e){for(var a=[],n=this.parent();n.nonempty();){for(var l=0;l<n.length;l++){var u=n[l];a.push(u)}n=n.parent()}return this.spawn(a,!0).filter(e)},commonAncestors:function(e){for(var a,n=0;n<this.length;n++){var l=this[n],u=l.parents();a=a||u,a=a.intersect(u)}return a.filter(e)},orphans:function(e){return this.stdFilter(function(a){return a.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(a){return a.isChild()}).filter(e)},children:lr(function(t){for(var e=[],a=0;a<this.length;a++)for(var n=this[a],l=n._private.children,u=0;u<l.length;u++)e.push(l[u]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var a=[];function n(l){for(var u=0;u<l.length;u++){var o=l[u];a.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(a,!0).filter(e)}};function qh(t,e,a,n){for(var l=[],u=new bl,o=t.cy(),f=o.hasCompoundNodes(),v=0;v<t.length;v++){var c=t[v];a?l.push(c):f&&n(l,u,c)}for(;l.length>0;){var h=l.shift();e(h),u.add(h.id()),f&&n(l,u,h)}return t}function lw(t,e,a){if(a.isParent())for(var n=a._private.children,l=0;l<n.length;l++){var u=n[l];e.has(u.id())||t.push(u)}}ml.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qh(this,t,e,lw)};function uw(t,e,a){if(a.isChild()){var n=a._private.parent;e.has(n.id())||t.push(n)}}ml.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qh(this,t,e,uw)};function SD(t,e,a){uw(t,e,a),lw(t,e,a)}ml.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qh(this,t,e,SD)};ml.ancestors=ml.parents;var Hu,sw;Hu=sw={data:ft.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ft.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ft.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ft.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ft.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ft.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Hu.attr=Hu.data;Hu.removeAttr=Hu.removeData;var TD=sw,ff={};function Id(t){return function(e){var a=this;if(e===void 0&&(e=!0),a.length!==0)if(a.isNode()&&!a.removed()){for(var n=0,l=a[0],u=l._private.edges,o=0;o<u.length;o++){var f=u[o];!e&&f.isLoop()||(n+=t(l,f))}return n}else return}}He(ff,{degree:Id(function(t,e){return e.source().same(e.target())?2:1}),indegree:Id(function(t,e){return e.target().same(t)?1:0}),outdegree:Id(function(t,e){return e.source().same(t)?1:0})});function el(t,e){return function(a){for(var n,l=this.nodes(),u=0;u<l.length;u++){var o=l[u],f=o[t](a);f!==void 0&&(n===void 0||e(f,n))&&(n=f)}return n}}He(ff,{minDegree:el("degree",function(t,e){return t<e}),maxDegree:el("degree",function(t,e){return t>e}),minIndegree:el("indegree",function(t,e){return t<e}),maxIndegree:el("indegree",function(t,e){return t>e}),minOutdegree:el("outdegree",function(t,e){return t<e}),maxOutdegree:el("outdegree",function(t,e){return t>e})});He(ff,{totalDegree:function(e){for(var a=0,n=this.nodes(),l=0;l<n.length;l++)a+=n[l].degree(e);return a}});var vr,ow,fw=function(e,a,n){for(var l=0;l<e.length;l++){var u=e[l];if(!u.locked()){var o=u._private.position,f={x:a.x!=null?a.x-o.x:0,y:a.y!=null?a.y-o.y:0};u.isParent()&&!(f.x===0&&f.y===0)&&u.children().shift(f,n),u.dirtyBoundingBoxCache()}}},wb={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,a){fw(e,a,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};vr=ow={position:ft.data(wb),silentPosition:ft.data(He({},wb,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,a){fw(e,a,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,a){if(it(e))a?this.silentPosition(e):this.position(e);else if(Bt(e)){var n=e,l=this.cy();l.startBatch();for(var u=0;u<this.length;u++){var o=this[u],f=void 0;(f=n(o,u))&&(a?o.silentPosition(f):o.position(f))}l.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,a,n){var l;if(it(e)?(l={x:Re(e.x)?e.x:0,y:Re(e.y)?e.y:0},n=a):Ue(e)&&Re(a)&&(l={x:0,y:0},l[e]=a),l!=null){var u=this.cy();u.startBatch();for(var o=0;o<this.length;o++){var f=this[o];if(!(u.hasCompoundNodes()&&f.isChild()&&f.ancestors().anySame(this))){var v=f.position(),c={x:v.x+l.x,y:v.y+l.y};n?f.silentPosition(c):f.position(c)}}u.endBatch()}return this},silentShift:function(e,a){return it(e)?this.shift(e,!0):Ue(e)&&Re(a)&&this.shift(e,a,!0),this},renderedPosition:function(e,a){var n=this[0],l=this.cy(),u=l.zoom(),o=l.pan(),f=it(e)?e:void 0,v=f!==void 0||a!==void 0&&Ue(e);if(n&&n.isNode())if(v)for(var c=0;c<this.length;c++){var h=this[c];a!==void 0?h.position(e,(a-o[e])/u):f!==void 0&&h.position(q1(f,u,o))}else{var g=n.position();return f=rf(g,u,o),e===void 0?f:f[e]}else if(!v)return;return this},relativePosition:function(e,a){var n=this[0],l=this.cy(),u=it(e)?e:void 0,o=u!==void 0||a!==void 0&&Ue(e),f=l.hasCompoundNodes();if(n&&n.isNode())if(o)for(var v=0;v<this.length;v++){var c=this[v],h=f?c.parent():null,g=h&&h.length>0,y=g;g&&(h=h[0]);var w=y?h.position():{x:0,y:0};a!==void 0?c.position(e,a+w[e]):u!==void 0&&c.position({x:u.x+w.x,y:u.y+w.y})}else{var m=n.position(),S=f?n.parent():null,x=S&&S.length>0,E=x;x&&(S=S[0]);var T=E?S.position():{x:0,y:0};return u={x:m.x-T.x,y:m.y-T.y},e===void 0?u:u[e]}else if(!o)return;return this}};vr.modelPosition=vr.point=vr.position;vr.modelPositions=vr.points=vr.positions;vr.renderedPoint=vr.renderedPosition;vr.relativePoint=vr.relativePosition;var CD=ow,hl,Pn;hl=Pn={};Pn.renderedBoundingBox=function(t){var e=this.boundingBox(t),a=this.cy(),n=a.zoom(),l=a.pan(),u=e.x1*n+l.x,o=e.x2*n+l.x,f=e.y1*n+l.y,v=e.y2*n+l.y;return{x1:u,x2:o,y1:f,y2:v,w:o-u,h:v-f}};Pn.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(a){if(a.isParent()){var n=a._private;n.compoundBoundsClean=!1,n.bbCache=null,t||a.emitAndNotify("bounds")}}),this)};Pn.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function a(o){if(!o.isParent())return;var f=o._private,v=o.children(),c=o.pstyle("compound-sizing-wrt-labels").value==="include",h={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},g=v.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),y=f.position;(g.w===0||g.h===0)&&(g={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},g.x1=y.x-g.w/2,g.x2=y.x+g.w/2,g.y1=y.y-g.h/2,g.y2=y.y+g.h/2);function w(L,U,_){var V=0,P=0,Y=U+_;return L>0&&Y>0&&(V=U/Y*L,P=_/Y*L),{biasDiff:V,biasComplementDiff:P}}function m(L,U,_,V){if(_.units==="%")switch(V){case"width":return L>0?_.pfValue*L:0;case"height":return U>0?_.pfValue*U:0;case"average":return L>0&&U>0?_.pfValue*(L+U)/2:0;case"min":return L>0&&U>0?L>U?_.pfValue*U:_.pfValue*L:0;case"max":return L>0&&U>0?L>U?_.pfValue*L:_.pfValue*U:0;default:return 0}else return _.units==="px"?_.pfValue:0}var S=h.width.left.value;h.width.left.units==="px"&&h.width.val>0&&(S=S*100/h.width.val);var x=h.width.right.value;h.width.right.units==="px"&&h.width.val>0&&(x=x*100/h.width.val);var E=h.height.top.value;h.height.top.units==="px"&&h.height.val>0&&(E=E*100/h.height.val);var T=h.height.bottom.value;h.height.bottom.units==="px"&&h.height.val>0&&(T=T*100/h.height.val);var C=w(h.width.val-g.w,S,x),D=C.biasDiff,R=C.biasComplementDiff,B=w(h.height.val-g.h,E,T),M=B.biasDiff,z=B.biasComplementDiff;f.autoPadding=m(g.w,g.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),f.autoWidth=Math.max(g.w,h.width.val),y.x=(-D+g.x1+g.x2+R)/2,f.autoHeight=Math.max(g.h,h.height.val),y.y=(-M+g.y1+g.y2+z)/2}for(var n=0;n<this.length;n++){var l=this[n],u=l._private;(!u.compoundBoundsClean||t)&&(a(l),e.batching()||(u.compoundBoundsClean=!0))}return this};var ir=function(e){return e===1/0||e===-1/0?0:e},fr=function(e,a,n,l,u){l-a===0||u-n===0||a==null||n==null||l==null||u==null||(e.x1=a<e.x1?a:e.x1,e.x2=l>e.x2?l:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=u>e.y2?u:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},li=function(e,a){return a==null?e:fr(e,a.x1,a.y1,a.x2,a.y2)},Tu=function(e,a,n){return nr(e,a,n)},Eo=function(e,a,n){if(!a.cy().headless()){var l=a._private,u=l.rstyle,o=u.arrowWidth/2,f=a.pstyle(n+"-arrow-shape").value,v,c;if(f!=="none"){n==="source"?(v=u.srcX,c=u.srcY):n==="target"?(v=u.tgtX,c=u.tgtY):(v=u.midX,c=u.midY);var h=l.arrowBounds=l.arrowBounds||{},g=h[n]=h[n]||{};g.x1=v-o,g.y1=c-o,g.x2=v+o,g.y2=c+o,g.w=g.x2-g.x1,g.h=g.y2-g.y1,Bo(g,1),fr(e,g.x1,g.y1,g.x2,g.y2)}}},Xd=function(e,a,n){if(!a.cy().headless()){var l;n?l=n+"-":l="";var u=a._private,o=u.rstyle,f=a.pstyle(l+"label").strValue;if(f){var v=a.pstyle("text-halign"),c=a.pstyle("text-valign"),h=Tu(o,"labelWidth",n),g=Tu(o,"labelHeight",n),y=Tu(o,"labelX",n),w=Tu(o,"labelY",n),m=a.pstyle(l+"text-margin-x").pfValue,S=a.pstyle(l+"text-margin-y").pfValue,x=a.isEdge(),E=a.pstyle(l+"text-rotation"),T=a.pstyle("text-outline-width").pfValue,C=a.pstyle("text-border-width").pfValue,D=C/2,R=a.pstyle("text-background-padding").pfValue,B=2,M=g,z=h,L=z/2,U=M/2,_,V,P,Y;if(x)_=y-L,V=y+L,P=w-U,Y=w+U;else{switch(v.value){case"left":_=y-z,V=y;break;case"center":_=y-L,V=y+L;break;case"right":_=y,V=y+z;break}switch(c.value){case"top":P=w-M,Y=w;break;case"center":P=w-U,Y=w+U;break;case"bottom":P=w,Y=w+M;break}}var I=m-Math.max(T,D)-R-B,k=m+Math.max(T,D)+R+B,H=S-Math.max(T,D)-R-B,F=S+Math.max(T,D)+R+B;_+=I,V+=k,P+=H,Y+=F;var j=n||"main",O=u.labelBounds,G=O[j]=O[j]||{};G.x1=_,G.y1=P,G.x2=V,G.y2=Y,G.w=V-_,G.h=Y-P,G.leftPad=I,G.rightPad=k,G.topPad=H,G.botPad=F;var K=x&&E.strValue==="autorotate",Z=E.pfValue!=null&&E.pfValue!==0;if(K||Z){var W=K?Tu(u.rstyle,"labelAngle",n):E.pfValue,ee=Math.cos(W),ae=Math.sin(W),de=(_+V)/2,fe=(P+Y)/2;if(!x){switch(v.value){case"left":de=V;break;case"right":de=_;break}switch(c.value){case"top":fe=Y;break;case"bottom":fe=P;break}}var ie=function(be,xe){return be=be-de,xe=xe-fe,{x:be*ee-xe*ae+de,y:be*ae+xe*ee+fe}},$=ie(_,P),ue=ie(_,Y),ge=ie(V,P),Se=ie(V,Y);_=Math.min($.x,ue.x,ge.x,Se.x),V=Math.max($.x,ue.x,ge.x,Se.x),P=Math.min($.y,ue.y,ge.y,Se.y),Y=Math.max($.y,ue.y,ge.y,Se.y)}var Me=j+"Rot",_e=O[Me]=O[Me]||{};_e.x1=_,_e.y1=P,_e.x2=V,_e.y2=Y,_e.w=V-_,_e.h=Y-P,fr(e,_,P,V,Y),fr(u.labelBounds.all,_,P,V,Y)}return e}},DD=function(e,a){if(!a.cy().headless()){var n=a.pstyle("outline-opacity").value,l=a.pstyle("outline-width").value;if(n>0&&l>0){var u=a.pstyle("outline-offset").value,o=a.pstyle("shape").value,f=l+u,v=(e.w+f*2)/e.w,c=(e.h+f*2)/e.h,h=0,g=0;["diamond","pentagon","round-triangle"].includes(o)?(v=(e.w+f*2.4)/e.w,g=-f/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?v=(e.w+f*2.4)/e.w:o==="star"?(v=(e.w+f*2.8)/e.w,c=(e.h+f*2.6)/e.h,g=-f/3.8):o==="triangle"?(v=(e.w+f*2.8)/e.w,c=(e.h+f*2.4)/e.h,g=-f/1.4):o==="vee"&&(v=(e.w+f*4.4)/e.w,c=(e.h+f*3.8)/e.h,g=-f*.5);var y=e.h*c-e.h,w=e.w*v-e.w;if(Oo(e,[Math.ceil(y/2),Math.ceil(w/2)]),h!=0||g!==0){var m=cT(e,h,g);U1(e,m)}}}},AD=function(e,a){var n=e._private.cy,l=n.styleEnabled(),u=n.headless(),o=_a(),f=e._private,v=e.isNode(),c=e.isEdge(),h,g,y,w,m,S,x=f.rstyle,E=v&&l?e.pstyle("bounds-expansion").pfValue:[0],T=function(he){return he.pstyle("display").value!=="none"},C=!l||T(e)&&(!c||T(e.source())&&T(e.target()));if(C){var D=0,R=0;l&&a.includeOverlays&&(D=e.pstyle("overlay-opacity").value,D!==0&&(R=e.pstyle("overlay-padding").value));var B=0,M=0;l&&a.includeUnderlays&&(B=e.pstyle("underlay-opacity").value,B!==0&&(M=e.pstyle("underlay-padding").value));var z=Math.max(R,M),L=0,U=0;if(l&&(L=e.pstyle("width").pfValue,U=L/2),v&&a.includeNodes){var _=e.position();m=_.x,S=_.y;var V=e.outerWidth(),P=V/2,Y=e.outerHeight(),I=Y/2;h=m-P,g=m+P,y=S-I,w=S+I,fr(o,h,y,g,w),l&&a.includeOutlines&&DD(o,e)}else if(c&&a.includeEdges)if(l&&!u){var k=e.pstyle("curve-style").strValue;if(h=Math.min(x.srcX,x.midX,x.tgtX),g=Math.max(x.srcX,x.midX,x.tgtX),y=Math.min(x.srcY,x.midY,x.tgtY),w=Math.max(x.srcY,x.midY,x.tgtY),h-=U,g+=U,y-=U,w+=U,fr(o,h,y,g,w),k==="haystack"){var H=x.haystackPts;if(H&&H.length===2){if(h=H[0].x,y=H[0].y,g=H[1].x,w=H[1].y,h>g){var F=h;h=g,g=F}if(y>w){var j=y;y=w,w=j}fr(o,h-U,y-U,g+U,w+U)}}else if(k==="bezier"||k==="unbundled-bezier"||k.endsWith("segments")||k.endsWith("taxi")){var O;switch(k){case"bezier":case"unbundled-bezier":O=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":O=x.linePts;break}if(O!=null)for(var G=0;G<O.length;G++){var K=O[G];h=K.x-U,g=K.x+U,y=K.y-U,w=K.y+U,fr(o,h,y,g,w)}}}else{var Z=e.source(),W=Z.position(),ee=e.target(),ae=ee.position();if(h=W.x,g=ae.x,y=W.y,w=ae.y,h>g){var de=h;h=g,g=de}if(y>w){var fe=y;y=w,w=fe}h-=U,g+=U,y-=U,w+=U,fr(o,h,y,g,w)}if(l&&a.includeEdges&&c&&(Eo(o,e,"mid-source"),Eo(o,e,"mid-target"),Eo(o,e,"source"),Eo(o,e,"target")),l){var ie=e.pstyle("ghost").value==="yes";if(ie){var $=e.pstyle("ghost-offset-x").pfValue,ue=e.pstyle("ghost-offset-y").pfValue;fr(o,o.x1+$,o.y1+ue,o.x2+$,o.y2+ue)}}var ge=f.bodyBounds=f.bodyBounds||{};u0(ge,o),Oo(ge,E),Bo(ge,1),l&&(h=o.x1,g=o.x2,y=o.y1,w=o.y2,fr(o,h-z,y-z,g+z,w+z));var Se=f.overlayBounds=f.overlayBounds||{};u0(Se,o),Oo(Se,E),Bo(Se,1);var Me=f.labelBounds=f.labelBounds||{};Me.all!=null?fT(Me.all):Me.all=_a(),l&&a.includeLabels&&(a.includeMainLabels&&Xd(o,e,null),c&&(a.includeSourceLabels&&Xd(o,e,"source"),a.includeTargetLabels&&Xd(o,e,"target")))}return o.x1=ir(o.x1),o.y1=ir(o.y1),o.x2=ir(o.x2),o.y2=ir(o.y2),o.w=ir(o.x2-o.x1),o.h=ir(o.y2-o.y1),o.w>0&&o.h>0&&C&&(Oo(o,E),Bo(o,1)),o},cw=function(e){var a=0,n=function(o){return(o?1:0)<<a++},l=0;return l+=n(e.incudeNodes),l+=n(e.includeEdges),l+=n(e.includeLabels),l+=n(e.includeMainLabels),l+=n(e.includeSourceLabels),l+=n(e.includeTargetLabels),l+=n(e.includeOverlays),l+=n(e.includeOutlines),l},vw=function(e){var a=function(f){return Math.round(f)};if(e.isEdge()){var n=e.source().position(),l=e.target().position();return t0([a(n.x),a(n.y),a(l.x),a(l.y)])}else{var u=e.position();return t0([a(u.x),a(u.y)])}},xb=function(e,a){var n=e._private,l,u=e.isEdge(),o=a==null?Eb:cw(a),f=o===Eb;if(n.bbCache==null?(l=AD(e,Gu),n.bbCache=l,n.bbCachePosKey=vw(e)):l=n.bbCache,!f){var v=e.isNode();l=_a(),(a.includeNodes&&v||a.includeEdges&&!v)&&(a.includeOverlays?li(l,n.overlayBounds):li(l,n.bodyBounds)),a.includeLabels&&(a.includeMainLabels&&(!u||a.includeSourceLabels&&a.includeTargetLabels)?li(l,n.labelBounds.all):(a.includeMainLabels&&li(l,n.labelBounds.mainRot),a.includeSourceLabels&&li(l,n.labelBounds.sourceRot),a.includeTargetLabels&&li(l,n.labelBounds.targetRot))),l.w=l.x2-l.x1,l.h=l.y2-l.y1}return l},Gu={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Eb=cw(Gu),Sb=jt(Gu);Pn.boundingBox=function(t){var e,a=t===void 0||t.useCache===void 0||t.useCache===!0,n=gl(function(h){var g=h._private;return g.bbCache==null||g.styleDirty||g.bbCachePosKey!==vw(h)},function(h){return h.id()});if(a&&this.length===1&&!n(this[0]))t===void 0?t=Gu:t=Sb(t),e=xb(this[0],t);else{e=_a(),t=t||Gu;var l=Sb(t),u=this,o=u.cy(),f=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),f&&this.recalculateRenderedStyle(a),this.updateCompoundBounds(!a);for(var v=0;v<u.length;v++){var c=u[v];n(c)&&c.dirtyBoundingBoxCache(),li(e,xb(c,l))}}return e.x1=ir(e.x1),e.y1=ir(e.y1),e.x2=ir(e.x2),e.y2=ir(e.y2),e.w=ir(e.x2-e.x1),e.h=ir(e.y2-e.y1),e};Pn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Pn.boundingBoxAt=function(t){var e=this.nodes(),a=this.cy(),n=a.hasCompoundNodes(),l=a.collection();if(n&&(l=e.filter(function(c){return c.isParent()}),e=e.not(l)),it(t)){var u=t;t=function(){return u}}var o=function(h,g){return h._private.bbAtOldPos=t(h,g)},f=function(h){return h._private.bbAtOldPos};a.startBatch(),e.forEach(o).silentPositions(t),n&&(l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),l.updateCompoundBounds(!0));var v=oT(this.boundingBox({useCache:!1}));return e.silentPositions(f),n&&(l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),l.updateCompoundBounds(!0)),a.endBatch(),v};hl.boundingbox=hl.bb=hl.boundingBox;hl.renderedBoundingbox=hl.renderedBoundingBox;var RD=Pn,Ou,Ju;Ou=Ju={};var dw=function(e){e.uppercaseName=Vm(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Vm(e.outerName),Ou[e.name]=function(){var n=this[0],l=n._private,u=l.cy,o=u._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),l[e.autoName]||0;var f=n.pstyle(e.name);switch(f.strValue){case"label":return n.recalculateRenderedStyle(),l.rstyle[e.labelName]||0;default:return f.pfValue}}else return 1},Ou["outer"+e.uppercaseName]=function(){var n=this[0],l=n._private,u=l.cy,o=u._private.styleEnabled;if(n)if(o){var f=n[e.name](),v=n.pstyle("border-width").pfValue,c=2*n.padding();return f+v+c}else return 1},Ou["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var l=n[e.name]();return l*this.cy().zoom()}},Ou["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var l=n[e.outerName]();return l*this.cy().zoom()}}};dw({name:"width"});dw({name:"height"});Ju.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Ju.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Ju.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var MD=Ju,BD=function(e,a){if(e.isEdge()&&e.takesUpSpace())return a(e)},OD=function(e,a){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return rf(a(e),n.zoom(),n.pan())}},zD=function(e,a){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),l=n.pan(),u=n.zoom();return a(e).map(function(o){return rf(o,u,l)})}},ND=function(e){return e.renderer().getControlPoints(e)},LD=function(e){return e.renderer().getSegmentPoints(e)},kD=function(e){return e.renderer().getSourceEndpoint(e)},_D=function(e){return e.renderer().getTargetEndpoint(e)},qD=function(e){return e.renderer().getEdgeMidpoint(e)},Tb={controlPoints:{get:ND,mult:!0},segmentPoints:{get:LD,mult:!0},sourceEndpoint:{get:kD},targetEndpoint:{get:_D},midpoint:{get:qD}},PD=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},UD=Object.keys(Tb).reduce(function(t,e){var a=Tb[e],n=PD(e);return t[e]=function(){return BD(this,a.get)},a.mult?t[n]=function(){return zD(this,a.get)}:t[n]=function(){return OD(this,a.get)},t},{}),VD=He({},CD,RD,MD,UD);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var hw=function(e,a){this.recycle(e,a)};function Cu(){return!1}function So(){return!0}hw.prototype={instanceString:function(){return"event"},recycle:function(e,a){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Cu,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?So:Cu):e!=null&&e.type?a=e:this.type=e,a!=null&&(this.originalEvent=a.originalEvent,this.type=a.type!=null?a.type:this.type,this.cy=a.cy,this.target=a.target,this.position=a.position,this.renderedPosition=a.renderedPosition,this.namespace=a.namespace,this.layout=a.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,l=this.cy.zoom(),u=this.cy.pan();this.renderedPosition={x:n.x*l+u.x,y:n.y*l+u.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=So;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=So;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=So,this.stopPropagation()},isDefaultPrevented:Cu,isPropagationStopped:Cu,isImmediatePropagationStopped:Cu};var gw=/^([^.]+)(\.(?:[^.]+))?$/,HD=".*",pw={qualifierCompare:function(e,a){return e===a},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Cb=Object.keys(pw),GD={};function cf(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GD,e=arguments.length>1?arguments[1]:void 0,a=0;a<Cb.length;a++){var n=Cb[a];this[n]=t[n]||pw[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Ln=cf.prototype,yw=function(e,a,n,l,u,o,f){Bt(l)&&(u=l,l=null),f&&(o==null?o=f:o=He({},o,f));for(var v=xt(n)?n:n.split(/\s+/),c=0;c<v.length;c++){var h=v[c];if(!Mn(h)){var g=h.match(gw);if(g){var y=g[1],w=g[2]?g[2]:null,m=a(e,h,y,w,l,u,o);if(m===!1)break}}}},Db=function(e,a){return e.addEventFields(e.context,a),new hw(a.type,a)},YD=function(e,a,n){if(eS(n)){a(e,n);return}else if(it(n)){a(e,Db(e,n));return}for(var l=xt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var o=l[u];if(!Mn(o)){var f=o.match(gw);if(f){var v=f[1],c=f[2]?f[2]:null,h=Db(e,{type:v,namespace:c,target:e.context});a(e,h)}}}};Ln.on=Ln.addListener=function(t,e,a,n,l){return yw(this,function(u,o,f,v,c,h,g){Bt(h)&&u.listeners.push({event:o,callback:h,type:f,namespace:v,qualifier:c,conf:g})},t,e,a,n,l),this};Ln.one=function(t,e,a,n){return this.on(t,e,a,n,{one:!0})};Ln.removeListener=Ln.off=function(t,e,a,n){var l=this;this.emitting!==0&&(this.listeners=NS(this.listeners));for(var u=this.listeners,o=function(c){var h=u[c];yw(l,function(g,y,w,m,S,x){if((h.type===w||t==="*")&&(!m&&h.namespace!==".*"||h.namespace===m)&&(!S||g.qualifierCompare(h.qualifier,S))&&(!x||h.callback===x))return u.splice(c,1),!1},t,e,a,n)},f=u.length-1;f>=0;f--)o(f);return this};Ln.removeAllListeners=function(){return this.removeListener("*")};Ln.emit=Ln.trigger=function(t,e,a){var n=this.listeners,l=n.length;return this.emitting++,xt(e)||(e=[e]),YD(this,function(u,o){a!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:a}],l=n.length);for(var f=function(){var h=n[v];if(h.type===o.type&&(!h.namespace||h.namespace===o.namespace||h.namespace===HD)&&u.eventMatches(u.context,h,o)){var g=[o];e!=null&&kS(g,e),u.beforeEmit(u.context,h,o),h.conf&&h.conf.one&&(u.listeners=u.listeners.filter(function(m){return m!==h}));var y=u.callbackContext(u.context,h,o),w=h.callback.apply(y,g);u.afterEmit(u.context,h,o),w===!1&&(o.stopPropagation(),o.preventDefault())}},v=0;v<l;v++)f();u.bubble(u.context)&&!o.isPropagationStopped()&&u.parent(u.context).emit(o,e)},t),this.emitting--,this};var FD={qualifierCompare:function(e,a){return e==null||a==null?e==null&&a==null:e.sameText(a)},eventMatches:function(e,a,n){var l=a.qualifier;return l!=null?e!==n.target&&Ku(n.target)&&l.matches(n.target):!0},addEventFields:function(e,a){a.cy=e.cy(),a.target=e},callbackContext:function(e,a,n){return a.qualifier!=null?n.target:e},beforeEmit:function(e,a){a.conf&&a.conf.once&&a.conf.onceCollection.removeListener(a.event,a.qualifier,a.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},To=function(e){return Ue(e)?new zn(e):e},mw={createEmitter:function(){for(var e=0;e<this.length;e++){var a=this[e],n=a._private;n.emitter||(n.emitter=new cf(FD,a))}return this},emitter:function(){return this._private.emitter},on:function(e,a,n){for(var l=To(a),u=0;u<this.length;u++){var o=this[u];o.emitter().on(e,l,n)}return this},removeListener:function(e,a,n){for(var l=To(a),u=0;u<this.length;u++){var o=this[u];o.emitter().removeListener(e,l,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var a=this[e];a.emitter().removeAllListeners()}return this},one:function(e,a,n){for(var l=To(a),u=0;u<this.length;u++){var o=this[u];o.emitter().one(e,l,n)}return this},once:function(e,a,n){for(var l=To(a),u=0;u<this.length;u++){var o=this[u];o.emitter().on(e,l,n,{once:!0,onceCollection:this})}},emit:function(e,a){for(var n=0;n<this.length;n++){var l=this[n];l.emitter().emit(e,a)}return this},emitAndNotify:function(e,a){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,a),this}};ft.eventAliasesOn(mw);var bw={nodes:function(e){return this.filter(function(a){return a.isNode()}).filter(e)},edges:function(e){return this.filter(function(a){return a.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),a=this.spawn(),n=0;n<this.length;n++){var l=this[n];l.isNode()?e.push(l):a.push(l)}return{nodes:e,edges:a}},filter:function(e,a){if(e===void 0)return this;if(Ue(e)||Xa(e))return new zn(e).filter(this);if(Bt(e)){for(var n=this.spawn(),l=this,u=0;u<l.length;u++){var o=l[u],f=a?e.apply(a,[o,u,l]):e(o,u,l);f&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){Ue(e)&&(e=this.filter(e));for(var a=this.spawn(),n=0;n<this.length;n++){var l=this[n],u=e.has(l);u||a.push(l)}return a}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ue(e)){var a=e;return this.filter(a)}for(var n=this.spawn(),l=this,u=e,o=this.length<e.length,f=o?l:u,v=o?u:l,c=0;c<f.length;c++){var h=f[c];v.has(h)&&n.push(h)}return n},xor:function(e){var a=this._private.cy;Ue(e)&&(e=a.$(e));var n=this.spawn(),l=this,u=e,o=function(v,c){for(var h=0;h<v.length;h++){var g=v[h],y=g._private.data.id,w=c.hasElementWithId(y);w||n.push(g)}};return o(l,u),o(u,l),n},diff:function(e){var a=this._private.cy;Ue(e)&&(e=a.$(e));var n=this.spawn(),l=this.spawn(),u=this.spawn(),o=this,f=e,v=function(h,g,y){for(var w=0;w<h.length;w++){var m=h[w],S=m._private.data.id,x=g.hasElementWithId(S);x?u.merge(m):y.push(m)}};return v(o,f,n),v(f,o,l),{left:n,right:l,both:u}},add:function(e){var a=this._private.cy;if(!e)return this;if(Ue(e)){var n=e;e=a.mutableElements().filter(n)}for(var l=this.spawnSelf(),u=0;u<e.length;u++){var o=e[u],f=!this.has(o);f&&l.push(o)}return l},merge:function(e){var a=this._private,n=a.cy;if(!e)return this;if(e&&Ue(e)){var l=e;e=n.mutableElements().filter(l)}for(var u=a.map,o=0;o<e.length;o++){var f=e[o],v=f._private.data.id,c=!u.has(v);if(c){var h=this.length++;this[h]=f,u.set(v,{ele:f,index:h})}}return this},unmergeAt:function(e){var a=this[e],n=a.id(),l=this._private,u=l.map;this[e]=void 0,u.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var f=this.length-1,v=this[f],c=v._private.data.id;this[f]=void 0,this[e]=v,u.set(c,{ele:v,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var a=this._private,n=e._private.data.id,l=a.map,u=l.get(n);if(!u)return this;var o=u.index;return this.unmergeAt(o),this},unmerge:function(e){var a=this._private.cy;if(!e)return this;if(e&&Ue(e)){var n=e;e=a.mutableElements().filter(n)}for(var l=0;l<e.length;l++)this.unmergeOne(e[l]);return this},unmergeBy:function(e){for(var a=this.length-1;a>=0;a--){var n=this[a];e(n)&&this.unmergeAt(a)}return this},map:function(e,a){for(var n=[],l=this,u=0;u<l.length;u++){var o=l[u],f=a?e.apply(a,[o,u,l]):e(o,u,l);n.push(f)}return n},reduce:function(e,a){for(var n=a,l=this,u=0;u<l.length;u++)n=e(n,l[u],u,l);return n},max:function(e,a){for(var n=-1/0,l,u=this,o=0;o<u.length;o++){var f=u[o],v=a?e.apply(a,[f,o,u]):e(f,o,u);v>n&&(n=v,l=f)}return{value:n,ele:l}},min:function(e,a){for(var n=1/0,l,u=this,o=0;o<u.length;o++){var f=u[o],v=a?e.apply(a,[f,o,u]):e(f,o,u);v<n&&(n=v,l=f)}return{value:n,ele:l}}},ut=bw;ut.u=ut["|"]=ut["+"]=ut.union=ut.or=ut.add;ut["\\"]=ut["!"]=ut["-"]=ut.difference=ut.relativeComplement=ut.subtract=ut.not;ut.n=ut["&"]=ut["."]=ut.and=ut.intersection=ut.intersect;ut["^"]=ut["(+)"]=ut["(-)"]=ut.symmetricDifference=ut.symdiff=ut.xor;ut.fnFilter=ut.filterFn=ut.stdFilter=ut.filter;ut.complement=ut.abscomp=ut.absoluteComplement;var ID={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},ww=function(e,a){var n=e.cy(),l=n.hasCompoundNodes();function u(h){var g=h.pstyle("z-compound-depth");return g.value==="auto"?l?h.zDepth():0:g.value==="bottom"?-1:g.value==="top"?Ah:0}var o=u(e)-u(a);if(o!==0)return o;function f(h){var g=h.pstyle("z-index-compare");return g.value==="auto"&&h.isNode()?1:0}var v=f(e)-f(a);if(v!==0)return v;var c=e.pstyle("z-index").value-a.pstyle("z-index").value;return c!==0?c:e.poolIndex()-a.poolIndex()},Ko={forEach:function(e,a){if(Bt(e))for(var n=this.length,l=0;l<n;l++){var u=this[l],o=a?e.apply(a,[u,l,this]):e(u,l,this);if(o===!1)break}return this},toArray:function(){for(var e=[],a=0;a<this.length;a++)e.push(this[a]);return e},slice:function(e,a){var n=[],l=this.length;a==null&&(a=l),e==null&&(e=0),e<0&&(e=l+e),a<0&&(a=l+a);for(var u=e;u>=0&&u<a&&u<l;u++)n.push(this[u]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Bt(e))return this;var a=this.toArray().sort(e);return this.spawn(a)},sortByZIndex:function(){return this.sort(ww)},zDepth:function(){var e=this[0];if(e){var a=e._private,n=a.group;if(n==="nodes"){var l=a.data.parent?e.parents().size():0;return e.isParent()?l:Ah-1}else{var u=a.source,o=a.target,f=u.zDepth(),v=o.zDepth();return Math.max(f,v,0)}}}};Ko.each=Ko.forEach;var XD=function(){var e="undefined",a=(typeof Symbol>"u"?"undefined":Qt(Symbol))!=e&&Qt(Symbol.iterator)!=e;a&&(Ko[Symbol.iterator]=function(){var n=this,l={value:void 0,done:!1},u=0,o=this.length;return y1({next:function(){return u<o?l.value=n[u++]:(l.value=void 0,l.done=!0),l}},Symbol.iterator,function(){return this})})};XD();var KD=jt({nodeDimensionsIncludeLabels:!1}),No={layoutDimensions:function(e){e=KD(e);var a;if(!this.takesUpSpace())a={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();a={w:n.w,h:n.h}}else a={w:this.outerWidth(),h:this.outerHeight()};return(a.w===0||a.h===0)&&(a.w=a.h=1),a},layoutPositions:function(e,a,n){var l=this.nodes().filter(function(R){return!R.isParent()}),u=this.cy(),o=a.eles,f=function(B){return B.id()},v=gl(n,f);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(B,M,z){var L={x:M.x1+M.w/2,y:M.y1+M.h/2},U={x:(z.x-L.x)*B,y:(z.y-L.y)*B};return{x:L.x+U.x,y:L.y+U.y}},h=a.spacingFactor&&a.spacingFactor!==1,g=function(){if(!h)return null;for(var B=_a(),M=0;M<l.length;M++){var z=l[M],L=v(z,M);vT(B,L.x,L.y)}return B},y=g(),w=gl(function(R,B){var M=v(R,B);if(h){var z=Math.abs(a.spacingFactor);M=c(z,y,M)}return a.transform!=null&&(M=a.transform(R,M)),M},f);if(a.animate){for(var m=0;m<l.length;m++){var S=l[m],x=w(S,m),E=a.animateFilter==null||a.animateFilter(S,m);if(E){var T=S.animation({position:x,duration:a.animationDuration,easing:a.animationEasing});e.animations.push(T)}else S.position(x)}if(a.fit){var C=u.animation({fit:{boundingBox:o.boundingBoxAt(w),padding:a.padding},duration:a.animationDuration,easing:a.animationEasing});e.animations.push(C)}else if(a.zoom!==void 0&&a.pan!==void 0){var D=u.animation({zoom:a.zoom,pan:a.pan,duration:a.animationDuration,easing:a.animationEasing});e.animations.push(D)}e.animations.forEach(function(R){return R.play()}),e.one("layoutready",a.ready),e.emit({type:"layoutready",layout:e}),wl.all(e.animations.map(function(R){return R.promise()})).then(function(){e.one("layoutstop",a.stop),e.emit({type:"layoutstop",layout:e})})}else l.positions(w),a.fit&&u.fit(a.eles,a.padding),a.zoom!=null&&u.zoom(a.zoom),a.pan&&u.pan(a.pan),e.one("layoutready",a.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",a.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var a=this.cy();return a.makeLayout(He({},e,{eles:this}))}};No.createLayout=No.makeLayout=No.layout;function xw(t,e,a){var n=a._private,l=n.styleCache=n.styleCache||[],u;return(u=l[t])!=null||(u=l[t]=e(a)),u}function vf(t,e){return t=Bn(t),function(n){return xw(t,e,n)}}function df(t,e){t=Bn(t);var a=function(l){return e.call(l)};return function(){var l=this[0];if(l)return xw(t,a,l)}}var ha={recalculateRenderedStyle:function(e){var a=this.cy(),n=a.renderer(),l=a.styleEnabled();return n&&l&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),a=function(u){return u._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(a)}else this.forEach(function(l){a(l),l.connectedEdges().forEach(a)});return this},updateStyle:function(e){var a=this._private.cy;if(!a.styleEnabled())return this;if(a.batching()){var n=a._private.batchStyleEles;return n.merge(this),this}var l=a.hasCompoundNodes(),u=this;e=!!(e||e===void 0),l&&(u=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=u;return e?o.emitAndNotify("style"):o.emit("style"),u.forEach(function(f){return f._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var a=0;a<this.length;a++){var n=this[a];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],l=n.cy();if(l.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,l.style().apply(n));var u=n._private.style[e];return u??(a?l.style().getDefaultProperty(e):null)}},numericStyle:function(e){var a=this[0];if(a.cy().styleEnabled()&&a){var n=a.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var a=this[0];if(a.cy().styleEnabled()&&a)return a.pstyle(e).units},renderedStyle:function(e){var a=this.cy();if(!a.styleEnabled())return this;var n=this[0];if(n)return a.style().getRenderedStyle(n,e)},style:function(e,a){var n=this.cy();if(!n.styleEnabled())return this;var l=!1,u=n.style();if(it(e)){var o=e;u.applyBypass(this,o,l),this.emitAndNotify("style")}else if(Ue(e))if(a===void 0){var f=this[0];return f?u.getStylePropertyValue(f,e):void 0}else u.applyBypass(this,e,a,l),this.emitAndNotify("style");else if(e===void 0){var v=this[0];return v?u.getRawStyle(v):void 0}return this},removeStyle:function(e){var a=this.cy();if(!a.styleEnabled())return this;var n=!1,l=a.style(),u=this;if(e===void 0)for(var o=0;o<u.length;o++){var f=u[o];l.removeAllBypasses(f,n)}else{e=e.split(/\s+/);for(var v=0;v<u.length;v++){var c=u[v];l.removeBypasses(c,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var a=e.hasCompoundNodes(),n=this[0];if(n){var l=n._private,u=n.pstyle("opacity").value;if(!a)return u;var o=l.data.parent?n.parents():null;if(o)for(var f=0;f<o.length;f++){var v=o[f],c=v.pstyle("opacity").value;u=c*u}return u}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var a=this[0],n=a.cy().hasCompoundNodes();if(a)return n?a.effectiveOpacity()===0:a.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var a=this[0];return!!a._private.backgrounding}};function Kd(t,e){var a=t._private,n=a.data.parent?t.parents():null;if(n)for(var l=0;l<n.length;l++){var u=n[l];if(!e(u))return!1}return!0}function Ph(t){var e=t.ok,a=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var l=this.cy();if(!l.styleEnabled())return!0;var u=this[0],o=l.hasCompoundNodes();if(u){var f=u._private;if(!e(u))return!1;if(u.isNode())return!o||Kd(u,n);var v=f.source,c=f.target;return a(v)&&(!o||Kd(v,a))&&(v===c||a(c)&&(!o||Kd(c,a)))}}}var xl=vf("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});ha.takesUpSpace=df("takesUpSpace",Ph({ok:xl}));var ZD=vf("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&xl(t)}),QD=vf("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&xl(t)});ha.interactive=df("interactive",Ph({ok:ZD,parentOk:QD,edgeOkViaNode:xl}));ha.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var jD=vf("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&xl(t)}),$D=xl;ha.visible=df("visible",Ph({ok:jD,edgeOkViaNode:$D}));ha.hidden=function(){var t=this[0];if(t)return!t.visible()};ha.isBundledBezier=df("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});ha.bypass=ha.css=ha.style;ha.renderedCss=ha.renderedStyle;ha.removeBypass=ha.removeCss=ha.removeStyle;ha.pstyle=ha.parsedStyle;var Rn={};function Ab(t){return function(){var e=arguments,a=[];if(e.length===2){var n=e[0],l=e[1];this.on(t.event,n,l)}else if(e.length===1&&Bt(e[0])){var u=e[0];this.on(t.event,u)}else if(e.length===0||e.length===1&&xt(e[0])){for(var o=e.length===1?e[0]:null,f=0;f<this.length;f++){var v=this[f],c=!t.ableField||v._private[t.ableField],h=v._private[t.field]!=t.value;if(t.overrideAble){var g=t.overrideAble(v);if(g!==void 0&&(c=g,!g))return this}c&&(v._private[t.field]=t.value,h&&a.push(v))}var y=this.spawn(a);y.updateStyle(),y.emit(t.event),o&&y.emit(o)}return this}}function El(t){Rn[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var a=t.overrideField(e);if(a!==void 0)return a}return e._private[t.field]}},Rn[t.on]=Ab({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Rn[t.off]=Ab({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}El({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});El({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});El({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});El({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Rn.deselect=Rn.unselect;Rn.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};El({field:"active",on:"activate",off:"unactivate"});El({field:"pannable",on:"panify",off:"unpanify"});Rn.inactive=function(){var t=this[0];if(t)return!t._private.active};var Sa={},Rb=function(e){return function(n){for(var l=this,u=[],o=0;o<l.length;o++){var f=l[o];if(f.isNode()){for(var v=!1,c=f.connectedEdges(),h=0;h<c.length;h++){var g=c[h],y=g.source(),w=g.target();if(e.noIncomingEdges&&w===f&&y!==f||e.noOutgoingEdges&&y===f&&w!==f){v=!0;break}}v||u.push(f)}}return this.spawn(u,!0).filter(n)}},Mb=function(e){return function(a){for(var n=this,l=[],u=0;u<n.length;u++){var o=n[u];if(o.isNode())for(var f=o.connectedEdges(),v=0;v<f.length;v++){var c=f[v],h=c.source(),g=c.target();e.outgoing&&h===o?(l.push(c),l.push(g)):e.incoming&&g===o&&(l.push(c),l.push(h))}}return this.spawn(l,!0).filter(a)}},Bb=function(e){return function(a){for(var n=this,l=[],u={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var f=!1,v=0;v<o.length;v++){var c=o[v],h=c.id();u[h]||(u[h]=!0,l.push(c),f=!0)}if(!f)break;n=o}return this.spawn(l,!0).filter(a)}};Sa.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};He(Sa,{roots:Rb({noIncomingEdges:!0}),leaves:Rb({noOutgoingEdges:!0}),outgoers:lr(Mb({outgoing:!0}),"outgoers"),successors:Bb({outgoing:!0}),incomers:lr(Mb({incoming:!0}),"incomers"),predecessors:Bb({})});He(Sa,{neighborhood:lr(function(t){for(var e=[],a=this.nodes(),n=0;n<a.length;n++)for(var l=a[n],u=l.connectedEdges(),o=0;o<u.length;o++){var f=u[o],v=f.source(),c=f.target(),h=l===v?c:v;h.length>0&&e.push(h[0]),e.push(f[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Sa.neighbourhood=Sa.neighborhood;Sa.closedNeighbourhood=Sa.closedNeighborhood;Sa.openNeighbourhood=Sa.openNeighborhood;He(Sa,{source:lr(function(e){var a=this[0],n;return a&&(n=a._private.source||a.cy().collection()),n&&e?n.filter(e):n},"source"),target:lr(function(e){var a=this[0],n;return a&&(n=a._private.target||a.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Ob({attr:"source"}),targets:Ob({attr:"target"})});function Ob(t){return function(a){for(var n=[],l=0;l<this.length;l++){var u=this[l],o=u._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(a)}}He(Sa,{edgesWith:lr(zb(),"edgesWith"),edgesTo:lr(zb({thisIsSrc:!0}),"edgesTo")});function zb(t){return function(a){var n=[],l=this._private.cy,u=t||{};Ue(a)&&(a=l.$(a));for(var o=0;o<a.length;o++)for(var f=a[o]._private.edges,v=0;v<f.length;v++){var c=f[v],h=c._private.data,g=this.hasElementWithId(h.source)&&a.hasElementWithId(h.target),y=a.hasElementWithId(h.source)&&this.hasElementWithId(h.target),w=g||y;w&&((u.thisIsSrc||u.thisIsTgt)&&(u.thisIsSrc&&!g||u.thisIsTgt&&!y)||n.push(c))}return this.spawn(n,!0)}}He(Sa,{connectedEdges:lr(function(t){for(var e=[],a=this,n=0;n<a.length;n++){var l=a[n];if(l.isNode())for(var u=l._private.edges,o=0;o<u.length;o++){var f=u[o];e.push(f)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:lr(function(t){for(var e=[],a=this,n=0;n<a.length;n++){var l=a[n];l.isEdge()&&(e.push(l.source()[0]),e.push(l.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:lr(Nb(),"parallelEdges"),codirectedEdges:lr(Nb({codirected:!0}),"codirectedEdges")});function Nb(t){var e={codirected:!1};return t=He({},e,t),function(n){for(var l=[],u=this.edges(),o=t,f=0;f<u.length;f++)for(var v=u[f],c=v._private,h=c.source,g=h._private.data.id,y=c.data.target,w=h._private.edges,m=0;m<w.length;m++){var S=w[m],x=S._private.data,E=x.target,T=x.source,C=E===y&&T===g,D=g===E&&y===T;(o.codirected&&C||!o.codirected&&(C||D))&&l.push(S)}return this.spawn(l,!0).filter(n)}}He(Sa,{components:function(e){var a=this,n=a.cy(),l=n.collection(),u=e==null?a.nodes():e.nodes(),o=[];e!=null&&u.empty()&&(u=e.sources());var f=function(h,g){l.merge(h),u.unmerge(h),g.merge(h)};if(u.empty())return a.spawn();var v=function(){var h=n.collection();o.push(h);var g=u[0];f(g,h),a.bfs({directed:!1,roots:g,visit:function(w){return f(w,h)}}),h.forEach(function(y){y.connectedEdges().forEach(function(w){a.has(w)&&h.has(w.source())&&h.has(w.target())&&h.merge(w)})})};do v();while(u.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Sa.componentsOf=Sa.components;var ga=function(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Mt("A collection must have a reference to the core");return}var u=new Ir,o=!1;if(!a)a=[];else if(a.length>0&&it(a[0])&&!Ku(a[0])){o=!0;for(var f=[],v=new bl,c=0,h=a.length;c<h;c++){var g=a[c];g.data==null&&(g.data={});var y=g.data;if(y.id==null)y.id=k1();else if(e.hasElementWithId(y.id)||v.has(y.id))continue;var w=new af(e,g,!1);f.push(w),v.add(y.id)}a=f}this.length=0;for(var m=0,S=a.length;m<S;m++){var x=a[m][0];if(x!=null){var E=x._private.data.id;(!n||!u.has(E))&&(n&&u.set(E,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(T){this.lazyMap=T},rebuildMap:function(){for(var C=this.lazyMap=new Ir,D=this.eles,R=0;R<D.length;R++){var B=D[R];C.set(B.id(),{index:R,ele:B})}}},n&&(this._private.map=u),o&&!l&&this.restore()},Tt=af.prototype=ga.prototype=Object.create(Array.prototype);Tt.instanceString=function(){return"collection"};Tt.spawn=function(t,e){return new ga(this.cy(),t,e)};Tt.spawnSelf=function(){return this.spawn(this)};Tt.cy=function(){return this._private.cy};Tt.renderer=function(){return this._private.cy.renderer()};Tt.element=function(){return this[0]};Tt.collection=function(){return x1(this)?this:new ga(this._private.cy,[this])};Tt.unique=function(){return new ga(this._private.cy,this,!0)};Tt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Tt.getElementById=function(t){t=""+t;var e=this._private.cy,a=this._private.map.get(t);return a?a.ele:new ga(e)};Tt.$id=Tt.getElementById;Tt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,a=this[0]._private.data.id;return e._private.map.get(a).index};Tt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Tt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Tt.json=function(t){var e=this.element(),a=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(it(t)){if(a.startBatch(),t.data){e.data(t.data);var l=n.data;if(e.isEdge()){var u=!1,o={},f=t.data.source,v=t.data.target;f!=null&&f!=l.source&&(o.source=""+f,u=!0),v!=null&&v!=l.target&&(o.target=""+v,u=!0),u&&(e=e.move(o))}else{var c="parent"in t.data,h=t.data.parent;c&&(h!=null||l.parent!=null)&&h!=l.parent&&(h===void 0&&(h=null),h!=null&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var g=function(S,x,E){var T=t[S];T!=null&&T!==n[S]&&(T?e[x]():e[E]())};return g("removed","remove","restore"),g("selected","select","unselect"),g("selectable","selectify","unselectify"),g("locked","lock","unlock"),g("grabbable","grabify","ungrabify"),g("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),a.endBatch(),this}else if(t===void 0){var y={data:Sr(n.data),position:Sr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};y.classes="";var w=0;return n.classes.forEach(function(m){return y.classes+=w++===0?m:" "+m}),y}}};Tt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var a=this[e],n=a.json();t.push(n)}return t};Tt.clone=function(){for(var t=this.cy(),e=[],a=0;a<this.length;a++){var n=this[a],l=n.json(),u=new af(t,l,!1);e.push(u)}return new ga(t,e)};Tt.copy=Tt.clone;Tt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this,n=a.cy(),l=n._private,u=[],o=[],f,v=0,c=a.length;v<c;v++){var h=a[v];e&&!h.removed()||(h.isNode()?u.push(h):o.push(h))}f=u.concat(o);var g,y=function(){f.splice(g,1),g--};for(g=0;g<f.length;g++){var w=f[g],m=w._private,S=m.data;if(w.clearTraversalCache(),!(!e&&!m.removed)){if(S.id===void 0)S.id=k1();else if(Re(S.id))S.id=""+S.id;else if(Mn(S.id)||!Ue(S.id)){Mt("Can not create element with invalid string ID `"+S.id+"`"),y();continue}else if(n.hasElementWithId(S.id)){Mt("Can not create second element with ID `"+S.id+"`"),y();continue}}var x=S.id;if(w.isNode()){var E=m.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(w.isEdge()){for(var T=w,C=["source","target"],D=C.length,R=!1,B=0;B<D;B++){var M=C[B],z=S[M];Re(z)&&(z=S[M]=""+S[M]),z==null||z===""?(Mt("Can not create edge `"+x+"` with unspecified "+M),R=!0):n.hasElementWithId(z)||(Mt("Can not create edge `"+x+"` with nonexistant "+M+" `"+z+"`"),R=!0)}if(R){y();continue}var L=n.getElementById(S.source),U=n.getElementById(S.target);L.same(U)?L._private.edges.push(T):(L._private.edges.push(T),U._private.edges.push(T)),T._private.source=L,T._private.target=U}m.map=new Ir,m.map.set(x,{ele:w,index:0}),m.removed=!1,e&&n.addToPool(w)}for(var _=0;_<u.length;_++){var V=u[_],P=V._private.data;Re(P.parent)&&(P.parent=""+P.parent);var Y=P.parent,I=Y!=null;if(I||V._private.parent){var k=V._private.parent?n.collection().merge(V._private.parent):n.getElementById(Y);if(k.empty())P.parent=void 0;else if(k[0].removed())ct("Node added with missing parent, reference to parent removed"),P.parent=void 0,V._private.parent=null;else{for(var H=!1,F=k;!F.empty();){if(V.same(F)){H=!0,P.parent=void 0;break}F=F.parent()}H||(k[0]._private.children.push(V),V._private.parent=k[0],l.hasCompoundNodes=!0)}}}if(f.length>0){for(var j=f.length===a.length?a:new ga(n,f),O=0;O<j.length;O++){var G=j[O];G.isNode()||(G.parallelEdges().clearTraversalCache(),G.source().clearTraversalCache(),G.target().clearTraversalCache())}var K;l.hasCompoundNodes?K=n.collection().merge(j).merge(j.connectedNodes()).merge(j.parent()):K=j,K.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?j.emitAndNotify("add"):e&&j.emit("add")}return a};Tt.removed=function(){var t=this[0];return t&&t._private.removed};Tt.inside=function(){var t=this[0];return t&&!t._private.removed};Tt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this,n=[],l={},u=a._private.cy;function o(Y){for(var I=Y._private.edges,k=0;k<I.length;k++)v(I[k])}function f(Y){for(var I=Y._private.children,k=0;k<I.length;k++)v(I[k])}function v(Y){var I=l[Y.id()];e&&Y.removed()||I||(l[Y.id()]=!0,Y.isNode()?(n.push(Y),o(Y),f(Y)):n.unshift(Y))}for(var c=0,h=a.length;c<h;c++){var g=a[c];v(g)}function y(Y,I){var k=Y._private.edges;On(k,I),Y.clearTraversalCache()}function w(Y){Y.clearTraversalCache()}var m=[];m.ids={};function S(Y,I){I=I[0],Y=Y[0];var k=Y._private.children,H=Y.id();On(k,I),I._private.parent=null,m.ids[H]||(m.ids[H]=!0,m.push(Y))}a.dirtyCompoundBoundsCache(),e&&u.removeFromPool(n);for(var x=0;x<n.length;x++){var E=n[x];if(E.isEdge()){var T=E.source()[0],C=E.target()[0];y(T,E),y(C,E);for(var D=E.parallelEdges(),R=0;R<D.length;R++){var B=D[R];w(B),B.isBundledBezier()&&B.dirtyBoundingBoxCache()}}else{var M=E.parent();M.length!==0&&S(M,E)}e&&(E._private.removed=!0)}var z=u._private.elements;u._private.hasCompoundNodes=!1;for(var L=0;L<z.length;L++){var U=z[L];if(U.isParent()){u._private.hasCompoundNodes=!0;break}}var _=new ga(this.cy(),n);_.size()>0&&(t?_.emitAndNotify("remove"):e&&_.emit("remove"));for(var V=0;V<m.length;V++){var P=m[V];(!e||!P.removed())&&P.updateStyle()}return _};Tt.move=function(t){var e=this._private.cy,a=this,n=!1,l=!1,u=function(m){return m==null?m:""+m};if(t.source!==void 0||t.target!==void 0){var o=u(t.source),f=u(t.target),v=o!=null&&e.hasElementWithId(o),c=f!=null&&e.hasElementWithId(f);(v||c)&&(e.batch(function(){a.remove(n,l),a.emitAndNotify("moveout");for(var w=0;w<a.length;w++){var m=a[w],S=m._private.data;m.isEdge()&&(v&&(S.source=o),c&&(S.target=f))}a.restore(n,l)}),a.emitAndNotify("move"))}else if(t.parent!==void 0){var h=u(t.parent),g=h===null||e.hasElementWithId(h);if(g){var y=h===null?void 0:h;e.batch(function(){var w=a.remove(n,l);w.emitAndNotify("moveout");for(var m=0;m<a.length;m++){var S=a[m],x=S._private.data;S.isNode()&&(x.parent=y)}w.restore(n,l)}),a.emitAndNotify("move")}}return this};[Z1,sD,zo,An,ml,TD,ff,VD,mw,bw,ID,Ko,No,ha,Rn,Sa].forEach(function(t){He(Tt,t)});var WD={add:function(e){var a,n=this;if(Xa(e)){var l=e;if(l._private.cy===n)a=l.restore();else{for(var u=[],o=0;o<l.length;o++){var f=l[o];u.push(f.json())}a=new ga(n,u)}}else if(xt(e)){var v=e;a=new ga(n,v)}else if(it(e)&&(xt(e.nodes)||xt(e.edges))){for(var c=e,h=[],g=["nodes","edges"],y=0,w=g.length;y<w;y++){var m=g[y],S=c[m];if(xt(S))for(var x=0,E=S.length;x<E;x++){var T=He({group:m},S[x]);h.push(T)}}a=new ga(n,h)}else{var C=e;a=new af(n,C).collection()}return a},remove:function(e){if(!Xa(e)){if(Ue(e)){var a=e;e=this.$(a)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function JD(t,e,a,n){var l=4,u=.001,o=1e-7,f=10,v=11,c=1/(v-1),h=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var g=0;g<4;++g)if(typeof arguments[g]!="number"||isNaN(arguments[g])||!isFinite(arguments[g]))return!1;t=Math.min(t,1),a=Math.min(a,1),t=Math.max(t,0),a=Math.max(a,0);var y=h?new Float32Array(v):new Array(v);function w(U,_){return 1-3*_+3*U}function m(U,_){return 3*_-6*U}function S(U){return 3*U}function x(U,_,V){return((w(_,V)*U+m(_,V))*U+S(_))*U}function E(U,_,V){return 3*w(_,V)*U*U+2*m(_,V)*U+S(_)}function T(U,_){for(var V=0;V<l;++V){var P=E(_,t,a);if(P===0)return _;var Y=x(_,t,a)-U;_-=Y/P}return _}function C(){for(var U=0;U<v;++U)y[U]=x(U*c,t,a)}function D(U,_,V){var P,Y,I=0;do Y=_+(V-_)/2,P=x(Y,t,a)-U,P>0?V=Y:_=Y;while(Math.abs(P)>o&&++I<f);return Y}function R(U){for(var _=0,V=1,P=v-1;V!==P&&y[V]<=U;++V)_+=c;--V;var Y=(U-y[V])/(y[V+1]-y[V]),I=_+Y*c,k=E(I,t,a);return k>=u?T(U,I):k===0?I:D(U,_,_+c)}var B=!1;function M(){B=!0,(t!==e||a!==n)&&C()}var z=function(_){return B||M(),t===e&&a===n?_:_===0?0:_===1?1:x(R(_),e,n)};z.getControlPoints=function(){return[{x:t,y:e},{x:a,y:n}]};var L="generateBezier("+[t,e,a,n]+")";return z.toString=function(){return L},z}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var eA=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,l,u){var o={x:n.x+u.dx*l,v:n.v+u.dv*l,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function a(n,l){var u={dx:n.v,dv:t(n)},o=e(n,l*.5,u),f=e(n,l*.5,o),v=e(n,l,f),c=1/6*(u.dx+2*(o.dx+f.dx)+v.dx),h=1/6*(u.dv+2*(o.dv+f.dv)+v.dv);return n.x=n.x+c*l,n.v=n.v+h*l,n}return function n(l,u,o){var f={x:-1,v:0,tension:null,friction:null},v=[0],c=0,h=1/1e4,g=16/1e3,y,w,m;for(l=parseFloat(l)||500,u=parseFloat(u)||20,o=o||null,f.tension=l,f.friction=u,y=o!==null,y?(c=n(l,u),w=c/o*g):w=g;m=a(m||f,w),v.push(1+m.x),c+=16,Math.abs(m.x)>h&&Math.abs(m.v)>h;);return y?function(S){return v[S*(v.length-1)|0]}:c}}(),St=function(e,a,n,l){var u=JD(e,a,n,l);return function(o,f,v){return o+(f-o)*u(v)}},Lo={linear:function(e,a,n){return e+(a-e)*n},ease:St(.25,.1,.25,1),"ease-in":St(.42,0,1,1),"ease-out":St(0,0,.58,1),"ease-in-out":St(.42,0,.58,1),"ease-in-sine":St(.47,0,.745,.715),"ease-out-sine":St(.39,.575,.565,1),"ease-in-out-sine":St(.445,.05,.55,.95),"ease-in-quad":St(.55,.085,.68,.53),"ease-out-quad":St(.25,.46,.45,.94),"ease-in-out-quad":St(.455,.03,.515,.955),"ease-in-cubic":St(.55,.055,.675,.19),"ease-out-cubic":St(.215,.61,.355,1),"ease-in-out-cubic":St(.645,.045,.355,1),"ease-in-quart":St(.895,.03,.685,.22),"ease-out-quart":St(.165,.84,.44,1),"ease-in-out-quart":St(.77,0,.175,1),"ease-in-quint":St(.755,.05,.855,.06),"ease-out-quint":St(.23,1,.32,1),"ease-in-out-quint":St(.86,0,.07,1),"ease-in-expo":St(.95,.05,.795,.035),"ease-out-expo":St(.19,1,.22,1),"ease-in-out-expo":St(1,0,0,1),"ease-in-circ":St(.6,.04,.98,.335),"ease-out-circ":St(.075,.82,.165,1),"ease-in-out-circ":St(.785,.135,.15,.86),spring:function(e,a,n){if(n===0)return Lo.linear;var l=eA(e,a,n);return function(u,o,f){return u+(o-u)*l(f)}},"cubic-bezier":St};function Lb(t,e,a,n,l){if(n===1||e===a)return a;var u=l(e,a,n);return t==null||((t.roundValue||t.color)&&(u=Math.round(u)),t.min!==void 0&&(u=Math.max(u,t.min)),t.max!==void 0&&(u=Math.min(u,t.max))),u}function kb(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function tl(t,e,a,n,l){var u=l!=null?l.type:null;a<0?a=0:a>1&&(a=1);var o=kb(t,l),f=kb(e,l);if(Re(o)&&Re(f))return Lb(u,o,f,a,n);if(xt(o)&&xt(f)){for(var v=[],c=0;c<f.length;c++){var h=o[c],g=f[c];if(h!=null&&g!=null){var y=Lb(u,h,g,a,n);v.push(y)}else v.push(g)}return v}}function tA(t,e,a,n){var l=!n,u=t._private,o=e._private,f=o.easing,v=o.startTime,c=n?t:t.cy(),h=c.style();if(!o.easingImpl)if(f==null)o.easingImpl=Lo.linear;else{var g;if(Ue(f)){var y=h.parse("transition-timing-function",f);g=y.value}else g=f;var w,m;Ue(g)?(w=g,m=[]):(w=g[1],m=g.slice(2).map(function(j){return+j})),m.length>0?(w==="spring"&&m.push(o.duration),o.easingImpl=Lo[w].apply(null,m)):o.easingImpl=Lo[w]}var S=o.easingImpl,x;if(o.duration===0?x=1:x=(a-v)/o.duration,o.applying&&(x=o.progress),x<0?x=0:x>1&&(x=1),o.delay==null){var E=o.startPosition,T=o.position;if(T&&l&&!t.locked()){var C={};Du(E.x,T.x)&&(C.x=tl(E.x,T.x,x,S)),Du(E.y,T.y)&&(C.y=tl(E.y,T.y,x,S)),t.position(C)}var D=o.startPan,R=o.pan,B=u.pan,M=R!=null&&n;M&&(Du(D.x,R.x)&&(B.x=tl(D.x,R.x,x,S)),Du(D.y,R.y)&&(B.y=tl(D.y,R.y,x,S)),t.emit("pan"));var z=o.startZoom,L=o.zoom,U=L!=null&&n;U&&(Du(z,L)&&(u.zoom=Uu(u.minZoom,tl(z,L,x,S),u.maxZoom)),t.emit("zoom")),(M||U)&&t.emit("viewport");var _=o.style;if(_&&_.length>0&&l){for(var V=0;V<_.length;V++){var P=_[V],Y=P.name,I=P,k=o.startStyle[Y],H=h.properties[k.name],F=tl(k,I,x,S,H);h.overrideBypass(t,Y,F)}t.emit("style")}}return o.progress=x,x}function Du(t,e){return t==null||e==null?!1:Re(t)&&Re(e)?!0:!!(t&&e)}function aA(t,e,a,n){var l=e._private;l.started=!0,l.startTime=a-l.progress*l.duration}function _b(t,e){var a=e._private.aniEles,n=[];function l(h,g){var y=h._private,w=y.animation.current,m=y.animation.queue,S=!1;if(w.length===0){var x=m.shift();x&&w.push(x)}for(var E=function(B){for(var M=B.length-1;M>=0;M--){var z=B[M];z()}B.splice(0,B.length)},T=w.length-1;T>=0;T--){var C=w[T],D=C._private;if(D.stopped){w.splice(T,1),D.hooked=!1,D.playing=!1,D.started=!1,E(D.frames);continue}!D.playing&&!D.applying||(D.playing&&D.applying&&(D.applying=!1),D.started||aA(h,C,t),tA(h,C,t,g),D.applying&&(D.applying=!1),E(D.frames),D.step!=null&&D.step(t),C.completed()&&(w.splice(T,1),D.hooked=!1,D.playing=!1,D.started=!1,E(D.completes)),S=!0)}return!g&&w.length===0&&m.length===0&&n.push(h),S}for(var u=!1,o=0;o<a.length;o++){var f=a[o],v=l(f);u=u||v}var c=l(e,!0);(u||c)&&(a.length>0?e.notify("draw",a):e.notify("draw")),a.unmerge(n),e.emit("step")}var rA={animate:ft.animate(),animation:ft.animation(),animated:ft.animated(),clearQueue:ft.clearQueue(),delay:ft.delay(),delayAnimation:ft.delayAnimation(),stop:ft.stop(),addToAnimationPool:function(e){var a=this;a.styleEnabled()&&a._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function a(){e._private.animationsRunning&&Go(function(u){_b(u,e),a()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(u,o){_b(o,e)},n.beforeRenderPriorities.animations):a()}},nA={qualifierCompare:function(e,a){return e==null||a==null?e==null&&a==null:e.sameText(a)},eventMatches:function(e,a,n){var l=a.qualifier;return l!=null?e!==n.target&&Ku(n.target)&&l.matches(n.target):!0},addEventFields:function(e,a){a.cy=e,a.target=e},callbackContext:function(e,a,n){return a.qualifier!=null?n.target:e}},Co=function(e){return Ue(e)?new zn(e):e},Ew={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new cf(nA,this)),this},emitter:function(){return this._private.emitter},on:function(e,a,n){return this.emitter().on(e,Co(a),n),this},removeListener:function(e,a,n){return this.emitter().removeListener(e,Co(a),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,a,n){return this.emitter().one(e,Co(a),n),this},once:function(e,a,n){return this.emitter().one(e,Co(a),n),this},emit:function(e,a){return this.emitter().emit(e,a),this},emitAndNotify:function(e,a){return this.emit(e),this.notify(e,a),this}};ft.eventAliasesOn(Ew);var vh={png:function(e){var a=this._private.renderer;return e=e||{},a.png(e)},jpg:function(e){var a=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",a.jpg(e)}};vh.jpeg=vh.jpg;var ko={layout:function(e){var a=this;if(e==null){Mt("Layout options must be specified to make a layout");return}if(e.name==null){Mt("A `name` must be specified to make a layout");return}var n=e.name,l=a.extension("layout",n);if(l==null){Mt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var u;Ue(e.eles)?u=a.$(e.eles):u=e.eles!=null?e.eles:a.$();var o=new l(He({},e,{cy:a,eles:u}));return o}};ko.createLayout=ko.makeLayout=ko.layout;var iA={notify:function(e,a){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var l=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();a!=null&&l.merge(a);return}if(n.notificationsEnabled){var u=this.renderer();this.destroyed()||!u||u.notify(e,a)}},notifications:function(e){var a=this._private;return e===void 0?a.notificationsEnabled:(a.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var a=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var l=e.batchNotifications[n];l.empty()?a.notify(n):a.notify(n,l)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var a=this;return this.batch(function(){for(var n=Object.keys(e),l=0;l<n.length;l++){var u=n[l],o=e[u],f=a.getElementById(u);f.data(o)}})}},lA=jt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),dh={renderTo:function(e,a,n,l){var u=this._private.renderer;return u.renderTo(e,a,n,l),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var a=this,n=a.extension("renderer",e.name);if(n==null){Mt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ct("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var l=lA(e);l.cy=a,a._private.renderer=new n(l),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var a=e.container();if(a)for(a._cyreg=null;a.childNodes.length>0;)a.removeChild(a.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var l=n._private;l.rscratch={},l.rstyle={},l.animation.current=[],l.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};dh.invalidateDimensions=dh.resize;var _o={collection:function(e,a){return Ue(e)?this.$(e):Xa(e)?e.collection():xt(e)?(a||(a={}),new ga(this,e,a.unique,a.removed)):new ga(this)},nodes:function(e){var a=this.$(function(n){return n.isNode()});return e?a.filter(e):a},edges:function(e){var a=this.$(function(n){return n.isEdge()});return e?a.filter(e):a},$:function(e){var a=this._private.elements;return e?a.filter(e):a.spawnSelf()},mutableElements:function(){return this._private.elements}};_o.elements=_o.filter=_o.$;var ua={},Nu="t",uA="f";ua.apply=function(t){for(var e=this,a=e._private,n=a.cy,l=n.collection(),u=0;u<t.length;u++){var o=t[u],f=e.getContextMeta(o);if(!f.empty){var v=e.getContextStyle(f),c=e.applyContextStyle(f,v,o);o._private.appliedInitStyle?e.updateTransitions(o,c.diffProps):o._private.appliedInitStyle=!0;var h=e.updateStyleHints(o);h&&l.push(o)}}return l};ua.getPropertiesDiff=function(t,e){var a=this,n=a._private.propDiffs=a._private.propDiffs||{},l=t+"-"+e,u=n[l];if(u)return u;for(var o=[],f={},v=0;v<a.length;v++){var c=a[v],h=t[v]===Nu,g=e[v]===Nu,y=h!==g,w=c.mappedProperties.length>0;if(y||g&&w){var m=void 0;y&&w||y?m=c.properties:w&&(m=c.mappedProperties);for(var S=0;S<m.length;S++){for(var x=m[S],E=x.name,T=!1,C=v+1;C<a.length;C++){var D=a[C],R=e[C]===Nu;if(R&&(T=D.properties[x.name]!=null,T))break}!f[E]&&!T&&(f[E]=!0,o.push(E))}}}return n[l]=o,o};ua.getContextMeta=function(t){for(var e=this,a="",n,l=t._private.styleCxtKey||"",u=0;u<e.length;u++){var o=e[u],f=o.selector&&o.selector.matches(t);f?a+=Nu:a+=uA}return n=e.getPropertiesDiff(l,a),t._private.styleCxtKey=a,{key:a,diffPropNames:n,empty:n.length===0}};ua.getContextStyle=function(t){var e=t.key,a=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var l={_private:{key:e}},u=0;u<a.length;u++){var o=a[u],f=e[u]===Nu;if(f)for(var v=0;v<o.properties.length;v++){var c=o.properties[v];l[c.name]=c}}return n[e]=l,l};ua.applyContextStyle=function(t,e,a){for(var n=this,l=t.diffPropNames,u={},o=n.types,f=0;f<l.length;f++){var v=l[f],c=e[v],h=a.pstyle(v);if(!c)if(h)h.bypass?c={name:v,deleteBypassed:!0}:c={name:v,delete:!0};else continue;if(h!==c){if(c.mapped===o.fn&&h!=null&&h.mapping!=null&&h.mapping.value===c.value){var g=h.mapping,y=g.fnValue=c.value(a);if(y===g.prevFnValue)continue}var w=u[v]={prev:h};n.applyParsedProperty(a,c),w.next=a.pstyle(v),w.next&&w.next.bypass&&(w.next=w.next.bypassed)}}return{diffProps:u}};ua.updateStyleHints=function(t){var e=t._private,a=this,n=a.propertyGroupNames,l=a.propertyGroupKeys,u=function(ue,ge,Se){return a.getPropertiesHash(ue,ge,Se)},o=e.styleKey;if(t.removed())return!1;var f=e.group==="nodes",v=t._private.style;n=Object.keys(v);for(var c=0;c<l.length;c++){var h=l[c];e.styleKeys[h]=[ul,Mu]}for(var g=function(ue,ge){return e.styleKeys[ge][0]=_u(ue,e.styleKeys[ge][0])},y=function(ue,ge){return e.styleKeys[ge][1]=qu(ue,e.styleKeys[ge][1])},w=function(ue,ge){g(ue,ge),y(ue,ge)},m=function(ue,ge){for(var Se=0;Se<ue.length;Se++){var Me=ue.charCodeAt(Se);g(Me,ge),y(Me,ge)}},S=2e9,x=function(ue){return-128<ue&&ue<128&&Math.floor(ue)!==ue?S-(ue*1024|0):ue},E=0;E<n.length;E++){var T=n[E],C=v[T];if(C!=null){var D=this.properties[T],R=D.type,B=D.groupKey,M=void 0;D.hashOverride!=null?M=D.hashOverride(t,C):C.pfValue!=null&&(M=C.pfValue);var z=D.enums==null?C.value:null,L=M!=null,U=z!=null,_=L||U,V=C.units;if(R.number&&_&&!R.multiple){var P=L?M:z;w(x(P),B),!L&&V!=null&&m(V,B)}else m(C.strValue,B)}}for(var Y=[ul,Mu],I=0;I<l.length;I++){var k=l[I],H=e.styleKeys[k];Y[0]=_u(H[0],Y[0]),Y[1]=qu(H[1],Y[1])}e.styleKey=RS(Y[0],Y[1]);var F=e.styleKeys;e.labelDimsKey=En(F.labelDimensions);var j=u(t,["label"],F.labelDimensions);if(e.labelKey=En(j),e.labelStyleKey=En(yo(F.commonLabel,j)),!f){var O=u(t,["source-label"],F.labelDimensions);e.sourceLabelKey=En(O),e.sourceLabelStyleKey=En(yo(F.commonLabel,O));var G=u(t,["target-label"],F.labelDimensions);e.targetLabelKey=En(G),e.targetLabelStyleKey=En(yo(F.commonLabel,G))}if(f){var K=e.styleKeys,Z=K.nodeBody,W=K.nodeBorder,ee=K.nodeOutline,ae=K.backgroundImage,de=K.compound,fe=K.pie,ie=[Z,W,ee,ae,de,fe].filter(function($){return $!=null}).reduce(yo,[ul,Mu]);e.nodeKey=En(ie),e.hasPie=fe!=null&&fe[0]!==ul&&fe[1]!==Mu}return o!==e.styleKey};ua.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};ua.applyParsedProperty=function(t,e){var a=this,n=e,l=t._private.style,u,o=a.types,f=a.properties[n.name].type,v=n.bypass,c=l[n.name],h=c&&c.bypass,g=t._private,y="mapping",w=function(Z){return Z==null?null:Z.pfValue!=null?Z.pfValue:Z.value},m=function(){var Z=w(c),W=w(n);a.checkTriggers(t,n.name,Z,W)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",v)),n.delete)return l[n.name]=void 0,m(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return c?c.bypass?(l[n.name]=c.bypassed,m(),!0):!1:(m(),!0);var S=function(){ct("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var x=n.field.split("."),E=g.data,T=0;T<x.length&&E;T++){var C=x[T];E=E[C]}if(E==null)return S(),!1;var D;if(Re(E)){var R=n.fieldMax-n.fieldMin;R===0?D=0:D=(E-n.fieldMin)/R}else return ct("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+E+"` for `"+t.id()+"` is non-numeric)"),!1;if(D<0?D=0:D>1&&(D=1),f.color){var B=n.valueMin[0],M=n.valueMax[0],z=n.valueMin[1],L=n.valueMax[1],U=n.valueMin[2],_=n.valueMax[2],V=n.valueMin[3]==null?1:n.valueMin[3],P=n.valueMax[3]==null?1:n.valueMax[3],Y=[Math.round(B+(M-B)*D),Math.round(z+(L-z)*D),Math.round(U+(_-U)*D),Math.round(V+(P-V)*D)];u={bypass:n.bypass,name:n.name,value:Y,strValue:"rgb("+Y[0]+", "+Y[1]+", "+Y[2]+")"}}else if(f.number){var I=n.valueMin+(n.valueMax-n.valueMin)*D;u=this.parse(n.name,I,n.bypass,y)}else return!1;if(!u)return S(),!1;u.mapping=n,n=u;break}case o.data:{for(var k=n.field.split("."),H=g.data,F=0;F<k.length&&H;F++){var j=k[F];H=H[j]}if(H!=null&&(u=this.parse(n.name,H,n.bypass,y)),!u)return S(),!1;u.mapping=n,n=u;break}case o.fn:{var O=n.value,G=n.fnValue!=null?n.fnValue:O(t);if(n.prevFnValue=G,G==null)return ct("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(u=this.parse(n.name,G,n.bypass,y),!u)return ct("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;u.mapping=Sr(n),n=u;break}case void 0:break;default:return!1}return v?(h?n.bypassed=c.bypassed:n.bypassed=c,l[n.name]=n):h?c.bypassed=n:l[n.name]=n,m(),!0};ua.cleanElements=function(t,e){for(var a=0;a<t.length;a++){var n=t[a];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var l=n._private.style,u=Object.keys(l),o=0;o<u.length;o++){var f=u[o],v=l[f];v!=null&&(v.bypass?v.bypassed=null:l[f]=null)}}};ua.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};ua.updateTransitions=function(t,e){var a=this,n=t._private,l=t.pstyle("transition-property").value,u=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(l.length>0&&u>0){for(var f={},v=!1,c=0;c<l.length;c++){var h=l[c],g=t.pstyle(h),y=e[h];if(y){var w=y.prev,m=w,S=y.next!=null?y.next:g,x=!1,E=void 0,T=1e-6;m&&(Re(m.pfValue)&&Re(S.pfValue)?(x=S.pfValue-m.pfValue,E=m.pfValue+T*x):Re(m.value)&&Re(S.value)?(x=S.value-m.value,E=m.value+T*x):xt(m.value)&&xt(S.value)&&(x=m.value[0]!==S.value[0]||m.value[1]!==S.value[1]||m.value[2]!==S.value[2],E=m.strValue),x&&(f[h]=S.strValue,this.applyBypass(t,h,E),v=!0))}}if(!v)return;n.transitioning=!0,new wl(function(C){o>0?t.delayAnimation(o).play().promise().then(C):C()}).then(function(){return t.animation({style:f,duration:u,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){a.removeBypasses(t,l),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,l),t.emitAndNotify("style"),n.transitioning=!1)};ua.checkTrigger=function(t,e,a,n,l,u){var o=this.properties[e],f=l(o);t.removed()||f!=null&&f(a,n,t)&&u(o)};ua.checkZOrderTrigger=function(t,e,a,n){var l=this;this.checkTrigger(t,e,a,n,function(u){return u.triggersZOrder},function(){l._private.cy.notify("zorder",t)})};ua.checkBoundsTrigger=function(t,e,a,n){this.checkTrigger(t,e,a,n,function(l){return l.triggersBounds},function(l){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};ua.checkConnectedEdgesBoundsTrigger=function(t,e,a,n){this.checkTrigger(t,e,a,n,function(l){return l.triggersBoundsOfConnectedEdges},function(l){t.connectedEdges().forEach(function(u){u.dirtyBoundingBoxCache()})})};ua.checkParallelEdgesBoundsTrigger=function(t,e,a,n){this.checkTrigger(t,e,a,n,function(l){return l.triggersBoundsOfParallelEdges},function(l){t.parallelEdges().forEach(function(u){u.dirtyBoundingBoxCache()})})};ua.checkTriggers=function(t,e,a,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,a,n),this.checkBoundsTrigger(t,e,a,n),this.checkConnectedEdgesBoundsTrigger(t,e,a,n),this.checkParallelEdgesBoundsTrigger(t,e,a,n)};var es={};es.applyBypass=function(t,e,a,n){var l=this,u=[],o=!0;if(e==="*"||e==="**"){if(a!==void 0)for(var f=0;f<l.properties.length;f++){var v=l.properties[f],c=v.name,h=this.parse(c,a,!0);h&&u.push(h)}}else if(Ue(e)){var g=this.parse(e,a,!0);g&&u.push(g)}else if(it(e)){var y=e;n=a;for(var w=Object.keys(y),m=0;m<w.length;m++){var S=w[m],x=y[S];if(x===void 0&&(x=y[ef(S)]),x!==void 0){var E=this.parse(S,x,!0);E&&u.push(E)}}}else return!1;if(u.length===0)return!1;for(var T=!1,C=0;C<t.length;C++){for(var D=t[C],R={},B=void 0,M=0;M<u.length;M++){var z=u[M];if(n){var L=D.pstyle(z.name);B=R[z.name]={prev:L}}T=this.applyParsedProperty(D,Sr(z))||T,n&&(B.next=D.pstyle(z.name))}T&&this.updateStyleHints(D),n&&this.updateTransitions(D,R,o)}return T};es.overrideBypass=function(t,e,a){e=Ch(e);for(var n=0;n<t.length;n++){var l=t[n],u=l._private.style[e],o=this.properties[e].type,f=o.color,v=o.mutiple,c=u?u.pfValue!=null?u.pfValue:u.value:null;!u||!u.bypass?this.applyBypass(l,e,a):(u.value=a,u.pfValue!=null&&(u.pfValue=a),f?u.strValue="rgb("+a.join(",")+")":v?u.strValue=a.join(" "):u.strValue=""+a,this.updateStyleHints(l)),this.checkTriggers(l,e,c,a)}};es.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};es.removeBypasses=function(t,e,a){for(var n=!0,l=0;l<t.length;l++){for(var u=t[l],o={},f=0;f<e.length;f++){var v=e[f],c=this.properties[v],h=u.pstyle(c.name);if(!(!h||!h.bypass)){var g="",y=this.parse(v,g,!0),w=o[c.name]={prev:h};this.applyParsedProperty(u,y),w.next=u.pstyle(c.name)}}this.updateStyleHints(u),a&&this.updateTransitions(u,o,n)}};var Uh={};Uh.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Uh.containerCss=function(t){var e=this._private.cy,a=e.container(),n=e.window();if(n&&a&&n.getComputedStyle)return n.getComputedStyle(a).getPropertyValue(t)};var Tr={};Tr.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Tr.getRawStyle=function(t,e){var a=this;if(t=t[0],t){for(var n={},l=0;l<a.properties.length;l++){var u=a.properties[l],o=a.getStylePropertyValue(t,u.name,e);o!=null&&(n[u.name]=o,n[ef(u.name)]=o)}return n}};Tr.getIndexedStyle=function(t,e,a,n){var l=t.pstyle(e)[a][n];return l??t.cy().style().getDefaultProperty(e)[a][0]};Tr.getStylePropertyValue=function(t,e,a){var n=this;if(t=t[0],t){var l=n.properties[e];l.alias&&(l=l.pointsTo);var u=l.type,o=t.pstyle(l.name);if(o){var f=o.value,v=o.units,c=o.strValue;if(a&&u.number&&f!=null&&Re(f)){var h=t.cy().zoom(),g=function(x){return x*h},y=function(x,E){return g(x)+E},w=xt(f),m=w?v.every(function(S){return S!=null}):v!=null;return m?w?f.map(function(S,x){return y(S,v[x])}).join(" "):y(f,v):w?f.map(function(S){return Ue(S)?S:""+g(S)}).join(" "):""+g(f)}else if(c!=null)return c}return null}};Tr.getAnimationStartStyle=function(t,e){for(var a={},n=0;n<e.length;n++){var l=e[n],u=l.name,o=t.pstyle(u);o!==void 0&&(it(o)?o=this.parse(u,o.strValue):o=this.parse(u,o)),o&&(a[u]=o)}return a};Tr.getPropsList=function(t){var e=this,a=[],n=t,l=e.properties;if(n)for(var u=Object.keys(n),o=0;o<u.length;o++){var f=u[o],v=n[f],c=l[f]||l[Ch(f)],h=this.parse(c.name,v);h&&a.push(h)}return a};Tr.getNonDefaultPropertiesHash=function(t,e,a){var n=a.slice(),l,u,o,f,v,c;for(v=0;v<e.length;v++)if(l=e[v],u=t.pstyle(l,!1),u!=null)if(u.pfValue!=null)n[0]=_u(f,n[0]),n[1]=qu(f,n[1]);else for(o=u.strValue,c=0;c<o.length;c++)f=o.charCodeAt(c),n[0]=_u(f,n[0]),n[1]=qu(f,n[1]);return n};Tr.getPropertiesHash=Tr.getNonDefaultPropertiesHash;var hf={};hf.appendFromJson=function(t){for(var e=this,a=0;a<t.length;a++){var n=t[a],l=n.selector,u=n.style||n.css,o=Object.keys(u);e.selector(l);for(var f=0;f<o.length;f++){var v=o[f],c=u[v];e.css(v,c)}}return e};hf.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};hf.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var a=this[e],n=a.selector,l=a.properties,u={},o=0;o<l.length;o++){var f=l[o];u[f.name]=f.strValue}t.push({selector:n?n.toString():"core",style:u})}return t};var Vh={};Vh.appendFromString=function(t){var e=this,a=this,n=""+t,l,u,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function f(){n.length>l.length?n=n.substr(l.length):n=""}function v(){u.length>o.length?u=u.substr(o.length):u=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var h=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){ct("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}l=h[0];var g=h[1];if(g!=="core"){var y=new zn(g);if(y.invalid){ct("Skipping parsing of block: Invalid selector found in string stylesheet: "+g),f();continue}}var w=h[2],m=!1;u=w;for(var S=[];;){var x=u.match(/^\s*$/);if(x)break;var E=u.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!E){ct("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+w),m=!0;break}o=E[0];var T=E[1],C=E[2],D=e.properties[T];if(!D){ct("Skipping property: Invalid property name in: "+o),v();continue}var R=a.parse(T,C);if(!R){ct("Skipping property: Invalid property definition in: "+o),v();continue}S.push({name:T,val:C}),v()}if(m){f();break}a.selector(g);for(var B=0;B<S.length;B++){var M=S[B];a.css(M.name,M.val)}f()}return a};Vh.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var da={};(function(){var t=Zt,e=lS,a=sS,n=oS,l=fS,u=function(ie){return"^"+ie+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(ie){var $=t+"|\\w+|"+e+"|"+a+"|"+n+"|"+l;return"^"+ie+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+$+")\\s*\\,\\s*("+$+")\\)$"},f=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];da.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:u("data")},layoutData:{mapping:!0,regex:u("layoutData")},scratch:{mapping:!0,regex:u("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:f,singleRegexMatchValue:!0},urls:{regexes:f,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ie,$){switch(ie.length){case 2:return $[0]!=="deg"&&$[0]!=="rad"&&$[1]!=="deg"&&$[1]!=="rad";case 1:return Ue(ie[0])||$[0]==="deg"||$[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ie){var $=ie.length;return $===1||$===2||$===4}}};var v={zeroNonZero:function(ie,$){return(ie==null||$==null)&&ie!==$||ie==0&&$!=0?!0:ie!=0&&$==0},any:function(ie,$){return ie!=$},emptyNonEmpty:function(ie,$){var ue=Mn(ie),ge=Mn($);return ue&&!ge||!ue&&ge}},c=da.types,h=[{name:"label",type:c.text,triggersBounds:v.any,triggersZOrder:v.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:v.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:v.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:v.any}],g=[{name:"source-label",type:c.text,triggersBounds:v.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:v.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:v.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:v.any},{name:"source-text-offset",type:c.size,triggersBounds:v.any}],y=[{name:"target-label",type:c.text,triggersBounds:v.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:v.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:v.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:v.any},{name:"target-text-offset",type:c.size,triggersBounds:v.any}],w=[{name:"font-family",type:c.fontFamily,triggersBounds:v.any},{name:"font-style",type:c.fontStyle,triggersBounds:v.any},{name:"font-weight",type:c.fontWeight,triggersBounds:v.any},{name:"font-size",type:c.size,triggersBounds:v.any},{name:"text-transform",type:c.textTransform,triggersBounds:v.any},{name:"text-wrap",type:c.textWrap,triggersBounds:v.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:v.any},{name:"text-max-width",type:c.size,triggersBounds:v.any},{name:"text-outline-width",type:c.size,triggersBounds:v.any},{name:"line-height",type:c.positiveNumber,triggersBounds:v.any}],m=[{name:"text-valign",type:c.valign,triggersBounds:v.any},{name:"text-halign",type:c.halign,triggersBounds:v.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:v.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:v.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:v.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:v.any},{name:"text-justification",type:c.justification}],S=[{name:"events",type:c.bool,triggersZOrder:v.any},{name:"text-events",type:c.bool,triggersZOrder:v.any}],x=[{name:"display",type:c.display,triggersZOrder:v.any,triggersBounds:v.any,triggersBoundsOfConnectedEdges:v.any,triggersBoundsOfParallelEdges:function(ie,$,ue){return ie===$?!1:ue.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:c.visibility,triggersZOrder:v.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:v.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:v.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:v.any},{name:"z-index",type:c.number,triggersZOrder:v.any}],E=[{name:"overlay-padding",type:c.size,triggersBounds:v.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:v.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:v.any},{name:"overlay-corner-radius",type:c.cornerRadius}],T=[{name:"underlay-padding",type:c.size,triggersBounds:v.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:v.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:v.any},{name:"underlay-corner-radius",type:c.cornerRadius}],C=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],D=function(ie,$){return $.value==="label"?-ie.poolIndex():$.pfValue},R=[{name:"height",type:c.nodeSize,triggersBounds:v.any,hashOverride:D},{name:"width",type:c.nodeSize,triggersBounds:v.any,hashOverride:D},{name:"shape",type:c.nodeShape,triggersBounds:v.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:v.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:v.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:v.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:v.any}],B=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:v.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],M=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:v.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:v.any}],z=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],L=[{name:"position",type:c.position,triggersBounds:v.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:v.any},{name:"min-width",type:c.size,triggersBounds:v.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:v.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:v.any},{name:"min-height",type:c.size,triggersBounds:v.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:v.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:v.any}],U=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:v.any,triggersBoundsOfParallelEdges:function(ie,$){return ie===$?!1:ie==="bezier"||$==="bezier"}},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:v.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:v.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:v.any},{name:"control-point-step-size",type:c.size,triggersBounds:v.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:v.any},{name:"control-point-weights",type:c.numbers,triggersBounds:v.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:v.any},{name:"segment-weights",type:c.numbers,triggersBounds:v.any},{name:"segment-radii",type:c.numbers,triggersBounds:v.any},{name:"radius-type",type:c.radiusType,triggersBounds:v.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:v.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:v.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:v.any},{name:"taxi-radius",type:c.number,triggersBounds:v.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:v.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:v.any},{name:"loop-direction",type:c.angle,triggersBounds:v.any},{name:"loop-sweep",type:c.angle,triggersBounds:v.any},{name:"source-distance-from-node",type:c.size,triggersBounds:v.any},{name:"target-distance-from-node",type:c.size,triggersBounds:v.any}],_=[{name:"ghost",type:c.bool,triggersBounds:v.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:v.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:v.any},{name:"ghost-opacity",type:c.zeroOneNumber}],V=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],P=[];da.pieBackgroundN=16,P.push({name:"pie-size",type:c.sizeMaybePercent});for(var Y=1;Y<=da.pieBackgroundN;Y++)P.push({name:"pie-"+Y+"-background-color",type:c.color}),P.push({name:"pie-"+Y+"-background-size",type:c.percent}),P.push({name:"pie-"+Y+"-background-opacity",type:c.zeroOneNumber});var I=[],k=da.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:v.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(fe){k.forEach(function(ie){var $=ie+"-"+fe.name,ue=fe.type,ge=fe.triggersBounds;I.push({name:$,type:ue,triggersBounds:ge})})},{});var H=da.properties=[].concat(S,C,x,E,T,_,m,w,h,g,y,R,B,M,z,P,L,U,I,V),F=da.propertyGroups={behavior:S,transition:C,visibility:x,overlay:E,underlay:T,ghost:_,commonLabel:m,labelDimensions:w,mainLabel:h,sourceLabel:g,targetLabel:y,nodeBody:R,nodeBorder:B,nodeOutline:M,backgroundImage:z,pie:P,compound:L,edgeLine:U,edgeArrow:I,core:V},j=da.propertyGroupNames={},O=da.propertyGroupKeys=Object.keys(F);O.forEach(function(fe){j[fe]=F[fe].map(function(ie){return ie.name}),F[fe].forEach(function(ie){return ie.groupKey=fe})});var G=da.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];da.propertyNames=H.map(function(fe){return fe.name});for(var K=0;K<H.length;K++){var Z=H[K];H[Z.name]=Z}for(var W=0;W<G.length;W++){var ee=G[W],ae=H[ee.pointsTo],de={name:ee.name,alias:!0,pointsTo:ae};H.push(de),H[ee.name]=de}})();da.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};da.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=He({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(v,c){for(var h=1;h<=da.pieBackgroundN;h++){var g=c.name.replace("{{i}}",h),y=c.value;v[g]=y}return v},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(v,c){return da.arrowPrefixes.forEach(function(h){var g=h+"-"+c.name,y=c.value;v[g]=y}),v},{})),a={},n=0;n<this.properties.length;n++){var l=this.properties[n];if(!l.pointsTo){var u=l.name,o=e[u],f=this.parse(u,o);a[u]=f}}return t.defaultProperties=a,t.defaultProperties};da.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var gf={};gf.parse=function(t,e,a,n){var l=this;if(Bt(e))return l.parseImplWarn(t,e,a,n);var u=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=a?"t":"f",f=""+e,v=z1(t,f,o,u),c=l.propCache=l.propCache||[],h;return(h=c[v])||(h=c[v]=l.parseImplWarn(t,e,a,n)),(a||n==="mapping")&&(h=Sr(h),h&&(h.value=Sr(h.value))),h};gf.parseImplWarn=function(t,e,a,n){var l=this.parseImpl(t,e,a,n);return!l&&e!=null&&ct("The style property `".concat(t,": ").concat(e,"` is invalid")),l&&(l.name==="width"||l.name==="height")&&e==="label"&&ct("The style value of `label` is deprecated for `"+l.name+"`"),l};gf.parseImpl=function(t,e,a,n){var l=this;t=Ch(t);var u=l.properties[t],o=e,f=l.types;if(!u||e===void 0)return null;u.alias&&(u=u.pointsTo,t=u.name);var v=Ue(e);v&&(e=e.trim());var c=u.type;if(!c)return null;if(a&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Bt(e))return{name:t,value:e,strValue:"fn",mapped:f.fn,bypass:a};var h,g;if(!(!v||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(h=new RegExp(f.data.regex).exec(e))){if(a)return!1;var y=f.data;return{name:t,value:h,strValue:""+e,mapped:y,field:h[1],bypass:a}}else if(e.length>=10&&e[0]==="m"&&(g=new RegExp(f.mapData.regex).exec(e))){if(a||c.multiple)return!1;var w=f.mapData;if(!(c.color||c.number))return!1;var m=this.parse(t,g[4]);if(!m||m.mapped)return!1;var S=this.parse(t,g[5]);if(!S||S.mapped)return!1;if(m.pfValue===S.pfValue||m.strValue===S.strValue)return ct("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+m.strValue+"`"),this.parse(t,m.strValue);if(c.color){var x=m.value,E=S.value,T=x[0]===E[0]&&x[1]===E[1]&&x[2]===E[2]&&(x[3]===E[3]||(x[3]==null||x[3]===1)&&(E[3]==null||E[3]===1));if(T)return!1}return{name:t,value:g,strValue:""+e,mapped:w,field:g[1],fieldMin:parseFloat(g[2]),fieldMax:parseFloat(g[3]),valueMin:m.value,valueMax:S.value,bypass:a}}}if(c.multiple&&n!=="multiple"){var C;if(v?C=e.split(/\s+/):xt(e)?C=e:C=[e],c.evenMultiple&&C.length%2!==0)return null;for(var D=[],R=[],B=[],M="",z=!1,L=0;L<C.length;L++){var U=l.parse(t,C[L],a,"multiple");z=z||Ue(U.value),D.push(U.value),B.push(U.pfValue!=null?U.pfValue:U.value),R.push(U.units),M+=(L>0?" ":"")+U.strValue}return c.validate&&!c.validate(D,R)?null:c.singleEnum&&z?D.length===1&&Ue(D[0])?{name:t,value:D[0],strValue:D[0],bypass:a}:null:{name:t,value:D,pfValue:B,strValue:M,bypass:a,units:R}}var _=function(){for(var ie=0;ie<c.enums.length;ie++){var $=c.enums[ie];if($===e)return{name:t,value:e,strValue:""+e,bypass:a}}return null};if(c.number){var V,P="px";if(c.units&&(V=c.units),c.implicitUnits&&(P=c.implicitUnits),!c.unitless)if(v){var Y="px|em"+(c.allowPercent?"|\\%":"");V&&(Y=V);var I=e.match("^("+Zt+")("+Y+")?$");I&&(e=I[1],V=I[2]||P)}else(!V||c.implicitUnits)&&(V=P);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=o,_();if(c.integer&&!J2(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var k={name:t,value:e,strValue:""+e+(V||""),units:V,bypass:a};return c.unitless||V!=="px"&&V!=="em"?k.pfValue=e:k.pfValue=V==="px"||!V?e:this.getEmSizeInPixels()*e,(V==="ms"||V==="s")&&(k.pfValue=V==="ms"?e:1e3*e),(V==="deg"||V==="rad")&&(k.pfValue=V==="rad"?e:lT(e)),V==="%"&&(k.pfValue=e/100),k}else if(c.propList){var H=[],F=""+e;if(F!=="none"){for(var j=F.split(/\s*,\s*|\s+/),O=0;O<j.length;O++){var G=j[O].trim();l.properties[G]?H.push(G):ct("`"+G+"` is not a valid property name")}if(H.length===0)return null}return{name:t,value:H,strValue:H.length===0?"none":H.join(" "),bypass:a}}else if(c.color){var K=C1(e);return K?{name:t,value:K,pfValue:K,strValue:"rgb("+K[0]+","+K[1]+","+K[2]+")",bypass:a}:null}else if(c.regex||c.regexes){if(c.enums){var Z=_();if(Z)return Z}for(var W=c.regexes?c.regexes:[c.regex],ee=0;ee<W.length;ee++){var ae=new RegExp(W[ee]),de=ae.exec(e);if(de)return{name:t,value:c.singleRegexMatchValue?de[1]:de,strValue:""+e,bypass:a}}return null}else return c.string?{name:t,value:""+e,strValue:""+e,bypass:a}:c.enums?_():null};var la=function(e){if(!(this instanceof la))return new la(e);if(!Th(e)){Mt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Ta=la.prototype;Ta.instanceString=function(){return"style"};Ta.clear=function(){for(var t=this._private,e=t.cy,a=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(a,!0),a.forEach(function(l){var u=l[0]._private;u.styleDirty=!0,u.appliedInitStyle=!1}),this};Ta.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Ta.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Ta.selector=function(t){var e=t==="core"?null:new zn(t),a=this.length++;return this[a]={selector:e,properties:[],mappedProperties:[],index:a},this};Ta.css=function(){var t=this,e=arguments;if(e.length===1)for(var a=e[0],n=0;n<t.properties.length;n++){var l=t.properties[n],u=a[l.name];u===void 0&&(u=a[ef(l.name)]),u!==void 0&&this.cssRule(l.name,u)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Ta.style=Ta.css;Ta.cssRule=function(t,e){var a=this.parse(t,e);if(a){var n=this.length-1;this[n].properties.push(a),this[n].properties[a.name]=a,a.name.match(/pie-(\d+)-background-size/)&&a.value&&(this._private.hasPie=!0),a.mapped&&this[n].mappedProperties.push(a);var l=!this[n].selector;l&&(this._private.coreStyle[a.name]=a)}return this};Ta.append=function(t){return E1(t)?t.appendToStyle(this):xt(t)?this.appendFromJson(t):Ue(t)&&this.appendFromString(t),this};la.fromJson=function(t,e){var a=new la(t);return a.fromJson(e),a};la.fromString=function(t,e){return new la(t).fromString(e)};[ua,es,Uh,Tr,hf,Vh,da,gf].forEach(function(t){He(Ta,t)});la.types=Ta.types;la.properties=Ta.properties;la.propertyGroups=Ta.propertyGroups;la.propertyGroupNames=Ta.propertyGroupNames;la.propertyGroupKeys=Ta.propertyGroupKeys;var sA={style:function(e){if(e){var a=this.setStyle(e);a.update()}return this._private.style},setStyle:function(e){var a=this._private;return E1(e)?a.style=e.generateStyle(this):xt(e)?a.style=la.fromJson(this,e):Ue(e)?a.style=la.fromString(this,e):a.style=la(this),a.style},updateStyle:function(){this.mutableElements().updateStyle()}},oA="single",di={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var a=this._private;if(a.selectionType==null&&(a.selectionType=oA),e!==void 0)(e==="additive"||e==="single")&&(a.selectionType=e);else return a.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,a=this._private.pan,n,l,u,o,f;switch(e.length){case 0:return a;case 1:if(Ue(e[0]))return n=e[0],a[n];if(it(e[0])){if(!this._private.panningEnabled)return this;u=e[0],o=u.x,f=u.y,Re(o)&&(a.x=o),Re(f)&&(a.y=f),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],l=e[1],(n==="x"||n==="y")&&Re(l)&&(a[n]=l),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,a){var n=arguments,l=this._private.pan,u,o,f,v,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:it(e)&&(f=n[0],v=f.x,c=f.y,Re(v)&&(l.x+=v),Re(c)&&(l.y+=c),this.emit("pan viewport"));break;case 2:u=e,o=a,(u==="x"||u==="y")&&Re(o)&&(l[u]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,a){var n=this.getFitViewport(e,a);if(n){var l=this._private;l.zoom=n.zoom,l.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,a){if(Re(e)&&a===void 0&&(a=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ue(e)){var l=e;e=this.$(l)}else if(aS(e)){var u=e;n={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Xa(e)||(e=this.mutableElements());if(!(Xa(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),f=this.height(),v;if(a=Re(a)?a:0,!isNaN(o)&&!isNaN(f)&&o>0&&f>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){v=Math.min((o-2*a)/n.w,(f-2*a)/n.h),v=v>this._private.maxZoom?this._private.maxZoom:v,v=v<this._private.minZoom?this._private.minZoom:v;var c={x:(o-v*(n.x1+n.x2))/2,y:(f-v*(n.y1+n.y2))/2};return{zoom:v,pan:c}}}}},zoomRange:function(e,a){var n=this._private;if(a==null){var l=e;e=l.min,a=l.max}return Re(e)&&Re(a)&&e<=a?(n.minZoom=e,n.maxZoom=a):Re(e)&&a===void 0&&e<=n.maxZoom?n.minZoom=e:Re(a)&&e===void 0&&a>=n.minZoom&&(n.maxZoom=a),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var a=this._private,n=a.pan,l=a.zoom,u,o,f=!1;if(a.zoomingEnabled||(f=!0),Re(e)?o=e:it(e)&&(o=e.level,e.position!=null?u=rf(e.position,l,n):e.renderedPosition!=null&&(u=e.renderedPosition),u!=null&&!a.panningEnabled&&(f=!0)),o=o>a.maxZoom?a.maxZoom:o,o=o<a.minZoom?a.minZoom:o,f||!Re(o)||o===l||u!=null&&(!Re(u.x)||!Re(u.y)))return null;if(u!=null){var v=n,c=l,h=o,g={x:-h/c*(u.x-v.x)+u.x,y:-h/c*(u.y-v.y)+u.y};return{zoomed:!0,panned:!0,zoom:h,pan:g}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var a=this.getZoomedViewport(e),n=this._private;return a==null||!a.zoomed?this:(n.zoom=a.zoom,a.panned&&(n.pan.x=a.pan.x,n.pan.y=a.pan.y),this.emit("zoom"+(a.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var a=this._private,n=!0,l=!0,u=[],o=!1,f=!1;if(!e)return this;if(Re(e.zoom)||(n=!1),it(e.pan)||(l=!1),!n&&!l)return this;if(n){var v=e.zoom;v<a.minZoom||v>a.maxZoom||!a.zoomingEnabled?o=!0:(a.zoom=v,u.push("zoom"))}if(l&&(!o||!e.cancelOnFailedZoom)&&a.panningEnabled){var c=e.pan;Re(c.x)&&(a.pan.x=c.x,f=!1),Re(c.y)&&(a.pan.y=c.y,f=!1),f||u.push("pan")}return u.length>0&&(u.push("viewport"),this.emit(u.join(" ")),this.notify("viewport")),this},center:function(e){var a=this.getCenterPan(e);return a&&(this._private.pan=a,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,a){if(this._private.panningEnabled){if(Ue(e)){var n=e;e=this.mutableElements().filter(n)}else Xa(e)||(e=this.mutableElements());if(e.length!==0){var l=e.boundingBox(),u=this.width(),o=this.height();a=a===void 0?this._private.zoom:a;var f={x:(u-a*(l.x1+l.x2))/2,y:(o-a*(l.y1+l.y2))/2};return f}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,a=e.container,n=this;return e.sizeCache=e.sizeCache||(a?function(){var l=n.window().getComputedStyle(a),u=function(f){return parseFloat(l.getPropertyValue(f))};return{width:a.clientWidth-u("padding-left")-u("padding-right"),height:a.clientHeight-u("padding-top")-u("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,a=this._private.zoom,n=this.renderedExtent(),l={x1:(n.x1-e.x)/a,x2:(n.x2-e.x)/a,y1:(n.y1-e.y)/a,y2:(n.y2-e.y)/a};return l.w=l.x2-l.x1,l.h=l.y2-l.y1,l},renderedExtent:function(){var e=this.width(),a=this.height();return{x1:0,y1:0,x2:e,y2:a,w:e,h:a}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};di.centre=di.center;di.autolockNodes=di.autolock;di.autoungrabifyNodes=di.autoungrabify;var Yu={data:ft.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ft.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ft.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ft.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Yu.attr=Yu.data;Yu.removeAttr=Yu.removeData;var Fu=function(e){var a=this;e=He({},e);var n=e.container;n&&!Ho(n)&&Ho(n[0])&&(n=n[0]);var l=n?n._cyreg:null;l=l||{},l&&l.cy&&(l.cy.destroy(),l={});var u=l.readies=l.readies||[];n&&(n._cyreg=l),l.cy=a;var o=Kt!==void 0&&n!==void 0&&!e.headless,f=e;f.layout=He({name:o?"grid":"null"},f.layout),f.renderer=He({name:o?"canvas":"null"},f.renderer);var v=function(m,S,x){return S!==void 0?S:x!==void 0?x:m},c=this._private={container:n,ready:!1,options:f,elements:new ga(this),listeners:[],aniEles:new ga(this),data:f.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:v(!0,f.zoomingEnabled),userZoomingEnabled:v(!0,f.userZoomingEnabled),panningEnabled:v(!0,f.panningEnabled),userPanningEnabled:v(!0,f.userPanningEnabled),boxSelectionEnabled:v(!0,f.boxSelectionEnabled),autolock:v(!1,f.autolock,f.autolockNodes),autoungrabify:v(!1,f.autoungrabify,f.autoungrabifyNodes),autounselectify:v(!1,f.autounselectify),styleEnabled:f.styleEnabled===void 0?o:f.styleEnabled,zoom:Re(f.zoom)?f.zoom:1,pan:{x:it(f.pan)&&Re(f.pan.x)?f.pan.x:0,y:it(f.pan)&&Re(f.pan.y)?f.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:v(250,f.multiClickDebounceTime)};this.createEmitter(),this.selectionType(f.selectionType),this.zoomRange({min:f.minZoom,max:f.maxZoom});var h=function(m,S){var x=m.some(rS);if(x)return wl.all(m).then(S);S(m)};c.styleEnabled&&a.setStyle([]);var g=He({},f,f.renderer);a.initRenderer(g);var y=function(m,S,x){a.notifications(!1);var E=a.mutableElements();E.length>0&&E.remove(),m!=null&&(it(m)||xt(m))&&a.add(m),a.one("layoutready",function(C){a.notifications(!0),a.emit(C),a.one("load",S),a.emitAndNotify("load")}).one("layoutstop",function(){a.one("done",x),a.emit("done")});var T=He({},a._private.options.layout);T.eles=a.elements(),a.layout(T).run()};h([f.style,f.elements],function(w){var m=w[0],S=w[1];c.styleEnabled&&a.style().append(m),y(S,function(){a.startAnimationLoop(),c.ready=!0,Bt(f.ready)&&a.on("ready",f.ready);for(var x=0;x<u.length;x++){var E=u[x];a.on("ready",E)}l&&(l.readies=[]),a.emit("ready")},f.done)})},Zo=Fu.prototype;He(Zo,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Kt;var a=this._private.container.ownerDocument;return a===void 0||a==null?Kt:a.defaultView||Kt},mount:function(e){if(e!=null){var a=this,n=a._private,l=n.options;return!Ho(e)&&Ho(e[0])&&(e=e[0]),a.stopAnimationLoop(),a.destroyRenderer(),n.container=e,n.styleEnabled=!0,a.invalidateSize(),a.initRenderer(He({},l,l.renderer,{name:l.renderer.name==="null"?"canvas":l.renderer.name})),a.startAnimationLoop(),a.style(l.style),a.emit("mount"),a}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Sr(this._private.options)},json:function(e){var a=this,n=a._private,l=a.mutableElements(),u=function(D){return a.getElementById(D.id())};if(it(e)){if(a.startBatch(),e.elements){var o={},f=function(D,R){for(var B=[],M=[],z=0;z<D.length;z++){var L=D[z];if(!L.data.id){ct("cy.json() cannot handle elements without an ID attribute");continue}var U=""+L.data.id,_=a.getElementById(U);o[U]=!0,_.length!==0?M.push({ele:_,json:L}):(R&&(L.group=R),B.push(L))}a.add(B);for(var V=0;V<M.length;V++){var P=M[V],Y=P.ele,I=P.json;Y.json(I)}};if(xt(e.elements))f(e.elements);else for(var v=["nodes","edges"],c=0;c<v.length;c++){var h=v[c],g=e.elements[h];xt(g)&&f(g,h)}var y=a.collection();l.filter(function(C){return!o[C.id()]}).forEach(function(C){C.isParent()?y.merge(C):C.remove()}),y.forEach(function(C){return C.children().move({parent:null})}),y.forEach(function(C){return u(C).remove()})}e.style&&a.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&a.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&a.pan(e.pan),e.data&&a.data(e.data);for(var w=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<w.length;m++){var S=w[m];e[S]!=null&&a[S](e[S])}return a.endBatch(),this}else{var x=!!e,E={};x?E.elements=this.elements().map(function(C){return C.json()}):(E.elements={},l.forEach(function(C){var D=C.group();E.elements[D]||(E.elements[D]=[]),E.elements[D].push(C.json())})),this._private.styleEnabled&&(E.style=a.style().json()),E.data=Sr(a.data());var T=n.options;return E.zoomingEnabled=n.zoomingEnabled,E.userZoomingEnabled=n.userZoomingEnabled,E.zoom=n.zoom,E.minZoom=n.minZoom,E.maxZoom=n.maxZoom,E.panningEnabled=n.panningEnabled,E.userPanningEnabled=n.userPanningEnabled,E.pan=Sr(n.pan),E.boxSelectionEnabled=n.boxSelectionEnabled,E.renderer=Sr(T.renderer),E.hideEdgesOnViewport=T.hideEdgesOnViewport,E.textureOnViewport=T.textureOnViewport,E.wheelSensitivity=T.wheelSensitivity,E.motionBlur=T.motionBlur,E.multiClickDebounceTime=T.multiClickDebounceTime,E}}});Zo.$id=Zo.getElementById;[WD,rA,Ew,vh,ko,iA,dh,_o,sA,di,Yu].forEach(function(t){He(Zo,t)});var fA={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}},cA={maximal:!1,acyclic:!1},al=function(e){return e.scratch("breadthfirst")},qb=function(e,a){return e.scratch("breadthfirst",a)};function Sw(t){this.options=He({},fA,cA,t)}Sw.prototype.run=function(){var t=this.options,e=t.cy,a=t.eles,n=a.nodes().filter(function(xe){return xe.isChildless()}),l=a,u=t.directed,o=t.acyclic||t.maximal||t.maximalAdjustments>0,f=!!t.boundingBox,v=e.extent(),c=_a(f?t.boundingBox:{x1:v.x1,y1:v.y1,w:v.w,h:v.h}),h;if(Xa(t.roots))h=t.roots;else if(xt(t.roots)){for(var g=[],y=0;y<t.roots.length;y++){var w=t.roots[y],m=e.getElementById(w);g.push(m)}h=e.collection(g)}else if(Ue(t.roots))h=e.$(t.roots);else if(u)h=n.roots();else{var S=a.components();h=e.collection();for(var x=function(){var Te=S[E],Ne=Te.maxDegree(!1),qe=Te.filter(function(ke){return ke.degree(!1)===Ne});h=h.add(qe)},E=0;E<S.length;E++)x()}var T=[],C={},D=function(Te,Ne){T[Ne]==null&&(T[Ne]=[]);var qe=T[Ne].length;T[Ne].push(Te),qb(Te,{index:qe,depth:Ne})},R=function(Te,Ne){var qe=al(Te),ke=qe.depth,Fe=qe.index;T[ke][Fe]=null,Te.isChildless()&&D(Te,Ne)};l.bfs({roots:h,directed:t.directed,visit:function(Te,Ne,qe,ke,Fe){var Qe=Te[0],$e=Qe.id();Qe.isChildless()&&D(Qe,Fe),C[$e]=!0}});for(var B=[],M=0;M<n.length;M++){var z=n[M];C[z.id()]||B.push(z)}var L=function(Te){for(var Ne=T[Te],qe=0;qe<Ne.length;qe++){var ke=Ne[qe];if(ke==null){Ne.splice(qe,1),qe--;continue}qb(ke,{depth:Te,index:qe})}},U=function(Te,Ne){for(var qe=al(Te),ke=Te.incomers().filter(function(ve){return ve.isNode()&&a.has(ve)}),Fe=-1,Qe=Te.id(),$e=0;$e<ke.length;$e++){var Ee=ke[$e],q=al(Ee);Fe=Math.max(Fe,q.depth)}if(qe.depth<=Fe){if(!t.acyclic&&Ne[Qe])return null;var te=Fe+1;return R(Te,te),Ne[Qe]=te,!0}return!1};if(u&&o){var _=[],V={},P=function(Te){return _.push(Te)},Y=function(){return _.shift()};for(n.forEach(function(xe){return _.push(xe)});_.length>0;){var I=Y(),k=U(I,V);if(k)I.outgoers().filter(function(xe){return xe.isNode()&&a.has(xe)}).forEach(P);else if(k===null){ct("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var H=0;if(t.avoidOverlap)for(var F=0;F<n.length;F++){var j=n[F],O=j.layoutDimensions(t),G=O.w,K=O.h;H=Math.max(H,G,K)}var Z={},W=function(Te){if(Z[Te.id()])return Z[Te.id()];for(var Ne=al(Te).depth,qe=Te.neighborhood(),ke=0,Fe=0,Qe=0;Qe<qe.length;Qe++){var $e=qe[Qe];if(!($e.isEdge()||$e.isParent()||!n.has($e))){var Ee=al($e);if(Ee!=null){var q=Ee.index,te=Ee.depth;if(!(q==null||te==null)){var ve=T[te].length;te<Ne&&(ke+=q/ve,Fe++)}}}}return Fe=Math.max(1,Fe),ke=ke/Fe,Fe===0&&(ke=0),Z[Te.id()]=ke,ke},ee=function(Te,Ne){var qe=W(Te),ke=W(Ne),Fe=qe-ke;return Fe===0?T1(Te.id(),Ne.id()):Fe};t.depthSort!==void 0&&(ee=t.depthSort);for(var ae=T.length,de=0;de<ae;de++)T[de].sort(ee),L(de);for(var fe=[],ie=0;ie<B.length;ie++)fe.push(B[ie]);var $=function(){for(var Te=0;Te<ae;Te++)L(Te)};fe.length&&(T.unshift(fe),ae=T.length,$());for(var ue=0,ge=0;ge<ae;ge++)ue=Math.max(T[ge].length,ue);var Se={x:c.x1+c.w/2,y:c.y1+c.h/2},Me=n.reduce(function(xe,Te){return function(Ne){return{w:xe.w===-1?Ne.w:(xe.w+Ne.w)/2,h:xe.h===-1?Ne.h:(xe.h+Ne.h)/2}}(Te.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),_e=Math.max(ae===1?0:f?(c.h-t.padding*2-Me.h)/(ae-1):(c.h-t.padding*2-Me.h)/(ae+1),H),he=T.reduce(function(xe,Te){return Math.max(xe,Te.length)},0),be=function(Te){var Ne=al(Te),qe=Ne.depth,ke=Ne.index;if(t.circle){var Fe=Math.min(c.w/2/ae,c.h/2/ae);Fe=Math.max(Fe,H);var Qe=Fe*qe+Fe-(ae>0&&T[0].length<=3?Fe/2:0),$e=2*Math.PI/T[qe].length*ke;return qe===0&&T[0].length===1&&(Qe=1),{x:Se.x+Qe*Math.cos($e),y:Se.y+Qe*Math.sin($e)}}else{var Ee=T[qe].length,q=Math.max(Ee===1?0:f?(c.w-t.padding*2-Me.w)/((t.grid?he:Ee)-1):(c.w-t.padding*2-Me.w)/((t.grid?he:Ee)+1),H),te={x:Se.x+(ke+1-(Ee+1)/2)*q,y:Se.y+(qe+1-(ae+1)/2)*_e};return te}};return a.nodes().layoutPositions(this,t,be),this};var vA={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Tw(t){this.options=He({},vA,t)}Tw.prototype.run=function(){var t=this.options,e=t,a=t.cy,n=e.eles,l=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,u=n.nodes().not(":parent");e.sort&&(u=u.sort(e.sort));for(var o=_a(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),f={x:o.x1+o.w/2,y:o.y1+o.h/2},v=e.sweep===void 0?2*Math.PI-2*Math.PI/u.length:e.sweep,c=v/Math.max(1,u.length-1),h,g=0,y=0;y<u.length;y++){var w=u[y],m=w.layoutDimensions(e),S=m.w,x=m.h;g=Math.max(g,S,x)}if(Re(e.radius)?h=e.radius:u.length<=1?h=0:h=Math.min(o.h,o.w)/2-g,u.length>1&&e.avoidOverlap){g*=1.75;var E=Math.cos(c)-Math.cos(0),T=Math.sin(c)-Math.sin(0),C=Math.sqrt(g*g/(E*E+T*T));h=Math.max(C,h)}var D=function(B,M){var z=e.startAngle+M*c*(l?1:-1),L=h*Math.cos(z),U=h*Math.sin(z),_={x:f.x+L,y:f.y+U};return _};return n.nodes().layoutPositions(this,e,D),this};var dA={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Cw(t){this.options=He({},dA,t)}Cw.prototype.run=function(){for(var t=this.options,e=t,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,l=e.eles,u=l.nodes().not(":parent"),o=_a(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),f={x:o.x1+o.w/2,y:o.y1+o.h/2},v=[],c=0,h=0;h<u.length;h++){var g=u[h],y=void 0;y=e.concentric(g),v.push({value:y,node:g}),g._private.scratch.concentric=y}u.updateStyle();for(var w=0;w<u.length;w++){var m=u[w],S=m.layoutDimensions(e);c=Math.max(c,S.w,S.h)}v.sort(function(Me,_e){return _e.value-Me.value});for(var x=e.levelWidth(u),E=[[]],T=E[0],C=0;C<v.length;C++){var D=v[C];if(T.length>0){var R=Math.abs(T[0].value-D.value);R>=x&&(T=[],E.push(T))}T.push(D)}var B=c+e.minNodeSpacing;if(!e.avoidOverlap){var M=E.length>0&&E[0].length>1,z=Math.min(o.w,o.h)/2-B,L=z/(E.length+M?1:0);B=Math.min(B,L)}for(var U=0,_=0;_<E.length;_++){var V=E[_],P=e.sweep===void 0?2*Math.PI-2*Math.PI/V.length:e.sweep,Y=V.dTheta=P/Math.max(1,V.length-1);if(V.length>1&&e.avoidOverlap){var I=Math.cos(Y)-Math.cos(0),k=Math.sin(Y)-Math.sin(0),H=Math.sqrt(B*B/(I*I+k*k));U=Math.max(H,U)}V.r=U,U+=B}if(e.equidistant){for(var F=0,j=0,O=0;O<E.length;O++){var G=E[O],K=G.r-j;F=Math.max(F,K)}j=0;for(var Z=0;Z<E.length;Z++){var W=E[Z];Z===0&&(j=W.r),W.r=j,j+=F}}for(var ee={},ae=0;ae<E.length;ae++)for(var de=E[ae],fe=de.dTheta,ie=de.r,$=0;$<de.length;$++){var ue=de[$],ge=e.startAngle+(a?1:-1)*fe*$,Se={x:f.x+ie*Math.cos(ge),y:f.y+ie*Math.sin(ge)};ee[ue.node.id()]=Se}return l.nodes().layoutPositions(this,e,function(Me){var _e=Me.id();return ee[_e]}),this};var Zd,hA={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,a){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function pf(t){this.options=He({},hA,t),this.options.layout=this;var e=this.options.eles.nodes(),a=this.options.eles.edges(),n=a.filter(function(l){var u=l.source().data("id"),o=l.target().data("id"),f=e.some(function(c){return c.data("id")===u}),v=e.some(function(c){return c.data("id")===o});return!f||!v});this.options.eles=this.options.eles.not(n)}pf.prototype.run=function(){var t=this.options,e=t.cy,a=this;a.stopped=!1,(t.animate===!0||t.animate===!1)&&a.emit({type:"layoutstart",layout:a}),t.debug===!0?Zd=!0:Zd=!1;var n=gA(e,a,t);Zd&&yA(n),t.randomize&&mA(n);var l=Xr(),u=function(){bA(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(y){return!(a.stopped||y>=t.numIter||(wA(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},f=function(){if(t.animate===!0||t.animate===!1)u(),a.one("layoutstop",t.stop),a.emit({type:"layoutstop",layout:a});else{var y=t.eles.nodes(),w=Aw(n,t,y);y.layoutPositions(a,t,w)}},v=0,c=!0;if(t.animate===!0){var h=function(){for(var y=0;c&&y<t.refresh;)c=o(v),v++,y++;if(!c)Ub(n,t),f();else{var w=Xr();w-l>=t.animationThreshold&&u(),Go(h)}};h()}else{for(;c;)c=o(v),v++;Ub(n,t),f()}return this};pf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};pf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var gA=function(e,a,n){for(var l=n.eles.edges(),u=n.eles.nodes(),o=_a(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),f={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:u.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:l.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},v=n.eles.components(),c={},h=0;h<v.length;h++)for(var g=v[h],y=0;y<g.length;y++){var w=g[y];c[w.id()]=h}for(var h=0;h<f.nodeSize;h++){var m=u[h],S=m.layoutDimensions(n),x={};x.isLocked=m.locked(),x.id=m.data("id"),x.parentId=m.data("parent"),x.cmptId=c[m.id()],x.children=[],x.positionX=m.position("x"),x.positionY=m.position("y"),x.offsetX=0,x.offsetY=0,x.height=S.w,x.width=S.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(m.style("padding")),x.padRight=parseFloat(m.style("padding")),x.padTop=parseFloat(m.style("padding")),x.padBottom=parseFloat(m.style("padding")),x.nodeRepulsion=Bt(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,f.layoutNodes.push(x),f.idToIndex[x.id]=h}for(var E=[],T=0,C=-1,D=[],h=0;h<f.nodeSize;h++){var m=f.layoutNodes[h],R=m.parentId;R!=null?f.layoutNodes[f.idToIndex[R]].children.push(m.id):(E[++C]=m.id,D.push(m.id))}for(f.graphSet.push(D);T<=C;){var B=E[T++],M=f.idToIndex[B],w=f.layoutNodes[M],z=w.children;if(z.length>0){f.graphSet.push(z);for(var h=0;h<z.length;h++)E[++C]=z[h]}}for(var h=0;h<f.graphSet.length;h++)for(var L=f.graphSet[h],y=0;y<L.length;y++){var U=f.idToIndex[L[y]];f.indexToGraph[U]=h}for(var h=0;h<f.edgeSize;h++){var _=l[h],V={};V.id=_.data("id"),V.sourceId=_.data("source"),V.targetId=_.data("target");var P=Bt(n.idealEdgeLength)?n.idealEdgeLength(_):n.idealEdgeLength,Y=Bt(n.edgeElasticity)?n.edgeElasticity(_):n.edgeElasticity,I=f.idToIndex[V.sourceId],k=f.idToIndex[V.targetId],H=f.indexToGraph[I],F=f.indexToGraph[k];if(H!=F){for(var j=pA(V.sourceId,V.targetId,f),O=f.graphSet[j],G=0,x=f.layoutNodes[I];O.indexOf(x.id)===-1;)x=f.layoutNodes[f.idToIndex[x.parentId]],G++;for(x=f.layoutNodes[k];O.indexOf(x.id)===-1;)x=f.layoutNodes[f.idToIndex[x.parentId]],G++;P*=G*n.nestingFactor}V.idealLength=P,V.elasticity=Y,f.layoutEdges.push(V)}return f},pA=function(e,a,n){var l=Dw(e,a,0,n);return 2>l.count?0:l.graph},Dw=function(e,a,n,l){var u=l.graphSet[n];if(-1<u.indexOf(e)&&-1<u.indexOf(a))return{count:2,graph:n};for(var o=0,f=0;f<u.length;f++){var v=u[f],c=l.idToIndex[v],h=l.layoutNodes[c].children;if(h.length!==0){var g=l.indexToGraph[l.idToIndex[h[0]]],y=Dw(e,a,g,l);if(y.count!==0)if(y.count===1){if(o++,o===2)break}else return y}}return{count:o,graph:n}},yA,mA=function(e,a){for(var n=e.clientWidth,l=e.clientHeight,u=0;u<e.nodeSize;u++){var o=e.layoutNodes[u];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*l)}},Aw=function(e,a,n){var l=e.boundingBox,u={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return a.boundingBox&&(n.forEach(function(o){var f=e.layoutNodes[e.idToIndex[o.data("id")]];u.x1=Math.min(u.x1,f.positionX),u.x2=Math.max(u.x2,f.positionX),u.y1=Math.min(u.y1,f.positionY),u.y2=Math.max(u.y2,f.positionY)}),u.w=u.x2-u.x1,u.h=u.y2-u.y1),function(o,f){var v=e.layoutNodes[e.idToIndex[o.data("id")]];if(a.boundingBox){var c=(v.positionX-u.x1)/u.w,h=(v.positionY-u.y1)/u.h;return{x:l.x1+c*l.w,y:l.y1+h*l.h}}else return{x:v.positionX,y:v.positionY}}},bA=function(e,a,n){var l=n.layout,u=n.eles.nodes(),o=Aw(e,n,u);u.positions(o),e.ready!==!0&&(e.ready=!0,l.one("layoutready",n.ready),l.emit({type:"layoutready",layout:this}))},wA=function(e,a,n){xA(e,a),TA(e),CA(e,a),DA(e),AA(e)},xA=function(e,a){for(var n=0;n<e.graphSet.length;n++)for(var l=e.graphSet[n],u=l.length,o=0;o<u;o++)for(var f=e.layoutNodes[e.idToIndex[l[o]]],v=o+1;v<u;v++){var c=e.layoutNodes[e.idToIndex[l[v]]];EA(f,c,e,a)}},Pb=function(e){return-1+2*e*Math.random()},EA=function(e,a,n,l){var u=e.cmptId,o=a.cmptId;if(!(u!==o&&!n.isCompound)){var f=a.positionX-e.positionX,v=a.positionY-e.positionY,c=1;f===0&&v===0&&(f=Pb(c),v=Pb(c));var h=SA(e,a,f,v);if(h>0)var g=l.nodeOverlap*h,y=Math.sqrt(f*f+v*v),w=g*f/y,m=g*v/y;else var S=Qo(e,f,v),x=Qo(a,-1*f,-1*v),E=x.x-S.x,T=x.y-S.y,C=E*E+T*T,y=Math.sqrt(C),g=(e.nodeRepulsion+a.nodeRepulsion)/C,w=g*E/y,m=g*T/y;e.isLocked||(e.offsetX-=w,e.offsetY-=m),a.isLocked||(a.offsetX+=w,a.offsetY+=m)}},SA=function(e,a,n,l){if(n>0)var u=e.maxX-a.minX;else var u=a.maxX-e.minX;if(l>0)var o=e.maxY-a.minY;else var o=a.maxY-e.minY;return u>=0&&o>=0?Math.sqrt(u*u+o*o):0},Qo=function(e,a,n){var l=e.positionX,u=e.positionY,o=e.height||1,f=e.width||1,v=n/a,c=o/f,h={};return a===0&&0<n||a===0&&0>n?(h.x=l,h.y=u+o/2,h):0<a&&-1*c<=v&&v<=c?(h.x=l+f/2,h.y=u+f*n/2/a,h):0>a&&-1*c<=v&&v<=c?(h.x=l-f/2,h.y=u-f*n/2/a,h):0<n&&(v<=-1*c||v>=c)?(h.x=l+o*a/2/n,h.y=u+o/2,h):(0>n&&(v<=-1*c||v>=c)&&(h.x=l-o*a/2/n,h.y=u-o/2),h)},TA=function(e,a){for(var n=0;n<e.edgeSize;n++){var l=e.layoutEdges[n],u=e.idToIndex[l.sourceId],o=e.layoutNodes[u],f=e.idToIndex[l.targetId],v=e.layoutNodes[f],c=v.positionX-o.positionX,h=v.positionY-o.positionY;if(!(c===0&&h===0)){var g=Qo(o,c,h),y=Qo(v,-1*c,-1*h),w=y.x-g.x,m=y.y-g.y,S=Math.sqrt(w*w+m*m),x=Math.pow(l.idealLength-S,2)/l.elasticity;if(S!==0)var E=x*w/S,T=x*m/S;else var E=0,T=0;o.isLocked||(o.offsetX+=E,o.offsetY+=T),v.isLocked||(v.offsetX-=E,v.offsetY-=T)}}},CA=function(e,a){if(a.gravity!==0)for(var n=1,l=0;l<e.graphSet.length;l++){var u=e.graphSet[l],o=u.length;if(l===0)var f=e.clientHeight/2,v=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[u[0]]],h=e.layoutNodes[e.idToIndex[c.parentId]],f=h.positionX,v=h.positionY;for(var g=0;g<o;g++){var y=e.layoutNodes[e.idToIndex[u[g]]];if(!y.isLocked){var w=f-y.positionX,m=v-y.positionY,S=Math.sqrt(w*w+m*m);if(S>n){var x=a.gravity*w/S,E=a.gravity*m/S;y.offsetX+=x,y.offsetY+=E}}}}},DA=function(e,a){var n=[],l=0,u=-1;for(n.push.apply(n,e.graphSet[0]),u+=e.graphSet[0].length;l<=u;){var o=n[l++],f=e.idToIndex[o],v=e.layoutNodes[f],c=v.children;if(0<c.length&&!v.isLocked){for(var h=v.offsetX,g=v.offsetY,y=0;y<c.length;y++){var w=e.layoutNodes[e.idToIndex[c[y]]];w.offsetX+=h,w.offsetY+=g,n[++u]=c[y]}v.offsetX=0,v.offsetY=0}}},AA=function(e,a){for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];0<l.children.length&&(l.maxX=void 0,l.minX=void 0,l.maxY=void 0,l.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];if(!(0<l.children.length||l.isLocked)){var u=RA(l.offsetX,l.offsetY,e.temperature);l.positionX+=u.x,l.positionY+=u.y,l.offsetX=0,l.offsetY=0,l.minX=l.positionX-l.width,l.maxX=l.positionX+l.width,l.minY=l.positionY-l.height,l.maxY=l.positionY+l.height,Rw(l,e)}}for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];0<l.children.length&&!l.isLocked&&(l.positionX=(l.maxX+l.minX)/2,l.positionY=(l.maxY+l.minY)/2,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY)}},RA=function(e,a,n){var l=Math.sqrt(e*e+a*a);if(l>n)var u={x:n*e/l,y:n*a/l};else var u={x:e,y:a};return u},Rw=function(e,a){var n=e.parentId;if(n!=null){var l=a.layoutNodes[a.idToIndex[n]],u=!1;if((l.maxX==null||e.maxX+l.padRight>l.maxX)&&(l.maxX=e.maxX+l.padRight,u=!0),(l.minX==null||e.minX-l.padLeft<l.minX)&&(l.minX=e.minX-l.padLeft,u=!0),(l.maxY==null||e.maxY+l.padBottom>l.maxY)&&(l.maxY=e.maxY+l.padBottom,u=!0),(l.minY==null||e.minY-l.padTop<l.minY)&&(l.minY=e.minY-l.padTop,u=!0),u)return Rw(l,a)}},Ub=function(e,a){for(var n=e.layoutNodes,l=[],u=0;u<n.length;u++){var o=n[u],f=o.cmptId,v=l[f]=l[f]||[];v.push(o)}for(var c=0,u=0;u<l.length;u++){var h=l[u];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var g=0;g<h.length;g++){var y=h[g];h.x1=Math.min(h.x1,y.positionX-y.width/2),h.x2=Math.max(h.x2,y.positionX+y.width/2),h.y1=Math.min(h.y1,y.positionY-y.height/2),h.y2=Math.max(h.y2,y.positionY+y.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,c+=h.w*h.h}}l.sort(function(T,C){return C.w*C.h-T.w*T.h});for(var w=0,m=0,S=0,x=0,E=Math.sqrt(c)*e.clientWidth/e.clientHeight,u=0;u<l.length;u++){var h=l[u];if(h){for(var g=0;g<h.length;g++){var y=h[g];y.isLocked||(y.positionX+=w-h.x1,y.positionY+=m-h.y1)}w+=h.w+a.componentSpacing,S+=h.w+a.componentSpacing,x=Math.max(x,h.h),S>E&&(m+=x+a.componentSpacing,w=0,S=0,x=0)}}},MA={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Mw(t){this.options=He({},MA,t)}Mw.prototype.run=function(){var t=this.options,e=t,a=t.cy,n=e.eles,l=n.nodes().not(":parent");e.sort&&(l=l.sort(e.sort));var u=_a(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()});if(u.h===0||u.w===0)n.nodes().layoutPositions(this,e,function(Z){return{x:u.x1,y:u.y1}});else{var o=l.size(),f=Math.sqrt(o*u.h/u.w),v=Math.round(f),c=Math.round(u.w/u.h*f),h=function(W){if(W==null)return Math.min(v,c);var ee=Math.min(v,c);ee==v?v=W:c=W},g=function(W){if(W==null)return Math.max(v,c);var ee=Math.max(v,c);ee==v?v=W:c=W},y=e.rows,w=e.cols!=null?e.cols:e.columns;if(y!=null&&w!=null)v=y,c=w;else if(y!=null&&w==null)v=y,c=Math.ceil(o/v);else if(y==null&&w!=null)c=w,v=Math.ceil(o/c);else if(c*v>o){var m=h(),S=g();(m-1)*S>=o?h(m-1):(S-1)*m>=o&&g(S-1)}else for(;c*v<o;){var x=h(),E=g();(E+1)*x>=o?g(E+1):h(x+1)}var T=u.w/c,C=u.h/v;if(e.condense&&(T=0,C=0),e.avoidOverlap)for(var D=0;D<l.length;D++){var R=l[D],B=R._private.position;(B.x==null||B.y==null)&&(B.x=0,B.y=0);var M=R.layoutDimensions(e),z=e.avoidOverlapPadding,L=M.w+z,U=M.h+z;T=Math.max(T,L),C=Math.max(C,U)}for(var _={},V=function(W,ee){return!!_["c-"+W+"-"+ee]},P=function(W,ee){_["c-"+W+"-"+ee]=!0},Y=0,I=0,k=function(){I++,I>=c&&(I=0,Y++)},H={},F=0;F<l.length;F++){var j=l[F],O=e.position(j);if(O&&(O.row!==void 0||O.col!==void 0)){var G={row:O.row,col:O.col};if(G.col===void 0)for(G.col=0;V(G.row,G.col);)G.col++;else if(G.row===void 0)for(G.row=0;V(G.row,G.col);)G.row++;H[j.id()]=G,P(G.row,G.col)}}var K=function(W,ee){var ae,de;if(W.locked()||W.isParent())return!1;var fe=H[W.id()];if(fe)ae=fe.col*T+T/2+u.x1,de=fe.row*C+C/2+u.y1;else{for(;V(Y,I);)k();ae=I*T+T/2+u.x1,de=Y*C+C/2+u.y1,P(Y,I),k()}return{x:ae,y:de}};l.layoutPositions(this,e,K)}return this};var BA={ready:function(){},stop:function(){}};function Hh(t){this.options=He({},BA,t)}Hh.prototype.run=function(){var t=this.options,e=t.eles,a=this;return t.cy,a.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),a.one("layoutready",t.ready),a.emit("layoutready"),a.one("layoutstop",t.stop),a.emit("layoutstop"),this};Hh.prototype.stop=function(){return this};var OA={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Bw(t){this.options=He({},OA,t)}Bw.prototype.run=function(){var t=this.options,e=t.eles,a=e.nodes(),n=Bt(t.positions);function l(u){if(t.positions==null)return tT(u.position());if(n)return t.positions(u);var o=t.positions[u._private.data.id];return o??null}return a.layoutPositions(this,t,function(u,o){var f=l(u);return u.locked()||f==null?!1:f}),this};var zA={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,a){return!0},ready:void 0,stop:void 0,transform:function(e,a){return a}};function Ow(t){this.options=He({},zA,t)}Ow.prototype.run=function(){var t=this.options,e=t.cy,a=t.eles,n=_a(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),l=function(o,f){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return a.nodes().layoutPositions(this,t,l),this};var NA=[{name:"breadthfirst",impl:Sw},{name:"circle",impl:Tw},{name:"concentric",impl:Cw},{name:"cose",impl:pf},{name:"grid",impl:Mw},{name:"null",impl:Hh},{name:"preset",impl:Bw},{name:"random",impl:Ow}];function zw(t){this.options=t,this.notifications=0}var Vb=function(){},Hb=function(){throw new Error("A headless instance can not render images")};zw.prototype={recalculateRenderedStyle:Vb,notify:function(){this.notifications++},init:Vb,isHeadless:function(){return!0},png:Hb,jpg:Hb};var Gh={};Gh.arrowShapeWidth=.3;Gh.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,a=function(c,h,g,y,w,m,S){var x=w.x-g/2-S,E=w.x+g/2+S,T=w.y-g/2-S,C=w.y+g/2+S,D=x<=c&&c<=E&&T<=h&&h<=C;return D},n=function(c,h,g,y,w){var m=c*Math.cos(y)-h*Math.sin(y),S=c*Math.sin(y)+h*Math.cos(y),x=m*g,E=S*g,T=x+w.x,C=E+w.y;return{x:T,y:C}},l=function(c,h,g,y){for(var w=[],m=0;m<c.length;m+=2){var S=c[m],x=c[m+1];w.push(n(S,x,h,g,y))}return w},u=function(c){for(var h=[],g=0;g<c.length;g++){var y=c[g];h.push(y.x,y.y)}return h},o=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},f=function(c,h){Ue(h)&&(h=t[h]),t[c]=He({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(y,w,m,S,x,E){var T=u(l(this.points,m+2*E,S,x)),C=ka(y,w,T);return C},roughCollide:a,draw:function(y,w,m,S){var x=l(this.points,w,m,S);e.arrowShapeImpl("polygon")(y,x)},spacing:function(y){return 0},gap:o},h)};f("none",{collide:Yo,roughCollide:Yo,draw:Rh,spacing:r0,gap:r0}),f("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),f("arrow","triangle"),f("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:a,draw:function(c,h,g,y,w){var m=l(this.points,h,g,y),S=this.controlPoint,x=n(S[0],S[1],h,g,y);e.arrowShapeImpl(this.name)(c,m,x)},gap:function(c){return o(c)*.8}}),f("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,h,g,y,w,m,S){var x=u(l(this.points,g+2*S,y,w)),E=u(l(this.pointsTee,g+2*S,y,w)),T=ka(c,h,x)||ka(c,h,E);return T},draw:function(c,h,g,y,w){var m=l(this.points,h,g,y),S=l(this.pointsTee,h,g,y);e.arrowShapeImpl(this.name)(c,m,S)}}),f("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,h,g,y,w,m,S){var x=w,E=Math.pow(x.x-c,2)+Math.pow(x.y-h,2)<=Math.pow((g+2*S)*this.radius,2),T=u(l(this.points,g+2*S,y,w));return ka(c,h,T)||E},draw:function(c,h,g,y,w){var m=l(this.pointsTr,h,g,y);e.arrowShapeImpl(this.name)(c,m,y.x,y.y,this.radius*h)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),f("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,h){var g=this.baseCrossLinePts.slice(),y=h/c,w=3,m=5;return g[w]=g[w]-y,g[m]=g[m]-y,g},collide:function(c,h,g,y,w,m,S){var x=u(l(this.points,g+2*S,y,w)),E=u(l(this.crossLinePts(g,m),g+2*S,y,w)),T=ka(c,h,x)||ka(c,h,E);return T},draw:function(c,h,g,y,w){var m=l(this.points,h,g,y),S=l(this.crossLinePts(h,w),h,g,y);e.arrowShapeImpl(this.name)(c,m,S)}}),f("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return o(c)*.525}}),f("circle",{radius:.15,collide:function(c,h,g,y,w,m,S){var x=w,E=Math.pow(x.x-c,2)+Math.pow(x.y-h,2)<=Math.pow((g+2*S)*this.radius,2);return E},draw:function(c,h,g,y,w){e.arrowShapeImpl(this.name)(c,y.x,y.y,this.radius*h)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),f("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),f("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),f("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),f("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var gi={};gi.projectIntoViewport=function(t,e){var a=this.cy,n=this.findContainerClientCoords(),l=n[0],u=n[1],o=n[4],f=a.pan(),v=a.zoom(),c=((t-l)/o-f.x)/v,h=((e-u)/o-f.y)/v;return[c,h]};gi.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),a=this.cy.window().getComputedStyle(t),n=function(E){return parseFloat(a.getPropertyValue(E))},l={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},u={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,f=t.clientHeight,v=l.left+l.right,c=l.top+l.bottom,h=u.left+u.right,g=e.width/(o+h),y=o-v,w=f-c,m=e.left+l.left+u.left,S=e.top+l.top+u.top;return this.containerBB=[m,S,y,w,g]};gi.invalidateContainerClientCoordsCache=function(){this.containerBB=null};gi.findNearestElement=function(t,e,a,n){return this.findNearestElements(t,e,a,n)[0]};gi.findNearestElements=function(t,e,a,n){var l=this,u=this,o=u.getCachedZSortedEles(),f=[],v=u.cy.zoom(),c=u.cy.hasCompoundNodes(),h=(n?24:8)/v,g=(n?8:2)/v,y=(n?8:2)/v,w=1/0,m,S;a&&(o=o.interactive);function x(M,z){if(M.isNode()){if(S)return;S=M,f.push(M)}if(M.isEdge()&&(z==null||z<w))if(m){if(m.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value){for(var L=0;L<f.length;L++)if(f[L].isEdge()){f[L]=M,m=M,w=z??w;break}}}else f.push(M),m=M,w=z??w}function E(M){var z=M.outerWidth()+2*g,L=M.outerHeight()+2*g,U=z/2,_=L/2,V=M.position(),P=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,Y=M._private.rscratch;if(V.x-U<=t&&t<=V.x+U&&V.y-_<=e&&e<=V.y+_){var I=u.nodeShapes[l.getNodeShape(M)];if(I.checkPoint(t,e,0,z,L,V.x,V.y,P,Y))return x(M,0),!0}}function T(M){var z=M._private,L=z.rscratch,U=M.pstyle("width").pfValue,_=M.pstyle("arrow-scale").value,V=U/2+h,P=V*V,Y=V*2,F=z.source,j=z.target,I;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var k=L.allpts,H=0;H+3<k.length;H+=2)if(hT(t,e,k[H],k[H+1],k[H+2],k[H+3],Y)&&P>(I=bT(t,e,k[H],k[H+1],k[H+2],k[H+3])))return x(M,I),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(var k=L.allpts,H=0;H+5<L.allpts.length;H+=4)if(gT(t,e,k[H],k[H+1],k[H+2],k[H+3],k[H+4],k[H+5],Y)&&P>(I=mT(t,e,k[H],k[H+1],k[H+2],k[H+3],k[H+4],k[H+5])))return x(M,I),!0}for(var F=F||z.source,j=j||z.target,O=l.getArrowWidth(U,_),G=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}],H=0;H<G.length;H++){var K=G[H],Z=u.arrowShapes[M.pstyle(K.name+"-arrow-shape").value],W=M.pstyle("width").pfValue;if(Z.roughCollide(t,e,O,K.angle,{x:K.x,y:K.y},W,h)&&Z.collide(t,e,O,K.angle,{x:K.x,y:K.y},W,h))return x(M),!0}c&&f.length>0&&(E(F),E(j))}function C(M,z,L){return nr(M,z,L)}function D(M,z){var L=M._private,U=y,_;z?_=z+"-":_="",M.boundingBox();var V=L.labelBounds[z||"main"],P=M.pstyle(_+"label").value,Y=M.pstyle("text-events").strValue==="yes";if(!(!Y||!P)){var I=C(L.rscratch,"labelX",z),k=C(L.rscratch,"labelY",z),H=C(L.rscratch,"labelAngle",z),F=M.pstyle(_+"text-margin-x").pfValue,j=M.pstyle(_+"text-margin-y").pfValue,O=V.x1-U-F,G=V.x2+U-F,K=V.y1-U-j,Z=V.y2+U-j;if(H){var W=Math.cos(H),ee=Math.sin(H),ae=function(Se,Me){return Se=Se-I,Me=Me-k,{x:Se*W-Me*ee+I,y:Se*ee+Me*W+k}},de=ae(O,K),fe=ae(O,Z),ie=ae(G,K),$=ae(G,Z),ue=[de.x+F,de.y+j,ie.x+F,ie.y+j,$.x+F,$.y+j,fe.x+F,fe.y+j];if(ka(t,e,ue))return x(M),!0}else if(pl(V,t,e))return x(M),!0}}for(var R=o.length-1;R>=0;R--){var B=o[R];B.isNode()?E(B)||D(B):T(B)||D(B)||D(B,"source")||D(B,"target")}return f};gi.getAllInBox=function(t,e,a,n){var l=this.getCachedZSortedEles().interactive,u=[],o=Math.min(t,a),f=Math.max(t,a),v=Math.min(e,n),c=Math.max(e,n);t=o,a=f,e=v,n=c;for(var h=_a({x1:t,y1:e,x2:a,y2:n}),g=0;g<l.length;g++){var y=l[g];if(y.isNode()){var w=y,m=w.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Oh(h,m)&&!V1(m,h)&&u.push(w)}else{var S=y,x=S._private,E=x.rscratch;if(E.startX!=null&&E.startY!=null&&!pl(h,E.startX,E.startY)||E.endX!=null&&E.endY!=null&&!pl(h,E.endX,E.endY))continue;if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"||E.edgeType==="segments"||E.edgeType==="haystack"){for(var T=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,C=!0,D=0;D<T.length;D++)if(!dT(h,T[D])){C=!1;break}C&&u.push(S)}else(E.edgeType==="haystack"||E.edgeType==="straight")&&u.push(S)}}return u};var jo={};jo.calculateArrowAngles=function(t){var e=t._private.rscratch,a=e.edgeType==="haystack",n=e.edgeType==="bezier",l=e.edgeType==="multibezier",u=e.edgeType==="segments",o=e.edgeType==="compound",f=e.edgeType==="self",v,c,h,g,y,w,E,T;if(a?(h=e.haystackPts[0],g=e.haystackPts[1],y=e.haystackPts[2],w=e.haystackPts[3]):(h=e.arrowStartX,g=e.arrowStartY,y=e.arrowEndX,w=e.arrowEndY),E=e.midX,T=e.midY,u)v=h-e.segpts[0],c=g-e.segpts[1];else if(l||o||f||n){var m=e.allpts,S=na(m[0],m[2],m[4],.1),x=na(m[1],m[3],m[5],.1);v=h-S,c=g-x}else v=h-E,c=g-T;e.srcArrowAngle=mo(v,c);var E=e.midX,T=e.midY;if(a&&(E=(h+y)/2,T=(g+w)/2),v=y-h,c=w-g,u){var m=e.allpts;if(m.length/2%2===0){var C=m.length/2,D=C-2;v=m[C]-m[D],c=m[C+1]-m[D+1]}else if(e.isRound)v=e.midVector[1],c=-e.midVector[0];else{var C=m.length/2-1,D=C-2;v=m[C]-m[D],c=m[C+1]-m[D+1]}}else if(l||o||f){var m=e.allpts,R=e.ctrlpts,B,M,z,L;if(R.length/2%2===0){var U=m.length/2-1,_=U+2,V=_+2;B=na(m[U],m[_],m[V],0),M=na(m[U+1],m[_+1],m[V+1],0),z=na(m[U],m[_],m[V],1e-4),L=na(m[U+1],m[_+1],m[V+1],1e-4)}else{var _=m.length/2-1,U=_-2,V=_+2;B=na(m[U],m[_],m[V],.4999),M=na(m[U+1],m[_+1],m[V+1],.4999),z=na(m[U],m[_],m[V],.5),L=na(m[U+1],m[_+1],m[V+1],.5)}v=z-B,c=L-M}if(e.midtgtArrowAngle=mo(v,c),e.midDispX=v,e.midDispY=c,v*=-1,c*=-1,u){var m=e.allpts;if(m.length/2%2!==0){if(!e.isRound){var C=m.length/2-1,P=C+2;v=-(m[P]-m[C]),c=-(m[P+1]-m[C+1])}}}if(e.midsrcArrowAngle=mo(v,c),u)v=y-e.segpts[e.segpts.length-2],c=w-e.segpts[e.segpts.length-1];else if(l||o||f||n){var m=e.allpts,Y=m.length,S=na(m[Y-6],m[Y-4],m[Y-2],.9),x=na(m[Y-5],m[Y-3],m[Y-1],.9);v=y-S,c=w-x}else v=y-E,c=w-T;e.tgtArrowAngle=mo(v,c)};jo.getArrowWidth=jo.getArrowHeight=function(t,e){var a=this.arrowWidthCache=this.arrowWidthCache||{},n=a[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,a[t+", "+e]=n,n)};var hh,gh,Er={},rr={},Gb,Yb,si,qo,Yr,ni,ui,xr,rl,Do,Nw,Lw,ph,yh,Fb,Ib=function(e,a,n){n.x=a.x-e.x,n.y=a.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},LA=function(e,a){a.x=e.x*-1,a.y=e.y*-1,a.nx=e.nx*-1,a.ny=e.ny*-1,a.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},kA=function(e,a,n,l,u){if(e!==Fb?Ib(a,e,Er):LA(rr,Er),Ib(a,n,rr),Gb=Er.nx*rr.ny-Er.ny*rr.nx,Yb=Er.nx*rr.nx-Er.ny*-rr.ny,Yr=Math.asin(Math.max(-1,Math.min(1,Gb))),Math.abs(Yr)<1e-6){hh=a.x,gh=a.y,ui=rl=0;return}si=1,qo=!1,Yb<0?Yr<0?Yr=Math.PI+Yr:(Yr=Math.PI-Yr,si=-1,qo=!0):Yr>0&&(si=-1,qo=!0),a.radius!==void 0?rl=a.radius:rl=l,ni=Yr/2,Do=Math.min(Er.len/2,rr.len/2),u?(xr=Math.abs(Math.cos(ni)*rl/Math.sin(ni)),xr>Do?(xr=Do,ui=Math.abs(xr*Math.sin(ni)/Math.cos(ni))):ui=rl):(xr=Math.min(Do,rl),ui=Math.abs(xr*Math.sin(ni)/Math.cos(ni))),ph=a.x+rr.nx*xr,yh=a.y+rr.ny*xr,hh=ph-rr.ny*ui*si,gh=yh+rr.nx*ui*si,Nw=a.x+Er.nx*xr,Lw=a.y+Er.ny*xr,Fb=a};function kw(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Yh(t,e,a,n){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(kA(t,e,a,n,l),{cx:hh,cy:gh,radius:ui,startX:Nw,startY:Lw,stopX:ph,stopY:yh,startAngle:Er.ang+Math.PI/2*si,endAngle:rr.ang-Math.PI/2*si,counterClockwise:qo})}var Iu=.01,_A=Math.sqrt(2*Iu),Ca={};Ca.findMidptPtsEtc=function(t,e){var a=e.posPts,n=e.intersectionPts,l=e.vectorNormInverse,u,o=t.pstyle("source-endpoint"),f=t.pstyle("target-endpoint"),v=o.units!=null&&f.units!=null,c=function(R,B,M,z){var L=z-B,U=M-R,_=Math.sqrt(U*U+L*L);return{x:-L/_,y:U/_}},h=t.pstyle("edge-distances").value;switch(h){case"node-position":u=a;break;case"intersection":u=n;break;case"endpoints":{if(v){var g=this.manualEndptToPx(t.source()[0],o),y=ia(g,2),w=y[0],m=y[1],S=this.manualEndptToPx(t.target()[0],f),x=ia(S,2),E=x[0],T=x[1],C={x1:w,y1:m,x2:E,y2:T};l=c(w,m,E,T),u=C}else ct("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),u=n;break}}return{midptPts:u,vectorNormInverse:l}};Ca.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var a=t[e],n=a._private,l=n.rscratch;if(!l.haystack){var u=Math.random()*2*Math.PI;l.source={x:Math.cos(u),y:Math.sin(u)},u=Math.random()*2*Math.PI,l.target={x:Math.cos(u),y:Math.sin(u)}}var o=n.source,f=n.target,v=o.position(),c=f.position(),h=o.width(),g=f.width(),y=o.height(),w=f.height(),m=a.pstyle("haystack-radius").value,S=m/2;l.haystackPts=l.allpts=[l.source.x*h*S+v.x,l.source.y*y*S+v.y,l.target.x*g*S+c.x,l.target.y*w*S+c.y],l.midX=(l.allpts[0]+l.allpts[2])/2,l.midY=(l.allpts[1]+l.allpts[3])/2,l.edgeType="haystack",l.haystack=!0,this.storeEdgeProjections(a),this.calculateArrowAngles(a),this.recalculateEdgeLabelProjections(a),this.calculateLabelAngles(a)}};Ca.findSegmentsPoints=function(t,e){var a=t._private.rscratch,n=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),u=t.pstyle("segment-radii"),o=t.pstyle("radius-type"),f=Math.min(n.pfValue.length,l.pfValue.length),v=u.pfValue[u.pfValue.length-1],c=o.pfValue[o.pfValue.length-1];a.edgeType="segments",a.segpts=[],a.radii=[],a.isArcRadius=[];for(var h=0;h<f;h++){var g=n.pfValue[h],y=l.pfValue[h],w=1-g,m=g,S=this.findMidptPtsEtc(t,e),x=S.midptPts,E=S.vectorNormInverse,T={x:x.x1*w+x.x2*m,y:x.y1*w+x.y2*m};a.segpts.push(T.x+E.x*y,T.y+E.y*y),a.radii.push(u.pfValue[h]!==void 0?u.pfValue[h]:v),a.isArcRadius.push((o.pfValue[h]!==void 0?o.pfValue[h]:c)==="arc-radius")}};Ca.findLoopPoints=function(t,e,a,n){var l=t._private.rscratch,u=e.dirCounts,o=e.srcPos,f=t.pstyle("control-point-distances"),v=f?f.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,h=t.pstyle("loop-sweep").pfValue,g=t.pstyle("control-point-step-size").pfValue;l.edgeType="self";var y=a,w=g;n&&(y=0,w=v);var m=c-Math.PI/2,S=m-h/2,x=m+h/2,E=c+"_"+h;y=u[E]===void 0?u[E]=0:++u[E],l.ctrlpts=[o.x+Math.cos(S)*1.4*w*(y/3+1),o.y+Math.sin(S)*1.4*w*(y/3+1),o.x+Math.cos(x)*1.4*w*(y/3+1),o.y+Math.sin(x)*1.4*w*(y/3+1)]};Ca.findCompoundLoopPoints=function(t,e,a,n){var l=t._private.rscratch;l.edgeType="compound";var u=e.srcPos,o=e.tgtPos,f=e.srcW,v=e.srcH,c=e.tgtW,h=e.tgtH,g=t.pstyle("control-point-step-size").pfValue,y=t.pstyle("control-point-distances"),w=y?y.pfValue[0]:void 0,m=a,S=g;n&&(m=0,S=w);var x=50,E={x:u.x-f/2,y:u.y-v/2},T={x:o.x-c/2,y:o.y-h/2},C={x:Math.min(E.x,T.x),y:Math.min(E.y,T.y)},D=.5,R=Math.max(D,Math.log(f*Iu)),B=Math.max(D,Math.log(c*Iu));l.ctrlpts=[C.x,C.y-(1+Math.pow(x,1.12)/100)*S*(m/3+1)*R,C.x-(1+Math.pow(x,1.12)/100)*S*(m/3+1)*B,C.y]};Ca.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Ca.findBezierPoints=function(t,e,a,n,l){var u=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,f=t.pstyle("control-point-distances"),v=t.pstyle("control-point-weights"),c=f&&v?Math.min(f.value.length,v.value.length):1,h=f?f.pfValue[0]:void 0,g=v.value[0],y=n;u.edgeType=y?"multibezier":"bezier",u.ctrlpts=[];for(var w=0;w<c;w++){var m=(.5-e.eles.length/2+a)*o*(l?-1:1),S=void 0,x=P1(m);y&&(h=f?f.pfValue[w]:o,g=v.value[w]),n?S=h:S=h!==void 0?x*h:void 0;var E=S!==void 0?S:m,T=1-g,C=g,D=this.findMidptPtsEtc(t,e),R=D.midptPts,B=D.vectorNormInverse,M={x:R.x1*T+R.x2*C,y:R.y1*T+R.y2*C};u.ctrlpts.push(M.x+B.x*E,M.y+B.y*E)}};Ca.findTaxiPoints=function(t,e){var a=t._private.rscratch;a.edgeType="segments";var n="vertical",l="horizontal",u="leftward",o="rightward",f="downward",v="upward",c="auto",h=e.posPts,g=e.srcW,y=e.srcH,w=e.tgtW,m=e.tgtH,S=t.pstyle("edge-distances").value,x=S!=="node-position",E=t.pstyle("taxi-direction").value,T=E,C=t.pstyle("taxi-turn"),D=C.units==="%",R=C.pfValue,B=R<0,M=t.pstyle("taxi-turn-min-distance").pfValue,z=x?(g+w)/2:0,L=x?(y+m)/2:0,U=h.x2-h.x1,_=h.y2-h.y1,V=function(ye,Ce){return ye>0?Math.max(ye-Ce,0):Math.min(ye+Ce,0)},P=V(U,z),Y=V(_,L),I=!1;T===c?E=Math.abs(P)>Math.abs(Y)?l:n:T===v||T===f?(E=n,I=!0):(T===u||T===o)&&(E=l,I=!0);var k=E===n,H=k?Y:P,F=k?_:U,j=P1(F),O=!1;!(I&&(D||B))&&(T===f&&F<0||T===v&&F>0||T===u&&F>0||T===o&&F<0)&&(j*=-1,H=j*Math.abs(H),O=!0);var G;if(D){var K=R<0?1+R:R;G=K*H}else{var Z=R<0?H:0;G=Z+R*j}var W=function(ye){return Math.abs(ye)<M||Math.abs(ye)>=Math.abs(H)},ee=W(G),ae=W(Math.abs(H)-Math.abs(G)),de=ee||ae;if(de&&!O)if(k){var fe=Math.abs(F)<=y/2,ie=Math.abs(U)<=w/2;if(fe){var $=(h.x1+h.x2)/2,ue=h.y1,ge=h.y2;a.segpts=[$,ue,$,ge]}else if(ie){var Se=(h.y1+h.y2)/2,Me=h.x1,_e=h.x2;a.segpts=[Me,Se,_e,Se]}else a.segpts=[h.x1,h.y2]}else{var he=Math.abs(F)<=g/2,be=Math.abs(_)<=m/2;if(he){var xe=(h.y1+h.y2)/2,Te=h.x1,Ne=h.x2;a.segpts=[Te,xe,Ne,xe]}else if(be){var qe=(h.x1+h.x2)/2,ke=h.y1,Fe=h.y2;a.segpts=[qe,ke,qe,Fe]}else a.segpts=[h.x2,h.y1]}else if(k){var Qe=h.y1+G+(x?y/2*j:0),$e=h.x1,Ee=h.x2;a.segpts=[$e,Qe,Ee,Qe]}else{var q=h.x1+G+(x?g/2*j:0),te=h.y1,ve=h.y2;a.segpts=[q,te,q,ve]}if(a.isRound){var re=t.pstyle("taxi-radius").value,se=t.pstyle("radius-type").value[0]==="arc-radius";a.radii=new Array(a.segpts.length/2).fill(re),a.isArcRadius=new Array(a.segpts.length/2).fill(se)}};Ca.tryToCorrectInvalidPoints=function(t,e){var a=t._private.rscratch;if(a.edgeType==="bezier"){var n=e.srcPos,l=e.tgtPos,u=e.srcW,o=e.srcH,f=e.tgtW,v=e.tgtH,c=e.srcShape,h=e.tgtShape,g=e.srcCornerRadius,y=e.tgtCornerRadius,w=e.srcRs,m=e.tgtRs,S=!Re(a.startX)||!Re(a.startY),x=!Re(a.arrowStartX)||!Re(a.arrowStartY),E=!Re(a.endX)||!Re(a.endY),T=!Re(a.arrowEndX)||!Re(a.arrowEndY),C=3,D=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,R=C*D,B=fi({x:a.ctrlpts[0],y:a.ctrlpts[1]},{x:a.startX,y:a.startY}),M=B<R,z=fi({x:a.ctrlpts[0],y:a.ctrlpts[1]},{x:a.endX,y:a.endY}),L=z<R,U=!1;if(S||x||M){U=!0;var _={x:a.ctrlpts[0]-n.x,y:a.ctrlpts[1]-n.y},V=Math.sqrt(_.x*_.x+_.y*_.y),P={x:_.x/V,y:_.y/V},Y=Math.max(u,o),I={x:a.ctrlpts[0]+P.x*2*Y,y:a.ctrlpts[1]+P.y*2*Y},k=c.intersectLine(n.x,n.y,u,o,I.x,I.y,0,g,w);M?(a.ctrlpts[0]=a.ctrlpts[0]+P.x*(R-B),a.ctrlpts[1]=a.ctrlpts[1]+P.y*(R-B)):(a.ctrlpts[0]=k[0]+P.x*R,a.ctrlpts[1]=k[1]+P.y*R)}if(E||T||L){U=!0;var H={x:a.ctrlpts[0]-l.x,y:a.ctrlpts[1]-l.y},F=Math.sqrt(H.x*H.x+H.y*H.y),j={x:H.x/F,y:H.y/F},O=Math.max(u,o),G={x:a.ctrlpts[0]+j.x*2*O,y:a.ctrlpts[1]+j.y*2*O},K=h.intersectLine(l.x,l.y,f,v,G.x,G.y,0,y,m);L?(a.ctrlpts[0]=a.ctrlpts[0]+j.x*(R-z),a.ctrlpts[1]=a.ctrlpts[1]+j.y*(R-z)):(a.ctrlpts[0]=K[0]+j.x*R,a.ctrlpts[1]=K[1]+j.y*R)}U&&this.findEndpoints(t)}};Ca.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var a=0;a+1<e.ctrlpts.length;a+=2)e.allpts.push(e.ctrlpts[a],e.ctrlpts[a+1]),a+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[a]+e.ctrlpts[a+2])/2,(e.ctrlpts[a+1]+e.ctrlpts[a+3])/2);e.allpts.push(e.endX,e.endY);var n,l;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,l=.5,e.midX=na(e.allpts[n],e.allpts[n+2],e.allpts[n+4],l),e.midY=na(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],l))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var u=2;u+3<e.allpts.length;u+=2){var o=e.radii[u/2-1],f=e.isArcRadius[u/2-1];e.roundCorners.push(Yh({x:e.allpts[u-2],y:e.allpts[u-1]},{x:e.allpts[u],y:e.allpts[u+1],radius:o},{x:e.allpts[u+2],y:e.allpts[u+3]},o,f))}}if(e.segpts.length%4===0){var v=e.segpts.length/2,c=v-2;e.midX=(e.segpts[c]+e.segpts[v])/2,e.midY=(e.segpts[c+1]+e.segpts[v+1])/2}else{var h=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[h],e.midY=e.segpts[h+1];else{var g={x:e.segpts[h],y:e.segpts[h+1]},y=e.roundCorners[h/2];if(y.radius===0){var w={x:e.segpts[h+2],y:e.segpts[h+3]};e.midX=g.x,e.midY=g.y,e.midVector=[g.y-w.y,w.x-g.x]}else{var m=[g.x-y.cx,g.y-y.cy],S=y.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(x){return x*S}),e.midX=y.cx+m[0],e.midY=y.cy+m[1],e.midVector=m}}}}};Ca.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Re(e.startX)&&Re(e.startY)&&Re(e.endX)&&Re(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ct("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Ca.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var a=this,n=a.cy,l=n.hasCompoundNodes(),u=new Ir,o=function(L,U){return[].concat(m1(L),[U?1:0]).join("-")},f=[],v=[],c=0;c<t.length;c++){var h=t[c],g=h._private,y=h.pstyle("curve-style").value;if(!(h.removed()||!h.takesUpSpace())){if(y==="haystack"){v.push(h);continue}var w=y==="unbundled-bezier"||y.endsWith("segments")||y==="straight"||y==="straight-triangle"||y.endsWith("taxi"),m=y==="unbundled-bezier"||y==="bezier",S=g.source,x=g.target,E=S.poolIndex(),T=x.poolIndex(),C=[E,T].sort(),D=o(C,w),R=u.get(D);R==null&&(R={eles:[]},f.push({pairId:C,edgeIsUnbundled:w}),u.set(D,R)),R.eles.push(h),w&&(R.hasUnbundled=!0),m&&(R.hasBezier=!0)}}for(var B=function(){var L=f[M],U=L.pairId,_=L.edgeIsUnbundled,V=o(U,_),P=u.get(V),Y;if(!P.hasUnbundled){var I=P.eles[0].parallelEdges().filter(function(se){return se.isBundledBezier()});Mh(P.eles),I.forEach(function(se){return P.eles.push(se)}),P.eles.sort(function(se,Ae){return se.poolIndex()-Ae.poolIndex()})}var k=P.eles[0],H=k.source(),F=k.target();if(H.poolIndex()>F.poolIndex()){var j=H;H=F,F=j}var O=P.srcPos=H.position(),G=P.tgtPos=F.position(),K=P.srcW=H.outerWidth(),Z=P.srcH=H.outerHeight(),W=P.tgtW=F.outerWidth(),ee=P.tgtH=F.outerHeight(),ae=P.srcShape=a.nodeShapes[e.getNodeShape(H)],de=P.tgtShape=a.nodeShapes[e.getNodeShape(F)],fe=P.srcCornerRadius=H.pstyle("corner-radius").value==="auto"?"auto":H.pstyle("corner-radius").pfValue,ie=P.tgtCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,$=P.tgtRs=F._private.rscratch,ue=P.srcRs=H._private.rscratch;P.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ge=0;ge<P.eles.length;ge++){var Se=P.eles[ge],Me=Se[0]._private.rscratch,_e=Se.pstyle("curve-style").value,he=_e==="unbundled-bezier"||_e.endsWith("segments")||_e.endsWith("taxi"),be=!H.same(Se.source());if(!P.calculatedIntersection&&H!==F&&(P.hasBezier||P.hasUnbundled)){P.calculatedIntersection=!0;var xe=ae.intersectLine(O.x,O.y,K,Z,G.x,G.y,0,fe,ue),Te=P.srcIntn=xe,Ne=de.intersectLine(G.x,G.y,W,ee,O.x,O.y,0,ie,$),qe=P.tgtIntn=Ne,ke=P.intersectionPts={x1:xe[0],x2:Ne[0],y1:xe[1],y2:Ne[1]},Fe=P.posPts={x1:O.x,x2:G.x,y1:O.y,y2:G.y},Qe=Ne[1]-xe[1],$e=Ne[0]-xe[0],Ee=Math.sqrt($e*$e+Qe*Qe);Re(Ee)&&Ee>=_A||(Ee=Math.sqrt(Math.max($e*$e,Iu)+Math.max(Qe*Qe,Iu)));var q=P.vector={x:$e,y:Qe},te=P.vectorNorm={x:q.x/Ee,y:q.y/Ee},ve={x:-te.y,y:te.x};P.nodesOverlap=!Re(Ee)||de.checkPoint(xe[0],xe[1],0,W,ee,G.x,G.y,ie,$)||ae.checkPoint(Ne[0],Ne[1],0,K,Z,O.x,O.y,fe,ue),P.vectorNormInverse=ve,Y={nodesOverlap:P.nodesOverlap,dirCounts:P.dirCounts,calculatedIntersection:!0,hasBezier:P.hasBezier,hasUnbundled:P.hasUnbundled,eles:P.eles,srcPos:G,srcRs:$,tgtPos:O,tgtRs:ue,srcW:W,srcH:ee,tgtW:K,tgtH:Z,srcIntn:qe,tgtIntn:Te,srcShape:de,tgtShape:ae,posPts:{x1:Fe.x2,y1:Fe.y2,x2:Fe.x1,y2:Fe.y1},intersectionPts:{x1:ke.x2,y1:ke.y2,x2:ke.x1,y2:ke.y1},vector:{x:-q.x,y:-q.y},vectorNorm:{x:-te.x,y:-te.y},vectorNormInverse:{x:-ve.x,y:-ve.y}}}var re=be?Y:P;Me.nodesOverlap=re.nodesOverlap,Me.srcIntn=re.srcIntn,Me.tgtIntn=re.tgtIntn,Me.isRound=_e.startsWith("round"),l&&(H.isParent()||H.isChild()||F.isParent()||F.isChild())&&(H.parents().anySame(F)||F.parents().anySame(H)||H.same(F)&&H.isParent())?e.findCompoundLoopPoints(Se,re,ge,he):H===F?e.findLoopPoints(Se,re,ge,he):_e.endsWith("segments")?e.findSegmentsPoints(Se,re):_e.endsWith("taxi")?e.findTaxiPoints(Se,re):_e==="straight"||!he&&P.eles.length%2===1&&ge===Math.floor(P.eles.length/2)?e.findStraightEdgePoints(Se):e.findBezierPoints(Se,re,ge,he,be),e.findEndpoints(Se),e.tryToCorrectInvalidPoints(Se,re),e.checkForInvalidEdgeWarning(Se),e.storeAllpts(Se),e.storeEdgeProjections(Se),e.calculateArrowAngles(Se),e.recalculateEdgeLabelProjections(Se),e.calculateLabelAngles(Se)}},M=0;M<f.length;M++)B();this.findHaystackPoints(v)}};function _w(t){var e=[];if(t!=null){for(var a=0;a<t.length;a+=2){var n=t[a],l=t[a+1];e.push({x:n,y:l})}return e}}Ca.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var a=e.edgeType;if(a==="segments")return _w(e.segpts)};Ca.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var a=e.edgeType;if(a==="bezier"||a==="multibezier"||a==="self"||a==="compound")return _w(e.ctrlpts)};Ca.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ts={};ts.manualEndptToPx=function(t,e){var a=this,n=t.position(),l=t.outerWidth(),u=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var f=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(f[0]=f[0]*l),e.units[1]==="%"&&(f[1]=f[1]*u),f[0]+=n.x,f[1]+=n.y,f}else{var v=e.pfValue[0];v=-Math.PI/2+v;var c=2*Math.max(l,u),h=[n.x+Math.cos(v)*c,n.y+Math.sin(v)*c];return a.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,l,u,h[0],h[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)}};ts.findEndpoints=function(t){var e=this,a,n=t.source()[0],l=t.target()[0],u=n.position(),o=l.position(),f=t.pstyle("target-arrow-shape").value,v=t.pstyle("source-arrow-shape").value,c=t.pstyle("target-distance-from-node").pfValue,h=t.pstyle("source-distance-from-node").pfValue,g=n._private.rscratch,y=l._private.rscratch,w=t.pstyle("curve-style").value,m=t._private.rscratch,S=m.edgeType,x=w==="taxi",E=S==="self"||S==="compound",T=S==="bezier"||S==="multibezier"||E,C=S!=="bezier",D=S==="straight"||S==="segments",R=S==="segments",B=T||C||D,M=E||x,z=t.pstyle("source-endpoint"),L=M?"outside-to-node":z.value,U=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,_=t.pstyle("target-endpoint"),V=M?"outside-to-node":_.value,P=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;m.srcManEndpt=z,m.tgtManEndpt=_;var Y,I,k,H;if(T){var F=[m.ctrlpts[0],m.ctrlpts[1]],j=C?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:F;Y=j,I=F}else if(D){var O=R?m.segpts.slice(0,2):[o.x,o.y],G=R?m.segpts.slice(m.segpts.length-2):[u.x,u.y];Y=G,I=O}if(V==="inside-to-node")a=[o.x,o.y];else if(_.units)a=this.manualEndptToPx(l,_);else if(V==="outside-to-line")a=m.tgtIntn;else if(V==="outside-to-node"||V==="outside-to-node-or-label"?k=Y:(V==="outside-to-line"||V==="outside-to-line-or-label")&&(k=[u.x,u.y]),a=e.nodeShapes[this.getNodeShape(l)].intersectLine(o.x,o.y,l.outerWidth(),l.outerHeight(),k[0],k[1],0,P,y),V==="outside-to-node-or-label"||V==="outside-to-line-or-label"){var K=l._private.rscratch,Z=K.labelWidth,W=K.labelHeight,ee=K.labelX,ae=K.labelY,de=Z/2,fe=W/2,ie=l.pstyle("text-valign").value;ie==="top"?ae-=fe:ie==="bottom"&&(ae+=fe);var $=l.pstyle("text-halign").value;$==="left"?ee-=de:$==="right"&&(ee+=de);var ue=Vu(k[0],k[1],[ee-de,ae-fe,ee+de,ae-fe,ee+de,ae+fe,ee-de,ae+fe],o.x,o.y);if(ue.length>0){var ge=u,Se=ii(ge,sl(a)),Me=ii(ge,sl(ue)),_e=Se;if(Me<Se&&(a=ue,_e=Me),ue.length>2){var he=ii(ge,{x:ue[2],y:ue[3]});he<_e&&(a=[ue[2],ue[3]])}}}var be=bo(a,Y,e.arrowShapes[f].spacing(t)+c),xe=bo(a,Y,e.arrowShapes[f].gap(t)+c);if(m.endX=xe[0],m.endY=xe[1],m.arrowEndX=be[0],m.arrowEndY=be[1],L==="inside-to-node")a=[u.x,u.y];else if(z.units)a=this.manualEndptToPx(n,z);else if(L==="outside-to-line")a=m.srcIntn;else if(L==="outside-to-node"||L==="outside-to-node-or-label"?H=I:(L==="outside-to-line"||L==="outside-to-line-or-label")&&(H=[o.x,o.y]),a=e.nodeShapes[this.getNodeShape(n)].intersectLine(u.x,u.y,n.outerWidth(),n.outerHeight(),H[0],H[1],0,U,g),L==="outside-to-node-or-label"||L==="outside-to-line-or-label"){var Te=n._private.rscratch,Ne=Te.labelWidth,qe=Te.labelHeight,ke=Te.labelX,Fe=Te.labelY,Qe=Ne/2,$e=qe/2,Ee=n.pstyle("text-valign").value;Ee==="top"?Fe-=$e:Ee==="bottom"&&(Fe+=$e);var q=n.pstyle("text-halign").value;q==="left"?ke-=Qe:q==="right"&&(ke+=Qe);var te=Vu(H[0],H[1],[ke-Qe,Fe-$e,ke+Qe,Fe-$e,ke+Qe,Fe+$e,ke-Qe,Fe+$e],u.x,u.y);if(te.length>0){var ve=o,re=ii(ve,sl(a)),se=ii(ve,sl(te)),Ae=re;if(se<re&&(a=[te[0],te[1]],Ae=se),te.length>2){var ye=ii(ve,{x:te[2],y:te[3]});ye<Ae&&(a=[te[2],te[3]])}}}var Ce=bo(a,I,e.arrowShapes[v].spacing(t)+h),Le=bo(a,I,e.arrowShapes[v].gap(t)+h);m.startX=Le[0],m.startY=Le[1],m.arrowStartX=Ce[0],m.arrowStartY=Ce[1],B&&(!Re(m.startX)||!Re(m.startY)||!Re(m.endX)||!Re(m.endY)?m.badLine=!0:m.badLine=!1)};ts.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};ts.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Fh={};function qA(t,e,a){for(var n=function(c,h,g,y){return na(c,h,g,y)},l=e._private,u=l.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var f=t.bezierProjPcts[o];u.push({x:n(a[0],a[2],a[4],f),y:n(a[1],a[3],a[5],f)})}}Fh.storeEdgeProjections=function(t){var e=t._private,a=e.rscratch,n=a.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var l=0;l+5<a.allpts.length;l+=4)qA(this,t,a.allpts.slice(l,l+6))}else if(n==="segments")for(var u=e.rstyle.linePts=[],l=0;l+1<a.allpts.length;l+=2)u.push({x:a.allpts[l],y:a.allpts[l+1]});else if(n==="haystack"){var o=a.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Fh.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Cr={};Cr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Mn(e)){var a,n,l=t._private,u=t.width(),o=t.height(),f=t.padding(),v=t.position(),c=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,g=l.rscratch,y=l.rstyle;switch(c){case"left":a=v.x-u/2-f;break;case"right":a=v.x+u/2+f;break;default:a=v.x}switch(h){case"top":n=v.y-o/2-f;break;case"bottom":n=v.y+o/2+f;break;default:n=v.y}g.labelX=a,g.labelY=n,y.labelX=a,y.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var qw=function(e,a){var n=Math.atan(a/e);return e===0&&n<0&&(n=n*-1),n},Pw=function(e,a){var n=a.x-e.x,l=a.y-e.y;return qw(n,l)},PA=function(e,a,n,l){var u=Uu(0,l-.001,1),o=Uu(0,l+.001,1),f=cl(e,a,n,u),v=cl(e,a,n,o);return Pw(f,v)};Cr.recalculateEdgeLabelProjections=function(t){var e,a=t._private,n=a.rscratch,l=this,u={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(u.mid||u.source||u.target){e={x:n.midX,y:n.midY};var o=function(g,y,w){Fr(a.rscratch,g,y,w),Fr(a.rstyle,g,y,w)};o("labelX",null,e.x),o("labelY",null,e.y);var f=qw(n.midDispX,n.midDispY);o("labelAutoAngle",null,f);var v=function(){if(v.cache)return v.cache;for(var g=[],y=0;y+5<n.allpts.length;y+=4){var w={x:n.allpts[y],y:n.allpts[y+1]},m={x:n.allpts[y+2],y:n.allpts[y+3]},S={x:n.allpts[y+4],y:n.allpts[y+5]};g.push({p0:w,p1:m,p2:S,startDist:0,length:0,segments:[]})}var x=a.rstyle.bezierPts,E=l.bezierProjPcts.length;function T(M,z,L,U,_){var V=fi(z,L),P=M.segments[M.segments.length-1],Y={p0:z,p1:L,t0:U,t1:_,startDist:P?P.startDist+P.length:0,length:V};M.segments.push(Y),M.length+=V}for(var C=0;C<g.length;C++){var D=g[C],R=g[C-1];R&&(D.startDist=R.startDist+R.length),T(D,D.p0,x[C*E],0,l.bezierProjPcts[0]);for(var B=0;B<E-1;B++)T(D,x[C*E+B],x[C*E+B+1],l.bezierProjPcts[B],l.bezierProjPcts[B+1]);T(D,x[C*E+E-1],D.p2,l.bezierProjPcts[E-1],1)}return v.cache=g},c=function(g){var y,w=g==="source";if(u[g]){var m=t.pstyle(g+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var S=v(),x,E=0,T=0,C=0;C<S.length;C++){for(var D=S[w?C:S.length-1-C],R=0;R<D.segments.length;R++){var B=D.segments[w?R:D.segments.length-1-R],M=C===S.length-1&&R===D.segments.length-1;if(E=T,T+=B.length,T>=m||M){x={cp:D,segment:B};break}}if(x)break}var z=x.cp,L=x.segment,U=(m-E)/L.length,_=L.t1-L.t0,V=w?L.t0+_*U:L.t1-_*U;V=Uu(0,V,1),e=cl(z.p0,z.p1,z.p2,V),y=PA(z.p0,z.p1,z.p2,V);break}case"straight":case"segments":case"haystack":{for(var P=0,Y,I,k,H,F=n.allpts.length,j=0;j+3<F&&(w?(k={x:n.allpts[j],y:n.allpts[j+1]},H={x:n.allpts[j+2],y:n.allpts[j+3]}):(k={x:n.allpts[F-2-j],y:n.allpts[F-1-j]},H={x:n.allpts[F-4-j],y:n.allpts[F-3-j]}),Y=fi(k,H),I=P,P+=Y,!(P>=m));j+=2);var O=m-I,G=O/Y;G=Uu(0,G,1),e=sT(k,H,G),y=Pw(k,H);break}}o("labelX",g,e.x),o("labelY",g,e.y),o("labelAutoAngle",g,y)}};c("source"),c("target"),this.applyLabelDimensions(t)}};Cr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Cr.applyPrefixedLabelDimensions=function(t,e){var a=t._private,n=this.getLabelText(t,e),l=Bn(n,t._private.labelDimsKey);if(nr(a.rscratch,"prefixedLabelDimsKey",e)!==l){Fr(a.rscratch,"prefixedLabelDimsKey",e,l);var u=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,f=t.pstyle("text-wrap").strValue,v=nr(a.rscratch,"labelWrapCachedLines",e)||[],c=f!=="wrap"?1:Math.max(v.length,1),h=u.height/c,g=h*o,y=u.width,w=u.height+(c-1)*(o-1)*h;Fr(a.rstyle,"labelWidth",e,y),Fr(a.rscratch,"labelWidth",e,y),Fr(a.rstyle,"labelHeight",e,w),Fr(a.rscratch,"labelHeight",e,w),Fr(a.rscratch,"labelLineHeight",e,g)}};Cr.getLabelText=function(t,e){var a=t._private,n=e?e+"-":"",l=t.pstyle(n+"label").strValue,u=t.pstyle("text-transform").value,o=function(Z,W){return W?(Fr(a.rscratch,Z,e,W),W):nr(a.rscratch,Z,e)};if(!l)return"";u=="none"||(u=="uppercase"?l=l.toUpperCase():u=="lowercase"&&(l=l.toLowerCase()));var f=t.pstyle("text-wrap").value;if(f==="wrap"){var v=o("labelKey");if(v!=null&&o("labelWrapKey")===v)return o("labelWrapCachedText");for(var c="",h=l.split(`
`),g=t.pstyle("text-max-width").pfValue,y=t.pstyle("text-overflow-wrap").value,w=y==="anywhere",m=[],S=/[\s\u200b]+|$/g,x=0;x<h.length;x++){var E=h[x],T=this.calculateLabelDimensions(t,E),C=T.width;if(w){var D=E.split("").join(c);E=D}if(C>g){var R=E.matchAll(S),B="",M=0,z=cr(R),L;try{for(z.s();!(L=z.n()).done;){var U=L.value,_=U[0],V=E.substring(M,U.index);M=U.index+_.length;var P=B.length===0?V:B+V+_,Y=this.calculateLabelDimensions(t,P),I=Y.width;I<=g?B+=V+_:(B&&m.push(B),B=V+_)}}catch(K){z.e(K)}finally{z.f()}B.match(/^[\s\u200b]+$/)||m.push(B)}else m.push(E)}o("labelWrapCachedLines",m),l=o("labelWrapCachedText",m.join(`
`)),o("labelWrapKey",v)}else if(f==="ellipsis"){var k=t.pstyle("text-max-width").pfValue,H="",F="",j=!1;if(this.calculateLabelDimensions(t,l).width<k)return l;for(var O=0;O<l.length;O++){var G=this.calculateLabelDimensions(t,H+l[O]+F).width;if(G>k)break;H+=l[O],O===l.length-1&&(j=!0)}return j||(H+=F),H}return l};Cr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,a=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(a){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Cr.calculateLabelDimensions=function(t,e){var a=this,n=a.cy.window(),l=n.document,u=0,o=t.pstyle("font-style").strValue,f=t.pstyle("font-size").pfValue,v=t.pstyle("font-family").strValue,c=t.pstyle("font-weight").strValue,h=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=l.createElement("canvas"),g=this.labelCalcCanvasContext=h.getContext("2d");var y=h.style;y.position="absolute",y.left="-9999px",y.top="-9999px",y.zIndex="-1",y.visibility="hidden",y.pointerEvents="none"}g.font="".concat(o," ").concat(c," ").concat(f,"px ").concat(v);for(var w=0,m=0,S=e.split(`
`),x=0;x<S.length;x++){var E=S[x],T=g.measureText(E),C=Math.ceil(T.width),D=f;w=Math.max(C,w),m+=D}return w+=u,m+=u,{width:w,height:m}};Cr.calculateLabelAngle=function(t,e){var a=t._private,n=a.rscratch,l=t.isEdge(),u=e?e+"-":"",o=t.pstyle(u+"text-rotation"),f=o.strValue;return f==="none"?0:l&&f==="autorotate"?n.labelAutoAngle:f==="autorotate"?0:o.pfValue};Cr.calculateLabelAngles=function(t){var e=this,a=t.isEdge(),n=t._private,l=n.rscratch;l.labelAngle=e.calculateLabelAngle(t),a&&(l.sourceLabelAngle=e.calculateLabelAngle(t,"source"),l.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Uw={},Xb=28,Kb=!1;Uw.getNodeShape=function(t){var e=this,a=t.pstyle("shape").value;if(a==="cutrectangle"&&(t.width()<Xb||t.height()<Xb))return Kb||(ct("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Kb=!0),"rectangle";if(t.isParent())return a==="rectangle"||a==="roundrectangle"||a==="round-rectangle"||a==="cutrectangle"||a==="cut-rectangle"||a==="barrel"?a:"rectangle";if(a==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return a};var yf={};yf.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),a=this,n=function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),f)for(var v=0;v<o.length;v++){var c=o[v],h=c._private,g=h.rstyle;g.clean=!1,g.cleanConnected=!1}};a.binder(t).on("bounds.* dirty.*",function(o){var f=o.target;n(f)}).on("style.* background.*",function(o){var f=o.target;n(f,!1)});var l=function(o){if(o){var f=a.onUpdateEleCalcsFns;e.cleanStyle();for(var v=0;v<e.length;v++){var c=e[v],h=c._private.rstyle;c.isNode()&&!h.cleanConnected&&(n(c.connectedEdges()),h.cleanConnected=!0)}if(f)for(var g=0;g<f.length;g++){var y=f[g];y(o,e)}a.recalculateRenderedStyle(e),e=t.collection()}};a.flushRenderedStyleQueue=function(){l(!0)},a.beforeRender(l,a.beforeRenderPriorities.eleCalcs)};yf.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};yf.recalculateRenderedStyle=function(t,e){var a=function(D){return D._private.rstyle.cleanConnected};if(t.length!==0){var n=[],l=[];if(!this.destroyed){e===void 0&&(e=!0);for(var u=0;u<t.length;u++){var o=t[u],f=o._private,v=f.rstyle;o.isEdge()&&(!a(o.source())||!a(o.target()))&&(v.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(C){return!C._private.rstyle.clean&&C.isBundledBezier()})&&(v.clean=!1),!(e&&v.clean||o.removed())&&o.pstyle("display").value!=="none"&&(f.group==="nodes"?l.push(o):n.push(o),v.clean=!0)}for(var c=0;c<l.length;c++){var h=l[c],g=h._private,y=g.rstyle,w=h.position();this.recalculateNodeLabelProjection(h),y.nodeX=w.x,y.nodeY=w.y,y.nodeW=h.pstyle("width").pfValue,y.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var S=n[m],x=S._private,E=x.rstyle,T=x.rscratch;E.srcX=T.arrowStartX,E.srcY=T.arrowStartY,E.tgtX=T.arrowEndX,E.tgtY=T.arrowEndY,E.midX=T.midX,E.midY=T.midY,E.labelAngle=T.labelAngle,E.sourceLabelAngle=T.sourceLabelAngle,E.targetLabelAngle=T.targetLabelAngle}}}};var mf={};mf.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],a=0;a<t.length;a++){var n=t[a],l=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):l.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var a=0;a<e.length;a++){var n=e[a];t.drag.push(n)}}};mf.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};mf.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(ww),e.interactive=e.filter(function(a){return a.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Vw={};[gi,jo,Ca,ts,Fh,Cr,Uw,yf,mf].forEach(function(t){He(Vw,t)});var Hw={};Hw.getCachedImage=function(t,e,a){var n=this,l=n.imageCache=n.imageCache||{},u=l[t];if(u)return u.image.complete||u.image.addEventListener("load",a),u.image;u=l[t]=l[t]||{};var o=u.image=new Image;o.addEventListener("load",a),o.addEventListener("error",function(){o.error=!0});var f="data:",v=t.substring(0,f.length).toLowerCase()===f;return v||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var Sl={};Sl.registerBinding=function(t,e,a,n){var l=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var u=[],o=0;o<t.length;o++){var f=t[o];if(f!==void 0){var v=this.binder(f);u.push(v.on.apply(v,l))}}return u}var v=this.binder(t);return v.on.apply(v,l)};Sl.binder=function(t){var e=this,a=e.cy.window(),n=t===a||t===a.document||t===a.document.body||tS(t);if(e.supportsPassiveEvents==null){var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){return l=!0,!0}});a.addEventListener("test",null,u)}catch{}e.supportsPassiveEvents=l}var o=function(v,c,h){var g=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(g[2]={capture:h??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:g}),(t.addEventListener||t.on).apply(t,g),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Sl.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Sl.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Sl.load=function(){var t=this,e=t.cy.window(),a=function(q){return q.selected()},n=function(q){var te=q.getRootNode();if(te&&te.nodeType===11&&te.host!==void 0)return te},l=function(q,te,ve,re){q==null&&(q=t.cy);for(var se=0;se<te.length;se++){var Ae=te[se];q.emit({originalEvent:ve,type:Ae,position:re})}},u=function(q){return q.shiftKey||q.metaKey||q.ctrlKey},o=function(q,te){var ve=!0;if(t.cy.hasCompoundNodes()&&q&&q.pannable())for(var re=0;te&&re<te.length;re++){var q=te[re];if(q.isNode()&&q.isParent()&&!q.pannable()){ve=!1;break}}else ve=!0;return ve},f=function(q){q[0]._private.grabbed=!0},v=function(q){q[0]._private.grabbed=!1},c=function(q){q[0]._private.rscratch.inDragLayer=!0},h=function(q){q[0]._private.rscratch.inDragLayer=!1},g=function(q){q[0]._private.rscratch.isGrabTarget=!0},y=function(q){q[0]._private.rscratch.isGrabTarget=!1},w=function(q,te){var ve=te.addToList,re=ve.has(q);!re&&q.grabbable()&&!q.locked()&&(ve.merge(q),f(q))},m=function(q,te){if(q.cy().hasCompoundNodes()&&!(te.inDragLayer==null&&te.addToList==null)){var ve=q.descendants();te.inDragLayer&&(ve.forEach(c),ve.connectedEdges().forEach(c)),te.addToList&&w(ve,te)}},S=function(q,te){te=te||{};var ve=q.cy().hasCompoundNodes();te.inDragLayer&&(q.forEach(c),q.neighborhood().stdFilter(function(re){return!ve||re.isEdge()}).forEach(c)),te.addToList&&q.forEach(function(re){w(re,te)}),m(q,te),T(q,{inDragLayer:te.inDragLayer}),t.updateCachedGrabbedEles()},x=S,E=function(q){q&&(t.getCachedZSortedEles().forEach(function(te){v(te),h(te),y(te)}),t.updateCachedGrabbedEles())},T=function(q,te){if(!(te.inDragLayer==null&&te.addToList==null)&&q.cy().hasCompoundNodes()){var ve=q.ancestors().orphans();if(!ve.same(q)){var re=ve.descendants().spawnSelf().merge(ve).unmerge(q).unmerge(q.descendants()),se=re.connectedEdges();te.inDragLayer&&(se.forEach(c),re.forEach(c)),te.addToList&&re.forEach(function(Ae){w(Ae,te)})}}},C=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},D=typeof MutationObserver<"u",R=typeof ResizeObserver<"u";D?(t.removeObserver=new MutationObserver(function(Ee){for(var q=0;q<Ee.length;q++){var te=Ee[q],ve=te.removedNodes;if(ve)for(var re=0;re<ve.length;re++){var se=ve[re];if(se===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Ee){t.destroy()});var B=$u(function(){t.cy.resize()},100);D&&(t.styleObserver=new MutationObserver(B),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",B),R&&(t.resizeObserver=new ResizeObserver(B),t.resizeObserver.observe(t.container));var M=function(q,te){for(;q!=null;)te(q),q=q.parentNode},z=function(){t.invalidateContainerClientCoordsCache()};M(t.container,function(Ee){t.registerBinding(Ee,"transitionend",z),t.registerBinding(Ee,"animationend",z),t.registerBinding(Ee,"scroll",z)}),t.registerBinding(t.container,"contextmenu",function(Ee){Ee.preventDefault()});var L=function(){return t.selection[4]!==0},U=function(q){for(var te=t.findContainerClientCoords(),ve=te[0],re=te[1],se=te[2],Ae=te[3],ye=q.touches?q.touches:[q],Ce=!1,Le=0;Le<ye.length;Le++){var Ie=ye[Le];if(ve<=Ie.clientX&&Ie.clientX<=ve+se&&re<=Ie.clientY&&Ie.clientY<=re+Ae){Ce=!0;break}}if(!Ce)return!1;for(var Be=t.container,Xe=q.target,Ke=Xe.parentNode,Ve=!1;Ke;){if(Ke===Be){Ve=!0;break}Ke=Ke.parentNode}return!!Ve};t.registerBinding(t.container,"mousedown",function(q){if(U(q)&&!(t.hoverData.which===1&&q.which!==1)){q.preventDefault(),C(),t.hoverData.capture=!0,t.hoverData.which=q.which;var te=t.cy,ve=[q.clientX,q.clientY],re=t.projectIntoViewport(ve[0],ve[1]),se=t.selection,Ae=t.findNearestElements(re[0],re[1],!0,!1),ye=Ae[0],Ce=t.dragData.possibleDragElements;t.hoverData.mdownPos=re,t.hoverData.mdownGPos=ve;var Le=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var ot=t.hoverData.down;ot?ot.emit({originalEvent:q,type:"taphold",position:{x:re[0],y:re[1]}}):te.emit({originalEvent:q,type:"taphold",position:{x:re[0],y:re[1]}})}},t.tapholdDuration)};if(q.which==3){t.hoverData.cxtStarted=!0;var Ie={originalEvent:q,type:"cxttapstart",position:{x:re[0],y:re[1]}};ye?(ye.activate(),ye.emit(Ie),t.hoverData.down=ye):te.emit(Ie),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(q.which==1){ye&&ye.activate();{if(ye!=null&&t.nodeIsGrabbable(ye)){var Be=function(ot){return{originalEvent:q,type:ot,position:{x:re[0],y:re[1]}}},Xe=function(ot){ot.emit(Be("grab"))};if(g(ye),!ye.selected())Ce=t.dragData.possibleDragElements=te.collection(),x(ye,{addToList:Ce}),ye.emit(Be("grabon")).emit(Be("grab"));else{Ce=t.dragData.possibleDragElements=te.collection();var Ke=te.$(function(Ve){return Ve.isNode()&&Ve.selected()&&t.nodeIsGrabbable(Ve)});S(Ke,{addToList:Ce}),ye.emit(Be("grabon")),Ke.forEach(Xe)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ye,t.hoverData.downs=Ae,t.hoverData.downTime=new Date().getTime()}l(ye,["mousedown","tapstart","vmousedown"],q,{x:re[0],y:re[1]}),ye==null?(se[4]=1,t.data.bgActivePosistion={x:re[0],y:re[1]},t.redrawHint("select",!0),t.redraw()):ye.pannable()&&(se[4]=1),Le()}se[0]=se[2]=re[0],se[1]=se[3]=re[1]}},!1);var _=n(t.container);t.registerBinding([e,_],"mousemove",function(q){var te=t.hoverData.capture;if(!(!te&&!U(q))){var ve=!1,re=t.cy,se=re.zoom(),Ae=[q.clientX,q.clientY],ye=t.projectIntoViewport(Ae[0],Ae[1]),Ce=t.hoverData.mdownPos,Le=t.hoverData.mdownGPos,Ie=t.selection,Be=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Be=t.findNearestElement(ye[0],ye[1],!0,!1));var Xe=t.hoverData.last,Ke=t.hoverData.down,Ve=[ye[0]-Ie[2],ye[1]-Ie[3]],ot=t.dragData.possibleDragElements,vt;if(Le){var Da=Ae[0]-Le[0],ya=Da*Da,Ot=Ae[1]-Le[1],zt=Ot*Ot,Nt=ya+zt;t.hoverData.isOverThresholdDrag=vt=Nt>=t.desktopTapThreshold2}var Wt=u(q);vt&&(t.hoverData.tapholdCancelled=!0);var sa=function(){var Ba=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Ba.length===0?(Ba.push(Ve[0]),Ba.push(Ve[1])):(Ba[0]+=Ve[0],Ba[1]+=Ve[1])};ve=!0,l(Be,["mousemove","vmousemove","tapdrag"],q,{x:ye[0],y:ye[1]});var Ft=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||re.emit({originalEvent:q,type:"boxstart",position:{x:ye[0],y:ye[1]}}),Ie[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(vt){var dt={originalEvent:q,type:"cxtdrag",position:{x:ye[0],y:ye[1]}};Ke?Ke.emit(dt):re.emit(dt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Be!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:q,type:"cxtdragout",position:{x:ye[0],y:ye[1]}}),t.hoverData.cxtOver=Be,Be&&Be.emit({originalEvent:q,type:"cxtdragover",position:{x:ye[0],y:ye[1]}}))}}else if(t.hoverData.dragging){if(ve=!0,re.panningEnabled()&&re.userPanningEnabled()){var Ct;if(t.hoverData.justStartedPan){var ma=t.hoverData.mdownPos;Ct={x:(ye[0]-ma[0])*se,y:(ye[1]-ma[1])*se},t.hoverData.justStartedPan=!1}else Ct={x:Ve[0]*se,y:Ve[1]*se};re.panBy(Ct),re.emit("dragpan"),t.hoverData.dragged=!0}ye=t.projectIntoViewport(q.clientX,q.clientY)}else if(Ie[4]==1&&(Ke==null||Ke.pannable())){if(vt){if(!t.hoverData.dragging&&re.boxSelectionEnabled()&&(Wt||!re.panningEnabled()||!re.userPanningEnabled()))Ft();else if(!t.hoverData.selecting&&re.panningEnabled()&&re.userPanningEnabled()){var qa=o(Ke,t.hoverData.downs);qa&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ie[4]=0,t.data.bgActivePosistion=sl(Ce),t.redrawHint("select",!0),t.redraw())}Ke&&Ke.pannable()&&Ke.active()&&Ke.unactivate()}}else{if(Ke&&Ke.pannable()&&Ke.active()&&Ke.unactivate(),(!Ke||!Ke.grabbed())&&Be!=Xe&&(Xe&&l(Xe,["mouseout","tapdragout"],q,{x:ye[0],y:ye[1]}),Be&&l(Be,["mouseover","tapdragover"],q,{x:ye[0],y:ye[1]}),t.hoverData.last=Be),Ke)if(vt){if(re.boxSelectionEnabled()&&Wt)Ke&&Ke.grabbed()&&(E(ot),Ke.emit("freeon"),ot.emit("free"),t.dragData.didDrag&&(Ke.emit("dragfreeon"),ot.emit("dragfree"))),Ft();else if(Ke&&Ke.grabbed()&&t.nodeIsDraggable(Ke)){var Jt=!t.dragData.didDrag;Jt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||S(ot,{inDragLayer:!0});var Vt={x:0,y:0};if(Re(Ve[0])&&Re(Ve[1])&&(Vt.x+=Ve[0],Vt.y+=Ve[1],Jt)){var oa=t.hoverData.dragDelta;oa&&Re(oa[0])&&Re(oa[1])&&(Vt.x+=oa[0],Vt.y+=oa[1])}t.hoverData.draggingEles=!0,ot.silentShift(Vt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else sa();ve=!0}if(Ie[2]=ye[0],Ie[3]=ye[1],ve)return q.stopPropagation&&q.stopPropagation(),q.preventDefault&&q.preventDefault(),!1}},!1);var V,P,Y;t.registerBinding(e,"mouseup",function(q){if(!(t.hoverData.which===1&&q.which!==1&&t.hoverData.capture)){var te=t.hoverData.capture;if(te){t.hoverData.capture=!1;var ve=t.cy,re=t.projectIntoViewport(q.clientX,q.clientY),se=t.selection,Ae=t.findNearestElement(re[0],re[1],!0,!1),ye=t.dragData.possibleDragElements,Ce=t.hoverData.down,Le=u(q);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ce&&Ce.unactivate(),t.hoverData.which===3){var Ie={originalEvent:q,type:"cxttapend",position:{x:re[0],y:re[1]}};if(Ce?Ce.emit(Ie):ve.emit(Ie),!t.hoverData.cxtDragged){var Be={originalEvent:q,type:"cxttap",position:{x:re[0],y:re[1]}};Ce?Ce.emit(Be):ve.emit(Be)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(l(Ae,["mouseup","tapend","vmouseup"],q,{x:re[0],y:re[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(l(Ce,["click","tap","vclick"],q,{x:re[0],y:re[1]}),P=!1,q.timeStamp-Y<=ve.multiClickDebounceTime()?(V&&clearTimeout(V),P=!0,Y=null,l(Ce,["dblclick","dbltap","vdblclick"],q,{x:re[0],y:re[1]})):(V=setTimeout(function(){P||l(Ce,["oneclick","onetap","voneclick"],q,{x:re[0],y:re[1]})},ve.multiClickDebounceTime()),Y=q.timeStamp)),Ce==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!u(q)&&(ve.$(a).unselect(["tapunselect"]),ye.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ye=ve.collection()),Ae==Ce&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ae!=null&&Ae._private.selectable&&(t.hoverData.dragging||(ve.selectionType()==="additive"||Le?Ae.selected()?Ae.unselect(["tapunselect"]):Ae.select(["tapselect"]):Le||(ve.$(a).unmerge(Ae).unselect(["tapunselect"]),Ae.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Xe=ve.collection(t.getAllInBox(se[0],se[1],se[2],se[3]));t.redrawHint("select",!0),Xe.length>0&&t.redrawHint("eles",!0),ve.emit({type:"boxend",originalEvent:q,position:{x:re[0],y:re[1]}});var Ke=function(vt){return vt.selectable()&&!vt.selected()};ve.selectionType()==="additive"||Le||ve.$(a).unmerge(Xe).unselect(),Xe.emit("box").stdFilter(Ke).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!se[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ve=Ce&&Ce.grabbed();E(ye),Ve&&(Ce.emit("freeon"),ye.emit("free"),t.dragData.didDrag&&(Ce.emit("dragfreeon"),ye.emit("dragfree")))}}se[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var I=function(q){if(!t.scrollingPage){var te=t.cy,ve=te.zoom(),re=te.pan(),se=t.projectIntoViewport(q.clientX,q.clientY),Ae=[se[0]*ve+re.x,se[1]*ve+re.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||L()){q.preventDefault();return}if(te.panningEnabled()&&te.userPanningEnabled()&&te.zoomingEnabled()&&te.userZoomingEnabled()){q.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ye;q.deltaY!=null?ye=q.deltaY/-250:q.wheelDeltaY!=null?ye=q.wheelDeltaY/1e3:ye=q.wheelDelta/1e3,ye=ye*t.wheelSensitivity;var Ce=q.deltaMode===1;Ce&&(ye*=33);var Le=te.zoom()*Math.pow(10,ye);q.type==="gesturechange"&&(Le=t.gestureStartZoom*q.scale),te.zoom({level:Le,renderedPosition:{x:Ae[0],y:Ae[1]}}),te.emit(q.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",I,!0),t.registerBinding(e,"scroll",function(q){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(q){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||q.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Ee){t.hasTouchStarted||I(Ee)},!0),t.registerBinding(t.container,"mouseout",function(q){var te=t.projectIntoViewport(q.clientX,q.clientY);t.cy.emit({originalEvent:q,type:"mouseout",position:{x:te[0],y:te[1]}})},!1),t.registerBinding(t.container,"mouseover",function(q){var te=t.projectIntoViewport(q.clientX,q.clientY);t.cy.emit({originalEvent:q,type:"mouseover",position:{x:te[0],y:te[1]}})},!1);var k,H,F,j,O,G,K,Z,W,ee,ae,de,fe,ie=function(q,te,ve,re){return Math.sqrt((ve-q)*(ve-q)+(re-te)*(re-te))},$=function(q,te,ve,re){return(ve-q)*(ve-q)+(re-te)*(re-te)},ue;t.registerBinding(t.container,"touchstart",ue=function(q){if(t.hasTouchStarted=!0,!!U(q)){C(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var te=t.cy,ve=t.touchData.now,re=t.touchData.earlier;if(q.touches[0]){var se=t.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);ve[0]=se[0],ve[1]=se[1]}if(q.touches[1]){var se=t.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);ve[2]=se[0],ve[3]=se[1]}if(q.touches[2]){var se=t.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);ve[4]=se[0],ve[5]=se[1]}if(q.touches[1]){t.touchData.singleTouchMoved=!0,E(t.dragData.touchDragEles);var Ae=t.findContainerClientCoords();W=Ae[0],ee=Ae[1],ae=Ae[2],de=Ae[3],k=q.touches[0].clientX-W,H=q.touches[0].clientY-ee,F=q.touches[1].clientX-W,j=q.touches[1].clientY-ee,fe=0<=k&&k<=ae&&0<=F&&F<=ae&&0<=H&&H<=de&&0<=j&&j<=de;var ye=te.pan(),Ce=te.zoom();O=ie(k,H,F,j),G=$(k,H,F,j),K=[(k+F)/2,(H+j)/2],Z=[(K[0]-ye.x)/Ce,(K[1]-ye.y)/Ce];var Le=200,Ie=Le*Le;if(G<Ie&&!q.touches[2]){var Be=t.findNearestElement(ve[0],ve[1],!0,!0),Xe=t.findNearestElement(ve[2],ve[3],!0,!0);Be&&Be.isNode()?(Be.activate().emit({originalEvent:q,type:"cxttapstart",position:{x:ve[0],y:ve[1]}}),t.touchData.start=Be):Xe&&Xe.isNode()?(Xe.activate().emit({originalEvent:q,type:"cxttapstart",position:{x:ve[0],y:ve[1]}}),t.touchData.start=Xe):te.emit({originalEvent:q,type:"cxttapstart",position:{x:ve[0],y:ve[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(q.touches[2])te.boxSelectionEnabled()&&q.preventDefault();else if(!q.touches[1]){if(q.touches[0]){var Ke=t.findNearestElements(ve[0],ve[1],!0,!0),Ve=Ke[0];if(Ve!=null&&(Ve.activate(),t.touchData.start=Ve,t.touchData.starts=Ke,t.nodeIsGrabbable(Ve))){var ot=t.dragData.touchDragEles=te.collection(),vt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ve.selected()?(vt=te.$(function(Nt){return Nt.selected()&&t.nodeIsGrabbable(Nt)}),S(vt,{addToList:ot})):x(Ve,{addToList:ot}),g(Ve);var Da=function(Wt){return{originalEvent:q,type:Wt,position:{x:ve[0],y:ve[1]}}};Ve.emit(Da("grabon")),vt?vt.forEach(function(Nt){Nt.emit(Da("grab"))}):Ve.emit(Da("grab"))}l(Ve,["touchstart","tapstart","vmousedown"],q,{x:ve[0],y:ve[1]}),Ve==null&&(t.data.bgActivePosistion={x:se[0],y:se[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&l(t.touchData.start,["taphold"],q,{x:ve[0],y:ve[1]})},t.tapholdDuration)}}if(q.touches.length>=1){for(var ya=t.touchData.startPosition=[null,null,null,null,null,null],Ot=0;Ot<ve.length;Ot++)ya[Ot]=re[Ot]=ve[Ot];var zt=q.touches[0];t.touchData.startGPosition=[zt.clientX,zt.clientY]}}},!1);var ge;t.registerBinding(e,"touchmove",ge=function(q){var te=t.touchData.capture;if(!(!te&&!U(q))){var ve=t.selection,re=t.cy,se=t.touchData.now,Ae=t.touchData.earlier,ye=re.zoom();if(q.touches[0]){var Ce=t.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);se[0]=Ce[0],se[1]=Ce[1]}if(q.touches[1]){var Ce=t.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);se[2]=Ce[0],se[3]=Ce[1]}if(q.touches[2]){var Ce=t.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);se[4]=Ce[0],se[5]=Ce[1]}var Le=t.touchData.startGPosition,Ie;if(te&&q.touches[0]&&Le){for(var Be=[],Xe=0;Xe<se.length;Xe++)Be[Xe]=se[Xe]-Ae[Xe];var Ke=q.touches[0].clientX-Le[0],Ve=Ke*Ke,ot=q.touches[0].clientY-Le[1],vt=ot*ot,Da=Ve+vt;Ie=Da>=t.touchTapThreshold2}if(te&&t.touchData.cxt){q.preventDefault();var ya=q.touches[0].clientX-W,Ot=q.touches[0].clientY-ee,zt=q.touches[1].clientX-W,Nt=q.touches[1].clientY-ee,Wt=$(ya,Ot,zt,Nt),sa=Wt/G,Ft=150,dt=Ft*Ft,Ct=1.5,ma=Ct*Ct;if(sa>=ma||Wt>=dt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var qa={originalEvent:q,type:"cxttapend",position:{x:se[0],y:se[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(qa),t.touchData.start=null):re.emit(qa)}}if(te&&t.touchData.cxt){var qa={originalEvent:q,type:"cxtdrag",position:{x:se[0],y:se[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(qa):re.emit(qa),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Jt=t.findNearestElement(se[0],se[1],!0,!0);(!t.touchData.cxtOver||Jt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:q,type:"cxtdragout",position:{x:se[0],y:se[1]}}),t.touchData.cxtOver=Jt,Jt&&Jt.emit({originalEvent:q,type:"cxtdragover",position:{x:se[0],y:se[1]}}))}else if(te&&q.touches[2]&&re.boxSelectionEnabled())q.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||re.emit({originalEvent:q,type:"boxstart",position:{x:se[0],y:se[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,ve[4]=1,!ve||ve.length===0||ve[0]===void 0?(ve[0]=(se[0]+se[2]+se[4])/3,ve[1]=(se[1]+se[3]+se[5])/3,ve[2]=(se[0]+se[2]+se[4])/3+1,ve[3]=(se[1]+se[3]+se[5])/3+1):(ve[2]=(se[0]+se[2]+se[4])/3,ve[3]=(se[1]+se[3]+se[5])/3),t.redrawHint("select",!0),t.redraw();else if(te&&q.touches[1]&&!t.touchData.didSelect&&re.zoomingEnabled()&&re.panningEnabled()&&re.userZoomingEnabled()&&re.userPanningEnabled()){q.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Vt=t.dragData.touchDragEles;if(Vt){t.redrawHint("drag",!0);for(var oa=0;oa<Vt.length;oa++){var hr=Vt[oa]._private;hr.grabbed=!1,hr.rscratch.inDragLayer=!1}}var Ba=t.touchData.start,ya=q.touches[0].clientX-W,Ot=q.touches[0].clientY-ee,zt=q.touches[1].clientX-W,Nt=q.touches[1].clientY-ee,Ar=ie(ya,Ot,zt,Nt),jr=Ar/O;if(fe){var Vn=ya-k,$r=Ot-H,Ht=zt-F,ns=Nt-j,is=(Vn+Ht)/2,Rr=($r+ns)/2,Ka=re.zoom(),Dl=Ka*jr,Hn=re.pan(),Al=Z[0]*Ka+Hn.x,ls=Z[1]*Ka+Hn.y,yi={x:-Dl/Ka*(Al-Hn.x-is)+Al,y:-Dl/Ka*(ls-Hn.y-Rr)+ls};if(Ba&&Ba.active()){var Vt=t.dragData.touchDragEles;E(Vt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Ba.unactivate().emit("freeon"),Vt.emit("free"),t.dragData.didDrag&&(Ba.emit("dragfreeon"),Vt.emit("dragfree"))}re.viewport({zoom:Dl,pan:yi,cancelOnFailedZoom:!0}),re.emit("pinchzoom"),O=Ar,k=ya,H=Ot,F=zt,j=Nt,t.pinching=!0}if(q.touches[0]){var Ce=t.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);se[0]=Ce[0],se[1]=Ce[1]}if(q.touches[1]){var Ce=t.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);se[2]=Ce[0],se[3]=Ce[1]}if(q.touches[2]){var Ce=t.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);se[4]=Ce[0],se[5]=Ce[1]}}else if(q.touches[0]&&!t.touchData.didSelect){var ba=t.touchData.start,Pa=t.touchData.last,Jt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Jt=t.findNearestElement(se[0],se[1],!0,!0)),te&&ba!=null&&q.preventDefault(),te&&ba!=null&&t.nodeIsDraggable(ba))if(Ie){var Vt=t.dragData.touchDragEles,mi=!t.dragData.didDrag;mi&&S(Vt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Wr={x:0,y:0};if(Re(Be[0])&&Re(Be[1])&&(Wr.x+=Be[0],Wr.y+=Be[1],mi)){t.redrawHint("eles",!0);var ea=t.touchData.dragDelta;ea&&Re(ea[0])&&Re(ea[1])&&(Wr.x+=ea[0],Wr.y+=ea[1])}t.hoverData.draggingEles=!0,Vt.silentShift(Wr).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ae[0]&&t.touchData.startPosition[1]==Ae[1]&&t.redrawHint("eles",!0),t.redraw()}else{var ea=t.touchData.dragDelta=t.touchData.dragDelta||[];ea.length===0?(ea.push(Be[0]),ea.push(Be[1])):(ea[0]+=Be[0],ea[1]+=Be[1])}if(l(ba||Jt,["touchmove","tapdrag","vmousemove"],q,{x:se[0],y:se[1]}),(!ba||!ba.grabbed())&&Jt!=Pa&&(Pa&&Pa.emit({originalEvent:q,type:"tapdragout",position:{x:se[0],y:se[1]}}),Jt&&Jt.emit({originalEvent:q,type:"tapdragover",position:{x:se[0],y:se[1]}})),t.touchData.last=Jt,te)for(var oa=0;oa<se.length;oa++)se[oa]&&t.touchData.startPosition[oa]&&Ie&&(t.touchData.singleTouchMoved=!0);if(te&&(ba==null||ba.pannable())&&re.panningEnabled()&&re.userPanningEnabled()){var Rl=o(ba,t.touchData.starts);Rl&&(q.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=sl(t.touchData.startPosition)),t.swipePanning?(re.panBy({x:Be[0]*ye,y:Be[1]*ye}),re.emit("dragpan")):Ie&&(t.swipePanning=!0,re.panBy({x:Ke*ye,y:ot*ye}),re.emit("dragpan"),ba&&(ba.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ce=t.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);se[0]=Ce[0],se[1]=Ce[1]}}for(var Xe=0;Xe<se.length;Xe++)Ae[Xe]=se[Xe];te&&q.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Se;t.registerBinding(e,"touchcancel",Se=function(q){var te=t.touchData.start;t.touchData.capture=!1,te&&te.unactivate()});var Me,_e,he,be;if(t.registerBinding(e,"touchend",Me=function(q){var te=t.touchData.start,ve=t.touchData.capture;if(ve)q.touches.length===0&&(t.touchData.capture=!1),q.preventDefault();else return;var re=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var se=t.cy,Ae=se.zoom(),ye=t.touchData.now,Ce=t.touchData.earlier;if(q.touches[0]){var Le=t.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);ye[0]=Le[0],ye[1]=Le[1]}if(q.touches[1]){var Le=t.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);ye[2]=Le[0],ye[3]=Le[1]}if(q.touches[2]){var Le=t.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);ye[4]=Le[0],ye[5]=Le[1]}te&&te.unactivate();var Ie;if(t.touchData.cxt){if(Ie={originalEvent:q,type:"cxttapend",position:{x:ye[0],y:ye[1]}},te?te.emit(Ie):se.emit(Ie),!t.touchData.cxtDragged){var Be={originalEvent:q,type:"cxttap",position:{x:ye[0],y:ye[1]}};te?te.emit(Be):se.emit(Be)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!q.touches[2]&&se.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Xe=se.collection(t.getAllInBox(re[0],re[1],re[2],re[3]));re[0]=void 0,re[1]=void 0,re[2]=void 0,re[3]=void 0,re[4]=0,t.redrawHint("select",!0),se.emit({type:"boxend",originalEvent:q,position:{x:ye[0],y:ye[1]}});var Ke=function(dt){return dt.selectable()&&!dt.selected()};Xe.emit("box").stdFilter(Ke).select().emit("boxselect"),Xe.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(te!=null&&te.unactivate(),q.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!q.touches[1]){if(!q.touches[0]){if(!q.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ve=t.dragData.touchDragEles;if(te!=null){var ot=te._private.grabbed;E(Ve),t.redrawHint("drag",!0),t.redrawHint("eles",!0),ot&&(te.emit("freeon"),Ve.emit("free"),t.dragData.didDrag&&(te.emit("dragfreeon"),Ve.emit("dragfree"))),l(te,["touchend","tapend","vmouseup","tapdragout"],q,{x:ye[0],y:ye[1]}),te.unactivate(),t.touchData.start=null}else{var vt=t.findNearestElement(ye[0],ye[1],!0,!0);l(vt,["touchend","tapend","vmouseup","tapdragout"],q,{x:ye[0],y:ye[1]})}var Da=t.touchData.startPosition[0]-ye[0],ya=Da*Da,Ot=t.touchData.startPosition[1]-ye[1],zt=Ot*Ot,Nt=ya+zt,Wt=Nt*Ae*Ae;t.touchData.singleTouchMoved||(te||se.$(":selected").unselect(["tapunselect"]),l(te,["tap","vclick"],q,{x:ye[0],y:ye[1]}),_e=!1,q.timeStamp-be<=se.multiClickDebounceTime()?(he&&clearTimeout(he),_e=!0,be=null,l(te,["dbltap","vdblclick"],q,{x:ye[0],y:ye[1]})):(he=setTimeout(function(){_e||l(te,["onetap","voneclick"],q,{x:ye[0],y:ye[1]})},se.multiClickDebounceTime()),be=q.timeStamp)),te!=null&&!t.dragData.didDrag&&te._private.selectable&&Wt<t.touchTapThreshold2&&!t.pinching&&(se.selectionType()==="single"?(se.$(a).unmerge(te).unselect(["tapunselect"]),te.select(["tapselect"])):te.selected()?te.unselect(["tapunselect"]):te.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var sa=0;sa<ye.length;sa++)Ce[sa]=ye[sa];t.dragData.didDrag=!1,q.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),q.touches.length<2&&(q.touches.length===1&&(t.touchData.startGPosition=[q.touches[0].clientX,q.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var xe=[],Te=function(q){return{clientX:q.clientX,clientY:q.clientY,force:1,identifier:q.pointerId,pageX:q.pageX,pageY:q.pageY,radiusX:q.width/2,radiusY:q.height/2,screenX:q.screenX,screenY:q.screenY,target:q.target}},Ne=function(q){return{event:q,touch:Te(q)}},qe=function(q){xe.push(Ne(q))},ke=function(q){for(var te=0;te<xe.length;te++){var ve=xe[te];if(ve.event.pointerId===q.pointerId){xe.splice(te,1);return}}},Fe=function(q){var te=xe.filter(function(ve){return ve.event.pointerId===q.pointerId})[0];te.event=q,te.touch=Te(q)},Qe=function(q){q.touches=xe.map(function(te){return te.touch})},$e=function(q){return q.pointerType==="mouse"||q.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Ee){$e(Ee)||(Ee.preventDefault(),qe(Ee),Qe(Ee),ue(Ee))}),t.registerBinding(t.container,"pointerup",function(Ee){$e(Ee)||(ke(Ee),Qe(Ee),Me(Ee))}),t.registerBinding(t.container,"pointercancel",function(Ee){$e(Ee)||(ke(Ee),Qe(Ee),Se(Ee))}),t.registerBinding(t.container,"pointermove",function(Ee){$e(Ee)||(Ee.preventDefault(),Fe(Ee),Qe(Ee),ge(Ee))})}};var Zr={};Zr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,l,u,o,f,v){this.renderer.nodeShapeImpl("polygon",n,l,u,o,f,this.points)},intersectLine:function(n,l,u,o,f,v,c,h){return Vu(f,v,this.points,n,l,u/2,o/2,c)},checkPoint:function(n,l,u,o,f,v,c,h){return Kr(n,l,this.points,v,c,o,f,[0,-1],u)}}};Zr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,a,n,l,u,o){this.renderer.nodeShapeImpl(this.name,e,a,n,l,u)},intersectLine:function(e,a,n,l,u,o,f,v){return xT(u,o,e,a,n/2+f,l/2+f)},checkPoint:function(e,a,n,l,u,o,f,v){return oi(e,a,l,u,o,f,n)}}};Zr.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,l,u,o,f,v,c){if(v[c]!==void 0&&v[c+"-cx"]===n&&v[c+"-cy"]===l)return v[c];v[c]=new Array(e.length/2),v[c+"-cx"]=n,v[c+"-cy"]=l;var h=u/2,g=o/2;f=f==="auto"?Y1(u,o):f;for(var y=new Array(e.length/2),w=0;w<e.length/2;w++)y[w]={x:n+h*e[w*2],y:l+g*e[w*2+1]};var m,S,x,E,T=y.length;for(S=y[T-1],m=0;m<T;m++)x=y[m%T],E=y[(m+1)%T],v[c][m]=Yh(S,x,E,f),S=x,x=E;return v[c]},draw:function(n,l,u,o,f,v,c){this.renderer.nodeShapeImpl("round-polygon",n,l,u,o,f,this.points,this.getOrCreateCorners(l,u,o,f,v,c,"drawCorners"))},intersectLine:function(n,l,u,o,f,v,c,h,g){return ET(f,v,this.points,n,l,u,o,c,this.getOrCreateCorners(n,l,u,o,h,g,"corners"))},checkPoint:function(n,l,u,o,f,v,c,h,g){return wT(n,l,this.points,v,c,o,f,this.getOrCreateCorners(v,c,o,f,h,g,"corners"))}}};Zr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ra(4,0),draw:function(e,a,n,l,u,o){this.renderer.nodeShapeImpl(this.name,e,a,n,l,u,this.points,o)},intersectLine:function(e,a,n,l,u,o,f,v){return H1(u,o,e,a,n,l,f,v)},checkPoint:function(e,a,n,l,u,o,f,v){var c=l/2,h=u/2;v=v==="auto"?ci(l,u):v,v=Math.min(c,h,v);var g=v*2;return!!(Kr(e,a,this.points,o,f,l,u-g,[0,-1],n)||Kr(e,a,this.points,o,f,l-g,u,[0,-1],n)||oi(e,a,g,g,o-c+v,f-h+v,n)||oi(e,a,g,g,o+c-v,f-h+v,n)||oi(e,a,g,g,o+c-v,f+h-v,n)||oi(e,a,g,g,o-c+v,f+h-v,n))}}};Zr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:zh(),points:Ra(4,0),draw:function(e,a,n,l,u,o){this.renderer.nodeShapeImpl(this.name,e,a,n,l,u,null,o)},generateCutTrianglePts:function(e,a,n,l,u){var o=u==="auto"?this.cornerLength:u,f=a/2,v=e/2,c=n-v,h=n+v,g=l-f,y=l+f;return{topLeft:[c,g+o,c+o,g,c+o,g+o],topRight:[h-o,g,h,g+o,h-o,g+o],bottomRight:[h,y-o,h-o,y,h-o,y-o],bottomLeft:[c+o,y,c,y-o,c+o,y-o]}},intersectLine:function(e,a,n,l,u,o,f,v){var c=this.generateCutTrianglePts(n+2*f,l+2*f,e,a,v),h=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return Vu(u,o,h,e,a)},checkPoint:function(e,a,n,l,u,o,f,v){var c=v==="auto"?this.cornerLength:v;if(Kr(e,a,this.points,o,f,l,u-2*c,[0,-1],n)||Kr(e,a,this.points,o,f,l-2*c,u,[0,-1],n))return!0;var h=this.generateCutTrianglePts(l,u,o,f);return ka(e,a,h.topLeft)||ka(e,a,h.topRight)||ka(e,a,h.bottomRight)||ka(e,a,h.bottomLeft)}}};Zr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ra(4,0),draw:function(e,a,n,l,u,o){this.renderer.nodeShapeImpl(this.name,e,a,n,l,u)},intersectLine:function(e,a,n,l,u,o,f,v){var c=.15,h=.5,g=.85,y=this.generateBarrelBezierPts(n+2*f,l+2*f,e,a),w=function(x){var E=cl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),T=cl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h),C=cl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},g);return[x[0],x[1],E.x,E.y,T.x,T.y,C.x,C.y,x[4],x[5]]},m=[].concat(w(y.topLeft),w(y.topRight),w(y.bottomRight),w(y.bottomLeft));return Vu(u,o,m,e,a)},generateBarrelBezierPts:function(e,a,n,l){var u=a/2,o=e/2,f=n-o,v=n+o,c=l-u,h=l+u,g=ih(e,a),y=g.heightOffset,w=g.widthOffset,m=g.ctrlPtOffsetPct*e,S={topLeft:[f,c+y,f+m,c,f+w,c],topRight:[v-w,c,v-m,c,v,c+y],bottomRight:[v,h-y,v-m,h,v-w,h],bottomLeft:[f+w,h,f+m,h,f,h-y]};return S.topLeft.isTop=!0,S.topRight.isTop=!0,S.bottomLeft.isBottom=!0,S.bottomRight.isBottom=!0,S},checkPoint:function(e,a,n,l,u,o,f,v){var c=ih(l,u),h=c.heightOffset,g=c.widthOffset;if(Kr(e,a,this.points,o,f,l,u-2*h,[0,-1],n)||Kr(e,a,this.points,o,f,l-2*g,u,[0,-1],n))return!0;for(var y=this.generateBarrelBezierPts(l,u,o,f),w=function(z,L,U){var _=U[4],V=U[2],P=U[0],Y=U[5],I=U[1],k=Math.min(_,P),H=Math.max(_,P),F=Math.min(Y,I),j=Math.max(Y,I);if(k<=z&&z<=H&&F<=L&&L<=j){var O=ST(_,V,P),G=pT(O[0],O[1],O[2],z),K=G.filter(function(Z){return 0<=Z&&Z<=1});if(K.length>0)return K[0]}return null},m=Object.keys(y),S=0;S<m.length;S++){var x=m[S],E=y[x],T=w(e,a,E);if(T!=null){var C=E[5],D=E[3],R=E[1],B=na(C,D,R,T);if(E.isTop&&B<=a||E.isBottom&&a<=B)return!0}}return!1}}};Zr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ra(4,0),draw:function(e,a,n,l,u,o){this.renderer.nodeShapeImpl(this.name,e,a,n,l,u,this.points,o)},intersectLine:function(e,a,n,l,u,o,f,v){var c=e-(n/2+f),h=a-(l/2+f),g=h,y=e+(n/2+f),w=Dn(u,o,e,a,c,h,y,g,!1);return w.length>0?w:H1(u,o,e,a,n,l,f,v)},checkPoint:function(e,a,n,l,u,o,f,v){v=v==="auto"?ci(l,u):v;var c=2*v;if(Kr(e,a,this.points,o,f,l,u-c,[0,-1],n)||Kr(e,a,this.points,o,f,l-c,u,[0,-1],n))return!0;var h=l/2+2*n,g=u/2+2*n,y=[o-h,f-g,o-h,f,o+h,f,o+h,f-g];return!!(ka(e,a,y)||oi(e,a,c,c,o+l/2-v,f+u/2-v,n)||oi(e,a,c,c,o-l/2+v,f+u/2-v,n))}}};Zr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Ra(3,0)),this.generateRoundPolygon("round-triangle",Ra(3,0)),this.generatePolygon("rectangle",Ra(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var a=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",a),this.generateRoundPolygon("round-diamond",a)}this.generatePolygon("pentagon",Ra(5,0)),this.generateRoundPolygon("round-pentagon",Ra(5,0)),this.generatePolygon("hexagon",Ra(6,0)),this.generateRoundPolygon("round-hexagon",Ra(6,0)),this.generatePolygon("heptagon",Ra(7,0)),this.generateRoundPolygon("round-heptagon",Ra(7,0)),this.generatePolygon("octagon",Ra(8,0)),this.generateRoundPolygon("round-octagon",Ra(8,0));var n=new Array(20);{var l=nh(5,0),u=nh(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var f=0;f<u.length/2;f++)u[f*2]*=o,u[f*2+1]*=o;for(var f=0;f<20/4;f++)n[f*4]=l[f*2],n[f*4+1]=l[f*2+1],n[f*4+2]=u[f*2],n[f*4+3]=u[f*2+1]}n=G1(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var v=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",v),this.generateRoundPolygon("round-tag",v)}t.makePolygon=function(c){var h=c.join("$"),g="polygon-"+h,y;return(y=this[g])?y:e.generatePolygon(g,c)}};var as={};as.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};as.redraw=function(t){t=t||_1();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};as.beforeRender=function(t,e){if(!this.destroyed){e==null&&Mt("Priority is not optional for beforeRender");var a=this.beforeRenderCallbacks;a.push({fn:t,priority:e}),a.sort(function(n,l){return l.priority-n.priority})}};var Zb=function(e,a,n){for(var l=e.beforeRenderCallbacks,u=0;u<l.length;u++)l[u].fn(a,n)};as.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var a=function(l){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Zb(t,!0,l);var u=Xr();t.render(t.renderOptions);var o=t.lastDrawTime=Xr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-u),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var f=o-u;t.redrawTotalTime+=f,t.lastRedrawTime=f,t.averageRedrawTime=t.averageRedrawTime/2+f/2,t.requestedFrame=!1}else Zb(t,!1,l);t.skipFrame=!1,Go(a)}};Go(a)}};var UA=function(e){this.init(e)},Gw=UA,Tl=Gw.prototype;Tl.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Tl.init=function(t){var e=this;e.options=t,e.cy=t.cy;var a=e.container=t.cy.container(),n=e.cy.window();if(n){var l=n.document,u=l.head,o="__________cytoscape_stylesheet",f="__________cytoscape_container",v=l.getElementById(o)!=null;if(a.className.indexOf(f)<0&&(a.className=(a.className||"")+" "+f),!v){var c=l.createElement("style");c.id=o,c.textContent="."+f+" { position: relative; }",u.insertBefore(c,u.children[0])}var h=n.getComputedStyle(a),g=h.getPropertyValue("position");g==="static"&&ct("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Re(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Tl.notify=function(t,e){var a=this,n=a.cy;if(!this.destroyed){if(t==="init"){a.load();return}if(t==="destroy"){a.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&a.invalidateCachedZSortedEles(),t==="viewport"&&a.redrawHint("select",!0),t==="gc"&&a.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container)),a.redrawHint("eles",!0),a.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Tl.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var a=t.bindings[e],n=a,l=n.target;(l.off||l.removeEventListener).apply(l,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Tl.isHeadless=function(){return!1};[Gh,Vw,Hw,Sl,Zr,as].forEach(function(t){He(Tl,t)});var Qd=1e3/60,Yw={setupDequeueing:function(e){return function(){var n=this,l=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var u=$u(function(){l.redrawHint("eles",!0),l.redrawHint("drag",!0),l.redraw()},e.deqRedrawThreshold),o=function(c,h){var g=Xr(),y=l.averageRedrawTime,w=l.lastRedrawTime,m=[],S=l.cy.extent(),x=l.getPixelRatio();for(c||l.flushRenderedStyleQueue();;){var E=Xr(),T=E-g,C=E-h;if(w<Qd){var D=Qd-(c?y:0);if(C>=e.deqFastCost*D)break}else if(c){if(T>=e.deqCost*w||T>=e.deqAvgCost*y)break}else if(C>=e.deqNoDrawCost*Qd)break;var R=e.deq(n,x,S);if(R.length>0)for(var B=0;B<R.length;B++)m.push(R[B]);else break}m.length>0&&(e.onDeqd(n,m),!c&&e.shouldRedraw(n,m,x,S)&&u())},f=e.priority||Rh;l.beforeRender(o,f(n))}}}},VA=function(){function t(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yo;_n(this,t),this.idsByKey=new Ir,this.keyForId=new Ir,this.cachesByLvl=new Ir,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=a}return qn(t,[{key:"getIdsFor",value:function(a){a==null&&Mt("Can not get id list for null key");var n=this.idsByKey,l=this.idsByKey.get(a);return l||(l=new bl,n.set(a,l)),l}},{key:"addIdForKey",value:function(a,n){a!=null&&this.getIdsFor(a).add(n)}},{key:"deleteIdForKey",value:function(a,n){a!=null&&this.getIdsFor(a).delete(n)}},{key:"getNumberOfIdsForKey",value:function(a){return a==null?0:this.getIdsFor(a).size}},{key:"updateKeyMappingFor",value:function(a){var n=a.id(),l=this.keyForId.get(n),u=this.getKey(a);this.deleteIdForKey(l,n),this.addIdForKey(u,n),this.keyForId.set(n,u)}},{key:"deleteKeyMappingFor",value:function(a){var n=a.id(),l=this.keyForId.get(n);this.deleteIdForKey(l,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(a){var n=a.id(),l=this.keyForId.get(n),u=this.getKey(a);return l!==u}},{key:"isInvalid",value:function(a){return this.keyHasChangedFor(a)||this.doesEleInvalidateKey(a)}},{key:"getCachesAt",value:function(a){var n=this.cachesByLvl,l=this.lvls,u=n.get(a);return u||(u=new Ir,n.set(a,u),l.push(a)),u}},{key:"getCache",value:function(a,n){return this.getCachesAt(n).get(a)}},{key:"get",value:function(a,n){var l=this.getKey(a),u=this.getCache(l,n);return u!=null&&this.updateKeyMappingFor(a),u}},{key:"getForCachedKey",value:function(a,n){var l=this.keyForId.get(a.id()),u=this.getCache(l,n);return u}},{key:"hasCache",value:function(a,n){return this.getCachesAt(n).has(a)}},{key:"has",value:function(a,n){var l=this.getKey(a);return this.hasCache(l,n)}},{key:"setCache",value:function(a,n,l){l.key=a,this.getCachesAt(n).set(a,l)}},{key:"set",value:function(a,n,l){var u=this.getKey(a);this.setCache(u,n,l),this.updateKeyMappingFor(a)}},{key:"deleteCache",value:function(a,n){this.getCachesAt(n).delete(a)}},{key:"delete",value:function(a,n){var l=this.getKey(a);this.deleteCache(l,n)}},{key:"invalidateKey",value:function(a){var n=this;this.lvls.forEach(function(l){return n.deleteCache(a,l)})}},{key:"invalidate",value:function(a){var n=a.id(),l=this.keyForId.get(n);this.deleteKeyMappingFor(a);var u=this.doesEleInvalidateKey(a);return u&&this.invalidateKey(l),u||this.getNumberOfIdsForKey(l)===0}}])}(),Qb=25,Ao=50,Po=-4,mh=3,Fw=7.99,HA=8,GA=1024,YA=1024,FA=1024,IA=.2,XA=.8,KA=10,ZA=.15,QA=.1,jA=.9,$A=.9,WA=100,JA=1,fl={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},eR=jt({getKey:null,doesEleInvalidateKey:Yo,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:N1,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),zu=function(e,a){var n=this;n.renderer=e,n.onDequeues=[];var l=eR(a);He(n,l),n.lookup=new VA(l.getKey,l.doesEleInvalidateKey),n.setupDequeueing()},$t=zu.prototype;$t.reasons=fl;$t.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};$t.getRetiredTextureQueue=function(t){var e=this,a=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=a[t]=a[t]||[];return n};$t.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Wu(function(a,n){return n.reqs-a.reqs});return e};$t.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};$t.getElement=function(t,e,a,n,l){var u=this,o=this.renderer,f=o.cy.zoom(),v=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!u.allowEdgeTxrCaching&&t.isEdge()||!u.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Bh(f*a))),n<Po)n=Po;else if(f>=Fw||n>mh)return null;var c=Math.pow(2,n),h=e.h*c,g=e.w*c,y=o.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,y))return null;var w=v.get(t,n);if(w&&w.invalidated&&(w.invalidated=!1,w.texture.invalidatedWidth-=w.width),w)return w;var m;if(h<=Qb?m=Qb:h<=Ao?m=Ao:m=Math.ceil(h/Ao)*Ao,h>FA||g>YA)return null;var S=u.getTextureQueue(m),x=S[S.length-2],E=function(){return u.recycleTexture(m,g)||u.addTexture(m,g)};x||(x=S[S.length-1]),x||(x=E()),x.width-x.usedWidth<g&&(x=E());for(var T=function(k){return k&&k.scaledLabelShown===y},C=l&&l===fl.dequeue,D=l&&l===fl.highQuality,R=l&&l===fl.downscale,B,M=n+1;M<=mh;M++){var z=v.get(t,M);if(z){B=z;break}}var L=B&&B.level===n+1?B:null,U=function(){x.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,x.usedWidth,0,g,h)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,g,m),T(L))U();else if(T(B))if(D){for(var _=B.level;_>n;_--)L=u.getElement(t,e,a,_,fl.downscale);U()}else return u.queueElement(t,B.level-1),B;else{var V;if(!C&&!D&&!R)for(var P=n-1;P>=Po;P--){var Y=v.get(t,P);if(Y){V=Y;break}}if(T(V))return u.queueElement(t,n),V;x.context.translate(x.usedWidth,0),x.context.scale(c,c),this.drawElement(x.context,t,e,y,!1),x.context.scale(1/c,1/c),x.context.translate(-x.usedWidth,0)}return w={x:x.usedWidth,texture:x,level:n,scale:c,width:g,height:h,scaledLabelShown:y},x.usedWidth+=Math.ceil(g+HA),x.eleCaches.push(w),v.set(t,n,w),u.checkTextureFullness(x),w};$t.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};$t.invalidateElement=function(t){var e=this,a=e.lookup,n=[],l=a.isInvalid(t);if(l){for(var u=Po;u<=mh;u++){var o=a.getForCachedKey(t,u);o&&n.push(o)}var f=a.invalidate(t);if(f)for(var v=0;v<n.length;v++){var c=n[v],h=c.texture;h.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(h)}e.removeFromQueue(t)}};$t.checkTextureUtility=function(t){t.invalidatedWidth>=IA*t.width&&this.retireTexture(t)};$t.checkTextureFullness=function(t){var e=this,a=e.getTextureQueue(t.height);t.usedWidth/t.width>XA&&t.fullnessChecks>=KA?On(a,t):t.fullnessChecks++};$t.retireTexture=function(t){var e=this,a=t.height,n=e.getTextureQueue(a),l=this.lookup;On(n,t),t.retired=!0;for(var u=t.eleCaches,o=0;o<u.length;o++){var f=u[o];l.deleteCache(f.key,f.level)}Mh(u);var v=e.getRetiredTextureQueue(a);v.push(t)};$t.addTexture=function(t,e){var a=this,n=a.getTextureQueue(t),l={};return n.push(l),l.eleCaches=[],l.height=t,l.width=Math.max(GA,e),l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,l.canvas=a.renderer.makeOffscreenCanvas(l.width,l.height),l.context=l.canvas.getContext("2d"),l};$t.recycleTexture=function(t,e){for(var a=this,n=a.getTextureQueue(t),l=a.getRetiredTextureQueue(t),u=0;u<l.length;u++){var o=l[u];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Mh(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),On(l,o),n.push(o),o}};$t.queueElement=function(t,e){var a=this,n=a.getElementQueue(),l=a.getElementKeyToQueue(),u=this.getKey(t),o=l[u];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var f={eles:t.spawn().merge(t),level:e,reqs:1,key:u};n.push(f),l[u]=f}};$t.dequeue=function(t){for(var e=this,a=e.getElementQueue(),n=e.getElementKeyToQueue(),l=[],u=e.lookup,o=0;o<JA&&a.size()>0;o++){var f=a.pop(),v=f.key,c=f.eles[0],h=u.hasCache(c,f.level);if(n[v]=null,h)continue;l.push(f);var g=e.getBoundingBox(c);e.getElement(c,g,t,f.level,fl.dequeue)}return l};$t.removeFromQueue=function(t){var e=this,a=e.getElementQueue(),n=e.getElementKeyToQueue(),l=this.getKey(t),u=n[l];u!=null&&(u.eles.length===1?(u.reqs=Ah,a.updateItem(u),a.pop(),n[l]=null):u.eles.unmerge(t))};$t.onDequeue=function(t){this.onDequeues.push(t)};$t.offDequeue=function(t){On(this.onDequeues,t)};$t.setupDequeueing=Yw.setupDequeueing({deqRedrawThreshold:WA,deqCost:ZA,deqAvgCost:QA,deqNoDrawCost:jA,deqFastCost:$A,deq:function(e,a,n){return e.dequeue(a,n)},onDeqd:function(e,a){for(var n=0;n<e.onDequeues.length;n++){var l=e.onDequeues[n];l(a)}},shouldRedraw:function(e,a,n,l){for(var u=0;u<a.length;u++)for(var o=a[u].eles,f=0;f<o.length;f++){var v=o[f].boundingBox();if(Oh(v,l))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var tR=1,Lu=-4,$o=2,aR=3.99,rR=50,nR=50,iR=.15,lR=.1,uR=.9,sR=.9,oR=1,jb=250,fR=4e3*4e3,$b=32767,cR=!0,Iw=function(e){var a=this,n=a.renderer=e,l=n.cy;a.layersByLevel={},a.firstGet=!0,a.lastInvalidationTime=Xr()-2*jb,a.skipping=!1,a.eleTxrDeqs=l.collection(),a.scheduleElementRefinement=$u(function(){a.refineElementTextures(a.eleTxrDeqs),a.eleTxrDeqs.unmerge(a.eleTxrDeqs)},nR),n.beforeRender(function(o,f){f-a.lastInvalidationTime<=jb?a.skipping=!0:a.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var u=function(f,v){return v.reqs-f.reqs};a.layersQueue=new Wu(u),a.setupDequeueing()},pa=Iw.prototype,Wb=0,vR=Math.pow(2,53)-1;pa.makeLayer=function(t,e){var a=Math.pow(2,e),n=Math.ceil(t.w*a),l=Math.ceil(t.h*a),u=this.renderer.makeOffscreenCanvas(n,l),o={id:Wb=++Wb%vR,bb:t,level:e,width:n,height:l,canvas:u,context:u.getContext("2d"),eles:[],elesQueue:[],reqs:0},f=o.context,v=-o.bb.x1,c=-o.bb.y1;return f.scale(a,a),f.translate(v,c),o};pa.getLayers=function(t,e,a){var n=this,l=n.renderer,u=l.cy,o=u.zoom(),f=n.firstGet;if(n.firstGet=!1,a==null){if(a=Math.ceil(Bh(o*e)),a<Lu)a=Lu;else if(o>=aR||a>$o)return null}n.validateLayersElesOrdering(a,t);var v=n.layersByLevel,c=Math.pow(2,a),h=v[a]=v[a]||[],g,y=n.levelIsComplete(a,t),w,m=function(){var U=function(I){if(n.validateLayersElesOrdering(I,t),n.levelIsComplete(I,t))return w=v[I],!0},_=function(I){if(!w)for(var k=a+I;Lu<=k&&k<=$o&&!U(k);k+=I);};_(1),_(-1);for(var V=h.length-1;V>=0;V--){var P=h[V];P.invalid&&On(h,P)}};if(!y)m();else return h;var S=function(){if(!g){g=_a();for(var U=0;U<t.length;U++)U1(g,t[U].boundingBox())}return g},x=function(U){U=U||{};var _=U.after;S();var V=Math.ceil(g.w*c),P=Math.ceil(g.h*c);if(V>$b||P>$b)return null;var Y=V*P;if(Y>fR)return null;var I=n.makeLayer(g,a);if(_!=null){var k=h.indexOf(_)+1;h.splice(k,0,I)}else(U.insert===void 0||U.insert)&&h.unshift(I);return I};if(n.skipping&&!f)return null;for(var E=null,T=t.length/tR,C=!f,D=0;D<t.length;D++){var R=t[D],B=R._private.rscratch,M=B.imgLayerCaches=B.imgLayerCaches||{},z=M[a];if(z){E=z;continue}if((!E||E.eles.length>=T||!V1(E.bb,R.boundingBox()))&&(E=x({insert:!0,after:E}),!E))return null;w||C?n.queueLayer(E,R):n.drawEleInLayer(E,R,a,e),E.eles.push(R),M[a]=E}return w||(C?null:h)};pa.getEleLevelForLayerLevel=function(t,e){return t};pa.drawEleInLayer=function(t,e,a,n){var l=this,u=this.renderer,o=t.context,f=e.boundingBox();f.w===0||f.h===0||!e.visible()||(a=l.getEleLevelForLayerLevel(a,n),u.setImgSmoothing(o,!1),u.drawCachedElement(o,e,null,null,a,cR),u.setImgSmoothing(o,!0))};pa.levelIsComplete=function(t,e){var a=this,n=a.layersByLevel[t];if(!n||n.length===0)return!1;for(var l=0,u=0;u<n.length;u++){var o=n[u];if(o.reqs>0||o.invalid)return!1;l+=o.eles.length}return l===e.length};pa.validateLayersElesOrdering=function(t,e){var a=this.layersByLevel[t];if(a)for(var n=0;n<a.length;n++){for(var l=a[n],u=-1,o=0;o<e.length;o++)if(l.eles[0]===e[o]){u=o;break}if(u<0){this.invalidateLayer(l);continue}for(var f=u,o=0;o<l.eles.length;o++)if(l.eles[o]!==e[f+o]){this.invalidateLayer(l);break}}};pa.updateElementsInLayers=function(t,e){for(var a=this,n=Ku(t[0]),l=0;l<t.length;l++)for(var u=n?null:t[l],o=n?t[l]:t[l].ele,f=o._private.rscratch,v=f.imgLayerCaches=f.imgLayerCaches||{},c=Lu;c<=$o;c++){var h=v[c];h&&(u&&a.getEleLevelForLayerLevel(h.level)!==u.level||e(h,o,u))}};pa.haveLayers=function(){for(var t=this,e=!1,a=Lu;a<=$o;a++){var n=t.layersByLevel[a];if(n&&n.length>0){e=!0;break}}return e};pa.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Xr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,l,u){e.invalidateLayer(n)}))};pa.invalidateLayer=function(t){if(this.lastInvalidationTime=Xr(),!t.invalid){var e=t.level,a=t.eles,n=this.layersByLevel[e];On(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var l=0;l<a.length;l++){var u=a[l]._private.rscratch.imgLayerCaches;u&&(u[e]=null)}}};pa.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,l,u){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var f=0;f<o.eles.length;f++)e.queueLayer(o,o.eles[f])})};pa.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};pa.queueLayer=function(t,e){var a=this,n=a.layersQueue,l=t.elesQueue,u=l.hasId=l.hasId||{};if(!t.replacement){if(e){if(u[e.id()])return;l.push(e),u[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};pa.dequeue=function(t){for(var e=this,a=e.layersQueue,n=[],l=0;l<oR&&a.size()!==0;){var u=a.peek();if(u.replacement){a.pop();continue}if(u.replaces&&u!==u.replaces.replacement){a.pop();continue}if(u.invalid){a.pop();continue}var o=u.elesQueue.shift();o&&(e.drawEleInLayer(u,o,u.level,t),l++),n.length===0&&n.push(!0),u.elesQueue.length===0&&(a.pop(),u.reqs=0,u.replaces&&e.applyLayerReplacement(u),e.requestRedraw())}return n};pa.applyLayerReplacement=function(t){var e=this,a=e.layersByLevel[t.level],n=t.replaces,l=a.indexOf(n);if(!(l<0||n.invalid)){a[l]=t;for(var u=0;u<t.eles.length;u++){var o=t.eles[u]._private,f=o.imgLayerCaches=o.imgLayerCaches||{};f&&(f[t.level]=t)}e.requestRedraw()}};pa.requestRedraw=$u(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);pa.setupDequeueing=Yw.setupDequeueing({deqRedrawThreshold:rR,deqCost:iR,deqAvgCost:lR,deqNoDrawCost:uR,deqFastCost:sR,deq:function(e,a){return e.dequeue(a)},onDeqd:Rh,shouldRedraw:N1,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Xw={},Jb;function dR(t,e){for(var a=0;a<e.length;a++){var n=e[a];t.lineTo(n.x,n.y)}}function hR(t,e,a){for(var n,l=0;l<e.length;l++){var u=e[l];l===0&&(n=u),t.lineTo(u.x,u.y)}t.quadraticCurveTo(a.x,a.y,n.x,n.y)}function e1(t,e,a){t.beginPath&&t.beginPath();for(var n=e,l=0;l<n.length;l++){var u=n[l];t.lineTo(u.x,u.y)}var o=a,f=a[0];t.moveTo(f.x,f.y);for(var l=1;l<o.length;l++){var u=o[l];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function gR(t,e,a,n,l){t.beginPath&&t.beginPath(),t.arc(a,n,l,0,Math.PI*2,!1);var u=e,o=u[0];t.moveTo(o.x,o.y);for(var f=0;f<u.length;f++){var v=u[f];t.lineTo(v.x,v.y)}t.closePath&&t.closePath()}function pR(t,e,a,n){t.arc(e,a,n,0,Math.PI*2,!1)}Xw.arrowShapeImpl=function(t){return(Jb||(Jb={polygon:dR,"triangle-backcurve":hR,"triangle-tee":e1,"circle-triangle":gR,"triangle-cross":e1,circle:pR}))[t]};var Dr={};Dr.drawElement=function(t,e,a,n,l,u){var o=this;e.isNode()?o.drawNode(t,e,a,n,l,u):o.drawEdge(t,e,a,n,l,u)};Dr.drawElementOverlay=function(t,e){var a=this;e.isNode()?a.drawNodeOverlay(t,e):a.drawEdgeOverlay(t,e)};Dr.drawElementUnderlay=function(t,e){var a=this;e.isNode()?a.drawNodeUnderlay(t,e):a.drawEdgeUnderlay(t,e)};Dr.drawCachedElementPortion=function(t,e,a,n,l,u,o,f){var v=this,c=a.getBoundingBox(e);if(!(c.w===0||c.h===0)){var h=a.getElement(e,c,n,l,u);if(h!=null){var g=f(v,e);if(g===0)return;var y=o(v,e),w=c.x1,m=c.y1,S=c.w,x=c.h,E,T,C,D,R;if(y!==0){var B=a.getRotationPoint(e);C=B.x,D=B.y,t.translate(C,D),t.rotate(y),R=v.getImgSmoothing(t),R||v.setImgSmoothing(t,!0);var M=a.getRotationOffset(e);E=M.x,T=M.y}else E=w,T=m;var z;g!==1&&(z=t.globalAlpha,t.globalAlpha=z*g),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,E,T,S,x),g!==1&&(t.globalAlpha=z),y!==0&&(t.rotate(-y),t.translate(-C,-D),R||v.setImgSmoothing(t,!1))}else a.drawElement(t,e)}};var yR=function(){return 0},mR=function(e,a){return e.getTextAngle(a,null)},bR=function(e,a){return e.getTextAngle(a,"source")},wR=function(e,a){return e.getTextAngle(a,"target")},xR=function(e,a){return a.effectiveOpacity()},jd=function(e,a){return a.pstyle("text-opacity").pfValue*a.effectiveOpacity()};Dr.drawCachedElement=function(t,e,a,n,l,u){var o=this,f=o.data,v=f.eleTxrCache,c=f.lblTxrCache,h=f.slbTxrCache,g=f.tlbTxrCache,y=e.boundingBox(),w=u===!0?v.reasons.highQuality:null;if(!(y.w===0||y.h===0||!e.visible())&&(!n||Oh(y,n))){var m=e.isEdge(),S=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,v,a,l,w,yR,xR),(!m||!S)&&o.drawCachedElementPortion(t,e,c,a,l,w,mR,jd),m&&!S&&(o.drawCachedElementPortion(t,e,h,a,l,w,bR,jd),o.drawCachedElementPortion(t,e,g,a,l,w,wR,jd)),o.drawElementOverlay(t,e)}};Dr.drawElements=function(t,e){for(var a=this,n=0;n<e.length;n++){var l=e[n];a.drawElement(t,l)}};Dr.drawCachedElements=function(t,e,a,n){for(var l=this,u=0;u<e.length;u++){var o=e[u];l.drawCachedElement(t,o,a,n)}};Dr.drawCachedNodes=function(t,e,a,n){for(var l=this,u=0;u<e.length;u++){var o=e[u];o.isNode()&&l.drawCachedElement(t,o,a,n)}};Dr.drawLayeredElements=function(t,e,a,n){var l=this,u=l.data.lyrTxrCache.getLayers(e,a);if(u)for(var o=0;o<u.length;o++){var f=u[o],v=f.bb;v.w===0||v.h===0||t.drawImage(f.canvas,v.x1,v.y1,v.w,v.h)}else l.drawCachedElements(t,e,a,n)};var Qr={};Qr.drawEdge=function(t,e,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,f=e._private.rscratch;if(!(u&&!e.visible())&&!(f.badLine||f.allpts==null||isNaN(f.allpts[0]))){var v;a&&(v=a,t.translate(-v.x1,-v.y1));var c=u?e.pstyle("opacity").value:1,h=u?e.pstyle("line-opacity").value:1,g=e.pstyle("curve-style").value,y=e.pstyle("line-style").value,w=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,S=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,E=c*h,T=c*h,C=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;g==="straight-triangle"?(o.eleStrokeStyle(t,e,I),o.drawEdgeTrianglePath(e,t,f.allpts)):(t.lineWidth=w,t.lineCap=m,o.eleStrokeStyle(t,e,I),o.drawEdgePath(e,t,f.allpts,y),t.lineCap="butt")},D=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(t.lineWidth=w+S,t.lineCap=m,S>0)o.colorStrokeStyle(t,x[0],x[1],x[2],I);else{t.lineCap="butt";return}g==="straight-triangle"?o.drawEdgeTrianglePath(e,t,f.allpts):(o.drawEdgePath(e,t,f.allpts,y),t.lineCap="butt")},R=function(){l&&o.drawEdgeOverlay(t,e)},B=function(){l&&o.drawEdgeUnderlay(t,e)},M=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;o.drawArrowheads(t,e,I)},z=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var L=e.pstyle("ghost").value==="yes";if(L){var U=e.pstyle("ghost-offset-x").pfValue,_=e.pstyle("ghost-offset-y").pfValue,V=e.pstyle("ghost-opacity").value,P=E*V;t.translate(U,_),C(P),M(P),t.translate(-U,-_)}else D();B(),C(),M(),R(),z(),a&&t.translate(v.x1,v.y1)}};var Kw=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(a,n){if(n.visible()){var l=n.pstyle("".concat(e,"-opacity")).value;if(l!==0){var u=this,o=u.usePaths(),f=n._private.rscratch,v=n.pstyle("".concat(e,"-padding")).pfValue,c=2*v,h=n.pstyle("".concat(e,"-color")).value;a.lineWidth=c,f.edgeType==="self"&&!o?a.lineCap="butt":a.lineCap="round",u.colorStrokeStyle(a,h[0],h[1],h[2],l),u.drawEdgePath(n,a,f.allpts,"solid")}}}};Qr.drawEdgeOverlay=Kw("overlay");Qr.drawEdgeUnderlay=Kw("underlay");Qr.drawEdgePath=function(t,e,a,n){var l=t._private.rscratch,u=e,o,f=!1,v=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,h=t.pstyle("line-dash-offset").pfValue;if(v){var g=a.join("$"),y=l.pathCacheKey&&l.pathCacheKey===g;y?(o=e=l.pathCache,f=!0):(o=e=new Path2D,l.pathCacheKey=g,l.pathCache=o)}if(u.setLineDash)switch(n){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash(c),u.lineDashOffset=h;break;case"solid":u.setLineDash([]);break}if(!f&&!l.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(a[0],a[1]),l.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var w=2;w+3<a.length;w+=4)e.quadraticCurveTo(a[w],a[w+1],a[w+2],a[w+3]);break;case"straight":case"haystack":for(var m=2;m+1<a.length;m+=2)e.lineTo(a[m],a[m+1]);break;case"segments":if(l.isRound){var S=cr(l.roundCorners),x;try{for(S.s();!(x=S.n()).done;){var E=x.value;kw(e,E)}}catch(C){S.e(C)}finally{S.f()}e.lineTo(a[a.length-2],a[a.length-1])}else for(var T=2;T+1<a.length;T+=2)e.lineTo(a[T],a[T+1]);break}e=u,v?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};Qr.drawEdgeTrianglePath=function(t,e,a){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,l=0;l+1<a.length;l+=2){var u=[a[l+2]-a[l],a[l+3]-a[l+1]],o=Math.sqrt(u[0]*u[0]+u[1]*u[1]),f=[u[1]/o,-u[0]/o],v=[f[0]*n/2,f[1]*n/2];e.beginPath(),e.moveTo(a[l]-v[0],a[l+1]-v[1]),e.lineTo(a[l]+v[0],a[l+1]+v[1]),e.lineTo(a[l+2],a[l+3]),e.closePath(),e.fill()}};Qr.drawArrowheads=function(t,e,a){var n=e._private.rscratch,l=n.edgeType==="haystack";l||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,a),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,a),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,a),l||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,a)};Qr.drawArrowhead=function(t,e,a,n,l,u,o){if(!(isNaN(n)||n==null||isNaN(l)||l==null||isNaN(u)||u==null)){var f=this,v=e.pstyle(a+"-arrow-shape").value;if(v!=="none"){var c=e.pstyle(a+"-arrow-fill").value==="hollow"?"both":"filled",h=e.pstyle(a+"-arrow-fill").value,g=e.pstyle("width").pfValue,y=e.pstyle(a+"-arrow-width"),w=y.value==="match-line"?g:y.pfValue;y.units==="%"&&(w*=g);var m=e.pstyle("opacity").value;o===void 0&&(o=m);var S=t.globalCompositeOperation;(o!==1||h==="hollow")&&(t.globalCompositeOperation="destination-out",f.colorFillStyle(t,255,255,255,1),f.colorStrokeStyle(t,255,255,255,1),f.drawArrowShape(e,t,c,g,v,w,n,l,u),t.globalCompositeOperation=S);var x=e.pstyle(a+"-arrow-color").value;f.colorFillStyle(t,x[0],x[1],x[2],o),f.colorStrokeStyle(t,x[0],x[1],x[2],o),f.drawArrowShape(e,t,h,g,v,w,n,l,u)}}};Qr.drawArrowShape=function(t,e,a,n,l,u,o,f,v){var c=this,h=this.usePaths()&&l!=="triangle-cross",g=!1,y,w=e,m={x:o,y:f},S=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,S),E=c.arrowShapes[l];if(h){var T=c.arrowPathCache=c.arrowPathCache||[],C=Bn(l),D=T[C];D!=null?(y=e=D,g=!0):(y=e=new Path2D,T[C]=y)}g||(e.beginPath&&e.beginPath(),h?E.draw(e,1,0,{x:0,y:0},1):E.draw(e,x,v,m,n),e.closePath&&e.closePath()),e=w,h&&(e.translate(o,f),e.rotate(v),e.scale(x,x)),(a==="filled"||a==="both")&&(h?e.fill(y):e.fill()),(a==="hollow"||a==="both")&&(e.lineWidth=u/(h?x:1),e.lineJoin="miter",h?e.stroke(y):e.stroke()),h&&(e.scale(1/x,1/x),e.rotate(-v),e.translate(-o,-f))};var Ih={};Ih.safeDrawImage=function(t,e,a,n,l,u,o,f,v,c){if(!(l<=0||u<=0||v<=0||c<=0))try{t.drawImage(e,a,n,l,u,o,f,v,c)}catch(h){ct(h)}};Ih.drawInscribedImage=function(t,e,a,n,l){var u=this,o=a.position(),f=o.x,v=o.y,c=a.cy().style(),h=c.getIndexedStyle.bind(c),g=h(a,"background-fit","value",n),y=h(a,"background-repeat","value",n),w=a.width(),m=a.height(),S=a.padding()*2,x=w+(h(a,"background-width-relative-to","value",n)==="inner"?0:S),E=m+(h(a,"background-height-relative-to","value",n)==="inner"?0:S),T=a._private.rscratch,C=h(a,"background-clip","value",n),D=C==="node",R=h(a,"background-image-opacity","value",n)*l,B=h(a,"background-image-smoothing","value",n),M=a.pstyle("corner-radius").value;M!=="auto"&&(M=a.pstyle("corner-radius").pfValue);var z=e.width||e.cachedW,L=e.height||e.cachedH;(z==null||L==null)&&(document.body.appendChild(e),z=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var U=z,_=L;if(h(a,"background-width","value",n)!=="auto"&&(h(a,"background-width","units",n)==="%"?U=h(a,"background-width","pfValue",n)*x:U=h(a,"background-width","pfValue",n)),h(a,"background-height","value",n)!=="auto"&&(h(a,"background-height","units",n)==="%"?_=h(a,"background-height","pfValue",n)*E:_=h(a,"background-height","pfValue",n)),!(U===0||_===0)){if(g==="contain"){var V=Math.min(x/U,E/_);U*=V,_*=V}else if(g==="cover"){var V=Math.max(x/U,E/_);U*=V,_*=V}var P=f-x/2,Y=h(a,"background-position-x","units",n),I=h(a,"background-position-x","pfValue",n);Y==="%"?P+=(x-U)*I:P+=I;var k=h(a,"background-offset-x","units",n),H=h(a,"background-offset-x","pfValue",n);k==="%"?P+=(x-U)*H:P+=H;var F=v-E/2,j=h(a,"background-position-y","units",n),O=h(a,"background-position-y","pfValue",n);j==="%"?F+=(E-_)*O:F+=O;var G=h(a,"background-offset-y","units",n),K=h(a,"background-offset-y","pfValue",n);G==="%"?F+=(E-_)*K:F+=K,T.pathCache&&(P-=f,F-=v,f=0,v=0);var Z=t.globalAlpha;t.globalAlpha=R;var W=u.getImgSmoothing(t),ee=!1;if(B==="no"&&W?(u.setImgSmoothing(t,!1),ee=!0):B==="yes"&&!W&&(u.setImgSmoothing(t,!0),ee=!0),y==="no-repeat")D&&(t.save(),T.pathCache?t.clip(T.pathCache):(u.nodeShapes[u.getNodeShape(a)].draw(t,f,v,x,E,M,T),t.clip())),u.safeDrawImage(t,e,0,0,z,L,P,F,U,_),D&&t.restore();else{var ae=t.createPattern(e,y);t.fillStyle=ae,u.nodeShapes[u.getNodeShape(a)].draw(t,f,v,x,E,M,T),t.translate(P,F),t.fill(),t.translate(-P,-F)}t.globalAlpha=Z,ee&&u.setImgSmoothing(t,W)}};var pi={};pi.eleTextBiggerThanMin=function(t,e){if(!e){var a=t.cy().zoom(),n=this.getPixelRatio(),l=Math.ceil(Bh(a*n));e=Math.pow(2,l)}var u=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(u<o)};pi.drawElementText=function(t,e,a,n,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(u&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var f=e.pstyle("label");if(!f||!f.value)return;var v=o.getLabelJustification(e);t.textAlign=v,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,h=e.pstyle("label"),g=e.pstyle("source-label"),y=e.pstyle("target-label");if(c||(!h||!h.value)&&(!g||!g.value)&&(!y||!y.value))return;t.textAlign="center",t.textBaseline="bottom"}var w=!a,m;a&&(m=a,t.translate(-m.x1,-m.y1)),l==null?(o.drawText(t,e,null,w,u),e.isEdge()&&(o.drawText(t,e,"source",w,u),o.drawText(t,e,"target",w,u))):o.drawText(t,e,l,w,u),a&&t.translate(m.x1,m.y1)};pi.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var a=0;a<this.fontCaches.length;a++)if(e=this.fontCaches[a],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};pi.setupTextStyle=function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,l=e.pstyle("font-size").pfValue+"px",u=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,f=a?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,v=e.pstyle("text-outline-opacity").value*f,c=e.pstyle("color").value,h=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+l+" "+u,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],f),this.colorStrokeStyle(t,h[0],h[1],h[2],v)};function $d(t,e,a,n,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+u,a),t.lineTo(e+n-u,a),t.quadraticCurveTo(e+n,a,e+n,a+u),t.lineTo(e+n,a+l-u),t.quadraticCurveTo(e+n,a+l,e+n-u,a+l),t.lineTo(e+u,a+l),t.quadraticCurveTo(e,a+l,e,a+l-u),t.lineTo(e,a+u),t.quadraticCurveTo(e,a,e+u,a),t.closePath(),o?t.stroke():t.fill()}pi.getTextAngle=function(t,e){var a,n=t._private,l=n.rscratch,u=e?e+"-":"",o=t.pstyle(u+"text-rotation");if(o.strValue==="autorotate"){var f=nr(l,"labelAngle",e);a=t.isEdge()?f:0}else o.strValue==="none"?a=0:a=o.pfValue;return a};pi.drawText=function(t,e,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=e._private,o=u.rscratch,f=l?e.effectiveOpacity():1;if(!(l&&(f===0||e.pstyle("text-opacity").value===0))){a==="main"&&(a=null);var v=nr(o,"labelX",a),c=nr(o,"labelY",a),h,g,y=this.getLabelText(e,a);if(y!=null&&y!==""&&!isNaN(v)&&!isNaN(c)){this.setupTextStyle(t,e,l);var w=a?a+"-":"",m=nr(o,"labelWidth",a),S=nr(o,"labelHeight",a),x=e.pstyle(w+"text-margin-x").pfValue,E=e.pstyle(w+"text-margin-y").pfValue,T=e.isEdge(),C=e.pstyle("text-halign").value,D=e.pstyle("text-valign").value;T&&(C="center",D="center"),v+=x,c+=E;var R;switch(n?R=this.getTextAngle(e,a):R=0,R!==0&&(h=v,g=c,t.translate(h,g),t.rotate(R),v=0,c=0),D){case"top":break;case"center":c+=S/2;break;case"bottom":c+=S;break}var B=e.pstyle("text-background-opacity").value,M=e.pstyle("text-border-opacity").value,z=e.pstyle("text-border-width").pfValue,L=e.pstyle("text-background-padding").pfValue,U=e.pstyle("text-background-shape").strValue,_=U.indexOf("round")===0,V=2;if(B>0||z>0&&M>0){var P=v-L;switch(C){case"left":P-=m;break;case"center":P-=m/2;break}var Y=c-S-L,I=m+2*L,k=S+2*L;if(B>0){var H=t.fillStyle,F=e.pstyle("text-background-color").value;t.fillStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+B*f+")",_?$d(t,P,Y,I,k,V):t.fillRect(P,Y,I,k),t.fillStyle=H}if(z>0&&M>0){var j=t.strokeStyle,O=t.lineWidth,G=e.pstyle("text-border-color").value,K=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+G[0]+","+G[1]+","+G[2]+","+M*f+")",t.lineWidth=z,t.setLineDash)switch(K){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=z/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(_?$d(t,P,Y,I,k,V,"stroke"):t.strokeRect(P,Y,I,k),K==="double"){var Z=z/2;_?$d(t,P+Z,Y+Z,I-Z*2,k-Z*2,V,"stroke"):t.strokeRect(P+Z,Y+Z,I-Z*2,k-Z*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=O,t.strokeStyle=j}}var W=2*e.pstyle("text-outline-width").pfValue;if(W>0&&(t.lineWidth=W),e.pstyle("text-wrap").value==="wrap"){var ee=nr(o,"labelWrapCachedLines",a),ae=nr(o,"labelLineHeight",a),de=m/2,fe=this.getLabelJustification(e);switch(fe==="auto"||(C==="left"?fe==="left"?v+=-m:fe==="center"&&(v+=-de):C==="center"?fe==="left"?v+=-de:fe==="right"&&(v+=de):C==="right"&&(fe==="center"?v+=de:fe==="right"&&(v+=m))),D){case"top":c-=(ee.length-1)*ae;break;case"center":case"bottom":c-=(ee.length-1)*ae;break}for(var ie=0;ie<ee.length;ie++)W>0&&t.strokeText(ee[ie],v,c),t.fillText(ee[ie],v,c),c+=ae}else W>0&&t.strokeText(y,v,c),t.fillText(y,v,c);R!==0&&(t.rotate(-R),t.translate(-h,-g))}}};var Cl={};Cl.drawNode=function(t,e,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,f,v,c=e._private,h=c.rscratch,g=e.position();if(!(!Re(g.x)||!Re(g.y))&&!(u&&!e.visible())){var y=u?e.effectiveOpacity():1,w=o.usePaths(),m,S=!1,x=e.padding();f=e.width()+2*x,v=e.height()+2*x;var E;a&&(E=a,t.translate(-E.x1,-E.y1));for(var T=e.pstyle("background-image"),C=T.value,D=new Array(C.length),R=new Array(C.length),B=0,M=0;M<C.length;M++){var z=C[M],L=D[M]=z!=null&&z!=="none";if(L){var U=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",M);B++,R[M]=o.getCachedImage(z,U,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var _=e.pstyle("background-blacken").value,V=e.pstyle("border-width").pfValue,P=e.pstyle("background-opacity").value*y,Y=e.pstyle("border-color").value,I=e.pstyle("border-style").value,k=e.pstyle("border-join").value,H=e.pstyle("border-cap").value,F=e.pstyle("border-position").value,j=e.pstyle("border-dash-pattern").pfValue,O=e.pstyle("border-dash-offset").pfValue,G=e.pstyle("border-opacity").value*y,K=e.pstyle("outline-width").pfValue,Z=e.pstyle("outline-color").value,W=e.pstyle("outline-style").value,ee=e.pstyle("outline-opacity").value*y,ae=e.pstyle("outline-offset").value,de=e.pstyle("corner-radius").value;de!=="auto"&&(de=e.pstyle("corner-radius").pfValue);var fe=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P;o.eleFillStyle(t,e,re)},ie=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;o.colorStrokeStyle(t,Y[0],Y[1],Y[2],re)},$=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ee;o.colorStrokeStyle(t,Z[0],Z[1],Z[2],re)},ue=function(re,se,Ae,ye){var Ce=o.nodePathCache=o.nodePathCache||[],Le=z1(Ae==="polygon"?Ae+","+ye.join(","):Ae,""+se,""+re,""+de),Ie=Ce[Le],Be,Xe=!1;return Ie!=null?(Be=Ie,Xe=!0,h.pathCache=Be):(Be=new Path2D,Ce[Le]=h.pathCache=Be),{path:Be,cacheHit:Xe}},ge=e.pstyle("shape").strValue,Se=e.pstyle("shape-polygon-points").pfValue;if(w){t.translate(g.x,g.y);var Me=ue(f,v,ge,Se);m=Me.path,S=Me.cacheHit}var _e=function(){if(!S){var re=g;w&&(re={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(m||t,re.x,re.y,f,v,de,h)}w?t.fill(m):t.fill()},he=function(){for(var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ae=c.backgrounding,ye=0,Ce=0;Ce<R.length;Ce++){var Le=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ce);if(se&&Le==="over"||!se&&Le==="inside"){ye++;continue}D[Ce]&&R[Ce].complete&&!R[Ce].error&&(ye++,o.drawInscribedImage(t,R[Ce],e,Ce,re))}c.backgrounding=ye!==B,Ae!==c.backgrounding&&e.updateStyle(!1)},be=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;o.hasPie(e)&&(o.drawPie(t,e,se),re&&(w||o.nodeShapes[o.getNodeShape(e)].draw(t,g.x,g.y,f,v,de,h)))},xe=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y,se=(_>0?_:-_)*re,Ae=_>0?0:255;_!==0&&(o.colorFillStyle(t,Ae,Ae,Ae,se),w?t.fill(m):t.fill())},Te=function(){if(V>0){if(t.lineWidth=V,t.lineCap=H,t.lineJoin=k,t.setLineDash)switch(I){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(j),t.lineDashOffset=O;break;case"solid":case"double":t.setLineDash([]);break}if(F!=="center"){if(t.save(),t.lineWidth*=2,F==="inside")w?t.clip(m):t.clip();else{var re=new Path2D;re.rect(-f/2-V,-v/2-V,f+2*V,v+2*V),re.addPath(m),t.clip(re,"evenodd")}w?t.stroke(m):t.stroke(),t.restore()}else w?t.stroke(m):t.stroke();if(I==="double"){t.lineWidth=V/3;var se=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",w?t.stroke(m):t.stroke(),t.globalCompositeOperation=se}t.setLineDash&&t.setLineDash([])}},Ne=function(){if(K>0){if(t.lineWidth=K,t.lineCap="butt",t.setLineDash)switch(W){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var re=g;w&&(re={x:0,y:0});var se=o.getNodeShape(e),Ae=V;F==="inside"&&(Ae=0),F==="outside"&&(Ae*=2);var ye=(f+Ae+(K+ae))/f,Ce=(v+Ae+(K+ae))/v,Le=f*ye,Ie=v*Ce,Be=o.nodeShapes[se].points,Xe;if(w){var Ke=ue(Le,Ie,se,Be);Xe=Ke.path}if(se==="ellipse")o.drawEllipsePath(Xe||t,re.x,re.y,Le,Ie);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(se)){var Ve=0,ot=0,vt=0;se==="round-diamond"?Ve=(Ae+ae+K)*1.4:se==="round-heptagon"?(Ve=(Ae+ae+K)*1.075,vt=-(Ae/2+ae+K)/35):se==="round-hexagon"?Ve=(Ae+ae+K)*1.12:se==="round-pentagon"?(Ve=(Ae+ae+K)*1.13,vt=-(Ae/2+ae+K)/15):se==="round-tag"?(Ve=(Ae+ae+K)*1.12,ot=(Ae/2+K+ae)*.07):se==="round-triangle"&&(Ve=(Ae+ae+K)*(Math.PI/2),vt=-(Ae+ae/2+K)/Math.PI),Ve!==0&&(ye=(f+Ve)/f,Le=f*ye,["round-hexagon","round-tag"].includes(se)||(Ce=(v+Ve)/v,Ie=v*Ce)),de=de==="auto"?Y1(Le,Ie):de;for(var Da=Le/2,ya=Ie/2,Ot=de+(Ae+K+ae)/2,zt=new Array(Be.length/2),Nt=new Array(Be.length/2),Wt=0;Wt<Be.length/2;Wt++)zt[Wt]={x:re.x+ot+Da*Be[Wt*2],y:re.y+vt+ya*Be[Wt*2+1]};var sa,Ft,dt,Ct,ma=zt.length;for(Ft=zt[ma-1],sa=0;sa<ma;sa++)dt=zt[sa%ma],Ct=zt[(sa+1)%ma],Nt[sa]=Yh(Ft,dt,Ct,Ot),Ft=dt,dt=Ct;o.drawRoundPolygonPath(Xe||t,re.x+ot,re.y+vt,f*ye,v*Ce,Be,Nt)}else if(["roundrectangle","round-rectangle"].includes(se))de=de==="auto"?ci(Le,Ie):de,o.drawRoundRectanglePath(Xe||t,re.x,re.y,Le,Ie,de+(Ae+K+ae)/2);else if(["cutrectangle","cut-rectangle"].includes(se))de=de==="auto"?zh():de,o.drawCutRectanglePath(Xe||t,re.x,re.y,Le,Ie,null,de+(Ae+K+ae)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(se))de=de==="auto"?ci(Le,Ie):de,o.drawBottomRoundRectanglePath(Xe||t,re.x,re.y,Le,Ie,de+(Ae+K+ae)/2);else if(se==="barrel")o.drawBarrelPath(Xe||t,re.x,re.y,Le,Ie);else if(se.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(se)){var qa=(Ae+K+ae)/f;Be=Fo(Io(Be,qa)),o.drawPolygonPath(Xe||t,re.x,re.y,f,v,Be)}else{var Jt=(Ae+K+ae)/f;Be=Fo(Io(Be,-Jt)),o.drawPolygonPath(Xe||t,re.x,re.y,f,v,Be)}if(w?t.stroke(Xe):t.stroke(),W==="double"){t.lineWidth=Ae/3;var Vt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",w?t.stroke(Xe):t.stroke(),t.globalCompositeOperation=Vt}t.setLineDash&&t.setLineDash([])}},qe=function(){l&&o.drawNodeOverlay(t,e,g,f,v)},ke=function(){l&&o.drawNodeUnderlay(t,e,g,f,v)},Fe=function(){o.drawElementText(t,e,null,n)},Qe=e.pstyle("ghost").value==="yes";if(Qe){var $e=e.pstyle("ghost-offset-x").pfValue,Ee=e.pstyle("ghost-offset-y").pfValue,q=e.pstyle("ghost-opacity").value,te=q*y;t.translate($e,Ee),$(),Ne(),fe(q*P),_e(),he(te,!0),ie(q*G),Te(),be(_!==0||V!==0),he(te,!1),xe(te),t.translate(-$e,-Ee)}w&&t.translate(-g.x,-g.y),ke(),w&&t.translate(g.x,g.y),$(),Ne(),fe(),_e(),he(y,!0),ie(),Te(),be(_!==0||V!==0),he(y,!1),xe(),w&&t.translate(-g.x,-g.y),Fe(),qe(),a&&t.translate(E.x1,E.y1)}};var Zw=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(a,n,l,u,o){var f=this;if(n.visible()){var v=n.pstyle("".concat(e,"-padding")).pfValue,c=n.pstyle("".concat(e,"-opacity")).value,h=n.pstyle("".concat(e,"-color")).value,g=n.pstyle("".concat(e,"-shape")).value,y=n.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(l=l||n.position(),u==null||o==null){var w=n.padding();u=n.width()+2*w,o=n.height()+2*w}f.colorFillStyle(a,h[0],h[1],h[2],c),f.nodeShapes[g].draw(a,l.x,l.y,u+v*2,o+v*2,y),a.fill()}}}};Cl.drawNodeOverlay=Zw("overlay");Cl.drawNodeUnderlay=Zw("underlay");Cl.hasPie=function(t){return t=t[0],t._private.hasPie};Cl.drawPie=function(t,e,a,n){e=e[0],n=n||e.position();var l=e.cy().style(),u=e.pstyle("pie-size"),o=n.x,f=n.y,v=e.width(),c=e.height(),h=Math.min(v,c)/2,g=0,y=this.usePaths();y&&(o=0,f=0),u.units==="%"?h=h*u.pfValue:u.pfValue!==void 0&&(h=u.pfValue/2);for(var w=1;w<=l.pieBackgroundN;w++){var m=e.pstyle("pie-"+w+"-background-size").value,S=e.pstyle("pie-"+w+"-background-color").value,x=e.pstyle("pie-"+w+"-background-opacity").value*a,E=m/100;E+g>1&&(E=1-g);var T=1.5*Math.PI+2*Math.PI*g,C=2*Math.PI*E,D=T+C;m===0||g>=1||g+E>1||(t.beginPath(),t.moveTo(o,f),t.arc(o,f,h,T,D),t.closePath(),this.colorFillStyle(t,S[0],S[1],S[2],x),t.fill(),g+=E)}};var Ma={},ER=100;Ma.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),a=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/a};Ma.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],a=!0,n,l=0;l<e.length;l++)if(n=e[l],n.context===t){a=!1;break}return a&&(n={context:t},e.push(n)),n};Ma.createGradientStyleFor=function(t,e,a,n,l){var u,o=this.usePaths(),f=a.pstyle(e+"-gradient-stop-colors").value,v=a.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(a.isEdge()){var c=a.sourceEndpoint(),h=a.targetEndpoint(),g=a.midpoint(),y=fi(c,g),w=fi(h,g);u=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(y,w))}else{var m=o?{x:0,y:0}:a.position(),S=a.paddedWidth(),x=a.paddedHeight();u=t.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(S,x))}else if(a.isEdge()){var E=a.sourceEndpoint(),T=a.targetEndpoint();u=t.createLinearGradient(E.x,E.y,T.x,T.y)}else{var C=o?{x:0,y:0}:a.position(),D=a.paddedWidth(),R=a.paddedHeight(),B=D/2,M=R/2,z=a.pstyle("background-gradient-direction").value;switch(z){case"to-bottom":u=t.createLinearGradient(C.x,C.y-M,C.x,C.y+M);break;case"to-top":u=t.createLinearGradient(C.x,C.y+M,C.x,C.y-M);break;case"to-left":u=t.createLinearGradient(C.x+B,C.y,C.x-B,C.y);break;case"to-right":u=t.createLinearGradient(C.x-B,C.y,C.x+B,C.y);break;case"to-bottom-right":case"to-right-bottom":u=t.createLinearGradient(C.x-B,C.y-M,C.x+B,C.y+M);break;case"to-top-right":case"to-right-top":u=t.createLinearGradient(C.x-B,C.y+M,C.x+B,C.y-M);break;case"to-bottom-left":case"to-left-bottom":u=t.createLinearGradient(C.x+B,C.y-M,C.x-B,C.y+M);break;case"to-top-left":case"to-left-top":u=t.createLinearGradient(C.x+B,C.y+M,C.x-B,C.y-M);break}}if(!u)return null;for(var L=v.length===f.length,U=f.length,_=0;_<U;_++)u.addColorStop(L?v[_]:_/(U-1),"rgba("+f[_][0]+","+f[_][1]+","+f[_][2]+","+l+")");return u};Ma.gradientFillStyle=function(t,e,a,n){var l=this.createGradientStyleFor(t,"background",e,a,n);if(!l)return null;t.fillStyle=l};Ma.colorFillStyle=function(t,e,a,n,l){t.fillStyle="rgba("+e+","+a+","+n+","+l+")"};Ma.eleFillStyle=function(t,e,a){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,a);else{var l=e.pstyle("background-color").value;this.colorFillStyle(t,l[0],l[1],l[2],a)}};Ma.gradientStrokeStyle=function(t,e,a,n){var l=this.createGradientStyleFor(t,"line",e,a,n);if(!l)return null;t.strokeStyle=l};Ma.colorStrokeStyle=function(t,e,a,n,l){t.strokeStyle="rgba("+e+","+a+","+n+","+l+")"};Ma.eleStrokeStyle=function(t,e,a){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,a);else{var l=e.pstyle("line-color").value;this.colorStrokeStyle(t,l[0],l[1],l[2],a)}};Ma.matchCanvasSize=function(t){var e=this,a=e.data,n=e.findContainerClientCoords(),l=n[2],u=n[3],o=e.getPixelRatio(),f=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=f);var v=l*o,c=u*o,h;if(!(v===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var g=a.canvasContainer;g.style.width=l+"px",g.style.height=u+"px";for(var y=0;y<e.CANVAS_LAYERS;y++)h=a.canvases[y],h.width=v,h.height=c,h.style.width=l+"px",h.style.height=u+"px";for(var y=0;y<e.BUFFER_COUNT;y++)h=a.bufferCanvases[y],h.width=v,h.height=c,h.style.width=l+"px",h.style.height=u+"px";e.textureMult=1,o<=1&&(h=a.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,h.width=v*e.textureMult,h.height=c*e.textureMult),e.canvasWidth=v,e.canvasHeight=c,e.pixelRatio=o}};Ma.renderTo=function(t,e,a,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:a,drawAllLayers:!0,forcedPxRatio:n})};Ma.clearCanvas=function(){var t=this,e=t.data;function a(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}a(e.contexts[t.NODE]),a(e.contexts[t.DRAG])};Ma.render=function(t){var e=this;t=t||_1();var a=e.cy,n=t.forcedContext,l=t.drawAllLayers,u=t.drawOnlyNodeLayer,o=t.forcedZoom,f=t.forcedPan,v=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,c=e.data,h=c.canvasNeedsRedraw,g=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),y=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,w=e.motionBlurPxRatio,m=a.hasCompoundNodes(),S=e.hoverData.draggingEles,x=!!(e.hoverData.selecting||e.touchData.selecting);y=y&&!n&&e.motionBlurEnabled&&!x;var E=y;n||(e.prevPxRatio!==v&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=v),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),y&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(E=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!g&&(h[e.NODE]=!0,h[e.SELECT_BOX]=!0);var T=a.style(),C=a.zoom(),D=o!==void 0?o:C,R=a.pan(),B={x:R.x,y:R.y},M={zoom:C,pan:{x:R.x,y:R.y}},z=e.prevViewport,L=z===void 0||M.zoom!==z.zoom||M.pan.x!==z.pan.x||M.pan.y!==z.pan.y;!L&&!(S&&!m)&&(e.motionBlurPxRatio=1),f&&(B=f),D*=v,B.x*=v,B.y*=v;var U=e.getCachedZSortedEles();function _(ie,$,ue,ge,Se){var Me=ie.globalCompositeOperation;ie.globalCompositeOperation="destination-out",e.colorFillStyle(ie,255,255,255,e.motionBlurTransparency),ie.fillRect($,ue,ge,Se),ie.globalCompositeOperation=Me}function V(ie,$){var ue,ge,Se,Me;!e.clearingMotionBlur&&(ie===c.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ie===c.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(ue={x:R.x*w,y:R.y*w},ge=C*w,Se=e.canvasWidth*w,Me=e.canvasHeight*w):(ue=B,ge=D,Se=e.canvasWidth,Me=e.canvasHeight),ie.setTransform(1,0,0,1,0,0),$==="motionBlur"?_(ie,0,0,Se,Me):!n&&($===void 0||$)&&ie.clearRect(0,0,Se,Me),l||(ie.translate(ue.x,ue.y),ie.scale(ge,ge)),f&&ie.translate(f.x,f.y),o&&ie.scale(o,o)}if(g||(e.textureDrawLastFrame=!1),g){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=a.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var P=e.data.bufferContexts[e.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:v*e.textureMult});var M=e.textureCache.viewport={zoom:a.zoom(),pan:a.pan(),width:e.canvasWidth,height:e.canvasHeight};M.mpan={x:(0-M.pan.x)/M.zoom,y:(0-M.pan.y)/M.zoom}}h[e.DRAG]=!1,h[e.NODE]=!1;var Y=c.contexts[e.NODE],I=e.textureCache.texture,M=e.textureCache.viewport;Y.setTransform(1,0,0,1,0,0),y?_(Y,0,0,M.width,M.height):Y.clearRect(0,0,M.width,M.height);var k=T.core("outside-texture-bg-color").value,H=T.core("outside-texture-bg-opacity").value;e.colorFillStyle(Y,k[0],k[1],k[2],H),Y.fillRect(0,0,M.width,M.height);var C=a.zoom();V(Y,!1),Y.clearRect(M.mpan.x,M.mpan.y,M.width/M.zoom/v,M.height/M.zoom/v),Y.drawImage(I,M.mpan.x,M.mpan.y,M.width/M.zoom/v,M.height/M.zoom/v)}else e.textureOnViewport&&!n&&(e.textureCache=null);var F=a.extent(),j=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),O=e.hideEdgesOnViewport&&j,G=[];if(G[e.NODE]=!h[e.NODE]&&y&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,G[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),G[e.DRAG]=!h[e.DRAG]&&y&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,G[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),h[e.NODE]||l||u||G[e.NODE]){var K=y&&!G[e.NODE]&&w!==1,Y=n||(K?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:c.contexts[e.NODE]),Z=y&&!K?"motionBlur":void 0;V(Y,Z),O?e.drawCachedNodes(Y,U.nondrag,v,F):e.drawLayeredElements(Y,U.nondrag,v,F),e.debug&&e.drawDebugPoints(Y,U.nondrag),!l&&!y&&(h[e.NODE]=!1)}if(!u&&(h[e.DRAG]||l||G[e.DRAG])){var K=y&&!G[e.DRAG]&&w!==1,Y=n||(K?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:c.contexts[e.DRAG]);V(Y,y&&!K?"motionBlur":void 0),O?e.drawCachedNodes(Y,U.drag,v,F):e.drawCachedElements(Y,U.drag,v,F),e.debug&&e.drawDebugPoints(Y,U.drag),!l&&!y&&(h[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,V),y&&w!==1){var W=c.contexts[e.NODE],ee=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],ae=c.contexts[e.DRAG],de=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],fe=function($,ue,ge){$.setTransform(1,0,0,1,0,0),ge||!E?$.clearRect(0,0,e.canvasWidth,e.canvasHeight):_($,0,0,e.canvasWidth,e.canvasHeight);var Se=w;$.drawImage(ue,0,0,e.canvasWidth*Se,e.canvasHeight*Se,0,0,e.canvasWidth,e.canvasHeight)};(h[e.NODE]||G[e.NODE])&&(fe(W,ee,G[e.NODE]),h[e.NODE]=!1),(h[e.DRAG]||G[e.DRAG])&&(fe(ae,de,G[e.DRAG]),h[e.DRAG]=!1)}e.prevViewport=M,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),y&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!g,e.mbFrames=0,h[e.NODE]=!0,h[e.DRAG]=!0,e.redraw()},ER)),n||a.emit("render")};var Au;Ma.drawSelectionRectangle=function(t,e){var a=this,n=a.cy,l=a.data,u=n.style(),o=t.drawOnlyNodeLayer,f=t.drawAllLayers,v=l.canvasNeedsRedraw,c=t.forcedContext;if(a.showFps||!o&&v[a.SELECT_BOX]&&!f){var h=c||l.contexts[a.SELECT_BOX];if(e(h),a.selection[4]==1&&(a.hoverData.selecting||a.touchData.selecting)){var g=a.cy.zoom(),y=u.core("selection-box-border-width").value/g;h.lineWidth=y,h.fillStyle="rgba("+u.core("selection-box-color").value[0]+","+u.core("selection-box-color").value[1]+","+u.core("selection-box-color").value[2]+","+u.core("selection-box-opacity").value+")",h.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),y>0&&(h.strokeStyle="rgba("+u.core("selection-box-border-color").value[0]+","+u.core("selection-box-border-color").value[1]+","+u.core("selection-box-border-color").value[2]+","+u.core("selection-box-opacity").value+")",h.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(l.bgActivePosistion&&!a.hoverData.selecting){var g=a.cy.zoom(),w=l.bgActivePosistion;h.fillStyle="rgba("+u.core("active-bg-color").value[0]+","+u.core("active-bg-color").value[1]+","+u.core("active-bg-color").value[2]+","+u.core("active-bg-opacity").value+")",h.beginPath(),h.arc(w.x,w.y,u.core("active-bg-size").pfValue/g,0,2*Math.PI),h.fill()}var m=a.lastRedrawTime;if(a.showFps&&m){m=Math.round(m);var S=Math.round(1e3/m),x="1 frame = "+m+" ms = "+S+" fps";if(h.setTransform(1,0,0,1,0,0),h.fillStyle="rgba(255, 0, 0, 0.75)",h.strokeStyle="rgba(255, 0, 0, 0.75)",h.font="30px Arial",!Au){var E=h.measureText(x);Au=E.actualBoundingBoxAscent}h.fillText(x,0,Au);var T=60;h.strokeRect(0,Au+10,250,20),h.fillRect(0,Au+10,250*Math.min(S/T,1),20)}f||(v[a.SELECT_BOX]=!1)}};function t1(t,e,a){var n=t.createShader(e);if(t.shaderSource(n,a),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function SR(t,e,a){var n=t1(t,t.VERTEX_SHADER,e),l=t1(t,t.FRAGMENT_SHADER,a),u=t.createProgram();if(t.attachShader(u,n),t.attachShader(u,l),t.linkProgram(u),!t.getProgramParameter(u,t.LINK_STATUS))throw new Error("Could not initialize shaders");return u}function TR(t,e,a){a===void 0&&(a=e);var n=t.makeOffscreenCanvas(e,a),l=n.context=n.getContext("2d");return n.clear=function(){return l.clearRect(0,0,n.width,n.height)},n.clear(),n}function Xh(t){var e=t.pixelRatio,a=t.cy.zoom(),n=t.cy.pan();return{zoom:a*e,pan:{x:n.x*e,y:n.y*e}}}function CR(t,e,a,n,l){var u=n*a+e.x,o=l*a+e.y;return o=Math.round(t.canvasHeight-o),[u,o]}function Ru(t,e,a){var n=t[0]/255,l=t[1]/255,u=t[2]/255,o=e,f=a||new Array(4);return f[0]=n*o,f[1]=l*o,f[2]=u*o,f[3]=o,f}function nl(t,e){var a=e||new Array(4);return a[0]=(t>>0&255)/255,a[1]=(t>>8&255)/255,a[2]=(t>>16&255)/255,a[3]=(t>>24&255)/255,a}function DR(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function AR(t,e){var a=t.createTexture();return a.buffer=function(n){t.bindTexture(t.TEXTURE_2D,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},a.deleteTexture=function(){t.deleteTexture(a)},a}function Qw(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function jw(t,e,a){switch(e){case t.FLOAT:return new Float32Array(a);case t.INT:return new Int32Array(a)}}function RR(t,e,a,n,l,u){switch(e){case t.FLOAT:return new Float32Array(a.buffer,u*n,l);case t.INT:return new Int32Array(a.buffer,u*n,l)}}function MR(t,e,a,n){var l=Qw(t,e),u=ia(l,2),o=u[0],f=u[1],v=jw(t,f,n),c=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,v,t.STATIC_DRAW),f===t.FLOAT?t.vertexAttribPointer(a,o,f,!1,0,0):f===t.INT&&t.vertexAttribIPointer(a,o,f,0,0),t.enableVertexAttribArray(a),t.bindBuffer(t.ARRAY_BUFFER,null),c}function Tn(t,e,a,n){var l=Qw(t,a),u=ia(l,3),o=u[0],f=u[1],v=u[2],c=jw(t,f,e*o),h=o*v,g=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,g),t.bufferData(t.ARRAY_BUFFER,e*h,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),f===t.FLOAT?t.vertexAttribPointer(n,o,f,!1,h,0):f===t.INT&&t.vertexAttribIPointer(n,o,f,h,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var y=new Array(e),w=0;w<e;w++)y[w]=RR(t,f,c,h,o,w);return g.dataArray=c,g.stride=h,g.size=o,g.getView=function(m){return y[m]},g.setPoint=function(m,S,x){var E=y[m];E[0]=S,E[1]=x},g.bufferSubData=function(m){t.bindBuffer(t.ARRAY_BUFFER,g),m?t.bufferSubData(t.ARRAY_BUFFER,0,c,0,m*o):t.bufferSubData(t.ARRAY_BUFFER,0,c)},g}function BR(t,e,a){for(var n=9,l=new Float32Array(e*n),u=new Array(e),o=0;o<e;o++){var f=o*n*4;u[o]=new Float32Array(l.buffer,f,n)}var v=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,v),t.bufferData(t.ARRAY_BUFFER,l.byteLength,t.DYNAMIC_DRAW);for(var c=0;c<3;c++){var h=a+c;t.enableVertexAttribArray(h),t.vertexAttribPointer(h,3,t.FLOAT,!1,3*12,c*12),t.vertexAttribDivisor(h,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),v.getMatrixView=function(g){return u[g]},v.setData=function(g,y){u[y].set(g,0)},v.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,v),t.bufferSubData(t.ARRAY_BUFFER,0,l)},v}function OR(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var a=t.createTexture();return t.bindTexture(t.TEXTURE_2D,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,l){t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,l,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var a1=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Uo(){var t=new a1(9);return a1!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function $w(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function zR(t,e,a){var n=e[0],l=e[1],u=e[2],o=e[3],f=e[4],v=e[5],c=e[6],h=e[7],g=e[8],y=a[0],w=a[1],m=a[2],S=a[3],x=a[4],E=a[5],T=a[6],C=a[7],D=a[8];return t[0]=y*n+w*o+m*c,t[1]=y*l+w*f+m*h,t[2]=y*u+w*v+m*g,t[3]=S*n+x*o+E*c,t[4]=S*l+x*f+E*h,t[5]=S*u+x*v+E*g,t[6]=T*n+C*o+D*c,t[7]=T*l+C*f+D*h,t[8]=T*u+C*v+D*g,t}function Wo(t,e,a){var n=e[0],l=e[1],u=e[2],o=e[3],f=e[4],v=e[5],c=e[6],h=e[7],g=e[8],y=a[0],w=a[1];return t[0]=n,t[1]=l,t[2]=u,t[3]=o,t[4]=f,t[5]=v,t[6]=y*n+w*o+c,t[7]=y*l+w*f+h,t[8]=y*u+w*v+g,t}function Ww(t,e,a){var n=e[0],l=e[1],u=e[2],o=e[3],f=e[4],v=e[5],c=e[6],h=e[7],g=e[8],y=Math.sin(a),w=Math.cos(a);return t[0]=w*n+y*o,t[1]=w*l+y*f,t[2]=w*u+y*v,t[3]=w*o-y*n,t[4]=w*f-y*l,t[5]=w*v-y*u,t[6]=c,t[7]=h,t[8]=g,t}function Kh(t,e,a){var n=a[0],l=a[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=l*e[3],t[4]=l*e[4],t[5]=l*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function NR(t,e,a){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var ku={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},r1=jt({texRows:24}),il=jt({collection:"default",getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:function(){return!0},getPadding:0}),LR=function(){function t(e,a,n,l){_n(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=a,this.texRows=n,this.texHeight=Math.floor(a/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=l(e,a,a),this.scratch=l(e,a,this.texHeight,"scratch")}return qn(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(a){var n=a.w,l=a.h,u=this.texHeight,o=this.texSize,f=u/l,v=n*f,c=l*f;return v>o&&(f=o/n,v=n*f,c=l*f),{scale:f,texW:v,texH:c}}},{key:"draw",value:function(a,n,l){var u=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,f=this.texRows,v=this.texHeight,c=this.getScale(n),h=c.scale,g=c.texW,y=c.texH,w=[null,null],m=function(C,D){if(l&&D){var R=D.context,B=C.x,M=C.row,z=B,L=v*M;R.save(),R.translate(z,L),R.scale(h,h),l(R,n),R.restore()}},S=function(){m(u.freePointer,u.canvas),w[0]={x:u.freePointer.x,y:u.freePointer.row*v,w:g,h:y},w[1]={x:u.freePointer.x+g,y:u.freePointer.row*v,w:0,h:y},u.freePointer.x+=g,u.freePointer.x==o&&(u.freePointer.x=0,u.freePointer.row++)},x=function(){var C=u.scratch,D=u.canvas;C.clear(),m({x:0,row:0},C);var R=o-u.freePointer.x,B=g-R,M=v;{var z=u.freePointer.x,L=u.freePointer.row*v,U=R;D.context.drawImage(C,0,0,U,M,z,L,U,M),w[0]={x:z,y:L,w:U,h:y}}{var _=R,V=(u.freePointer.row+1)*v,P=B;D&&D.context.drawImage(C,_,0,P,M,0,V,P,M),w[1]={x:0,y:V,w:P,h:y}}u.freePointer.x=B,u.freePointer.row++},E=function(){u.freePointer.x=0,u.freePointer.row++};if(this.freePointer.x+g<=o)S();else{if(this.freePointer.row>=f-1)return!1;this.freePointer.x===o?(E(),S()):this.enableWrapping?x():(E(),S())}return this.keyToLocation.set(a,w),this.needsBuffer=!0,w}},{key:"getOffsets",value:function(a){return this.keyToLocation.get(a)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(a){if(this.locked)return!1;var n=this.texSize,l=this.texRows,u=this.getScale(a),o=u.texW;return this.freePointer.x+o>n?this.freePointer.row<l-1:!0}},{key:"bufferIfNeeded",value:function(a){this.texture||(this.texture=AR(a,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),kR=function(){function t(e,a,n,l){_n(this,t),this.r=e,this.texSize=a,this.texRows=n,this.createTextureCanvas=l,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return qn(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var a=this.r,n=this.texSize,l=this.texRows,u=this.createTextureCanvas;return new LR(a,n,l,u)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var a=this.r,n=this.texSize,l=this.texRows,u=this.createTextureCanvas,o=Math.floor(n/l);this.scratch=u(a,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(a,n,l){var u=this.styleKeyToAtlas.get(a);return u||(u=this.atlases[this.atlases.length-1],(!u||!u.canFit(n))&&(u&&u.lock(),u=this._createAtlas(),this.atlases.push(u)),u.draw(a,n,l),this.styleKeyToAtlas.set(a,u)),u}},{key:"getAtlas",value:function(a){return this.styleKeyToAtlas.get(a)}},{key:"hasAtlas",value:function(a){return this.styleKeyToAtlas.has(a)}},{key:"markKeyForGC",value:function(a){this.markedKeys.add(a)}},{key:"gc",value:function(){var a=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var l=[],u=new Map,o=null,f=cr(this.atlases),v;try{var c=function(){var g=v.value,y=g.getKeys(),w=_R(n,y);if(w.size===0)return l.push(g),y.forEach(function(R){return u.set(R,g)}),1;o||(o=a._createAtlas(),l.push(o));var m=cr(y),S;try{for(m.s();!(S=m.n()).done;){var x=S.value;if(!w.has(x)){var E=g.getOffsets(x),T=ia(E,2),C=T[0],D=T[1];o.canFit({w:C.w+D.w,h:C.h})||(o.lock(),o=a._createAtlas(),l.push(o)),a._copyTextureToNewAtlas(x,g,o),u.set(x,o)}}}catch(R){m.e(R)}finally{m.f()}g.dispose()};for(f.s();!(v=f.n()).done;)c()}catch(h){f.e(h)}finally{f.f()}this.atlases=l,this.styleKeyToAtlas=u,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(a,n,l){var u=n.getOffsets(a),o=ia(u,2),f=o[0],v=o[1];if(v.w===0)l.draw(a,f,function(y){y.drawImage(n.canvas,f.x,f.y,f.w,f.h,0,0,f.w,f.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(n.canvas,f.x,f.y,f.w,f.h,0,0,f.w,f.h),c.context.drawImage(n.canvas,v.x,v.y,v.w,v.h,f.w,0,v.w,v.h);var h=f.w+v.w,g=f.h;l.draw(a,{w:h,h:g},function(y){y.drawImage(c,0,0,h,g,0,0,h,g)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function _R(t,e){return t.intersection?t.intersection(e):new Set(m1(t).filter(function(a){return e.has(a)}))}var qR=function(){function t(e,a){_n(this,t),this.r=e,this.globalOptions=a,this.atlasSize=a.webglTexSize,this.maxAtlasesPerBatch=a.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map,this.batchAtlases=[]}return qn(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"addAtlasCollection",value:function(a,n){var l=this.globalOptions,u=l.webglTexSize,o=l.createTextureCanvas,f=n.texRows,v=this._cacheScratchCanvas(o),c=new kR(this.r,u,f,v);this.collections.set(a,c)}},{key:"addRenderType",value:function(a,n){var l=n.collection;if(!this.collections.has(l))throw new Error("invalid atlas collection name '".concat(l,"'"));var u=this.collections.get(l),o=He({type:a,atlasCollection:u},n);this.renderTypes.set(a,o)}},{key:"getRenderTypeOpts",value:function(a){return this.renderTypes.get(a)}},{key:"getAtlasCollection",value:function(a){return this.collections.get(a)}},{key:"_cacheScratchCanvas",value:function(a){var n=-1,l=-1,u=null;return function(o,f,v,c){return c?((!u||f!=n||v!=l)&&(n=f,l=v,u=a(o,f,v)),u):a(o,f,v)}}},{key:"_key",value:function(a,n){return"".concat(a,"-").concat(n)}},{key:"invalidate",value:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=n.forceRedraw,u=l===void 0?!1:l,o=n.filterEle,f=o===void 0?function(){return!0}:o,v=n.filterType,c=v===void 0?function(){return!0}:v,h=!1,g=!1,y=cr(a),w;try{for(y.s();!(w=y.n()).done;){var m=w.value;if(f(m)){var S=cr(this.renderTypes.values()),x;try{for(S.s();!(x=S.n()).done;){var E=x.value,T=E.type;if(c(T)){var C=E.getKey(m),D=this.collections.get(E.collection);if(u)D.markKeyForGC(C),g=!0;else{var R=E.getID?E.getID(m):m.id(),B=this._key(T,R),M=this.typeAndIdToKey.get(B);M!==void 0&&M!==C&&(this.typeAndIdToKey.delete(B),D.markKeyForGC(M),h=!0)}}}}catch(z){S.e(z)}finally{S.f()}}}}catch(z){y.e(z)}finally{y.f()}return g&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var a=cr(this.collections.values()),n;try{for(a.s();!(n=a.n()).done;){var l=n.value;l.gc()}}catch(u){a.e(u)}finally{a.f()}}},{key:"getOrCreateAtlas",value:function(a,n,l){var u=this.renderTypes.get(n),o=u.getKey(a);l||(l=u.getBoundingBox(a));var f=this.collections.get(u.collection),v=!1,c=f.draw(o,l,function(y){u.drawElement(y,a,l,!0,!0),v=!0});if(v){var h=u.getID?u.getID(a):a.id(),g=this._key(n,h);this.typeAndIdToKey.set(g,o)}return c}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(a,n){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var l=this.renderTypes.get(n),u=l.getKey(a),o=this.collections.get(l.collection),f=o.getAtlas(u);return!!f&&this.batchAtlases.includes(f)}return!0}},{key:"getAtlasIndexForBatch",value:function(a){var n=this.batchAtlases.indexOf(a);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(a),n=this.batchAtlases.length-1}return n}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(a,n){return n})}},{key:"getAtlasInfo",value:function(a,n){var l=this.renderTypes.get(n),u=l.getBoundingBox(a),o=this.getOrCreateAtlas(a,n,u),f=this.getAtlasIndexForBatch(o);if(f!==void 0){var v=l.getKey(a),c=o.getOffsets(v),h=ia(c,2),g=h[0],y=h[1];return{index:f,tex1:g,tex2:y,bb:u}}}},{key:"setTransformMatrix",value:function(a,n,l,u){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,f=this.getRenderTypeOpts(l),v=f.getPadding?f.getPadding(a):0;if(u){var c=u.bb,h=u.tex1,g=u.tex2,y=h.w/(h.w+g.w);o||(y=1-y);var w=this.getAdjustedBB(c,v,o,y);this._applyTransformMatrix(n,w,f,a)}else{var m=f.getBoundingBox(a),S=this.getAdjustedBB(m,v,!0,1);this._applyTransformMatrix(n,S,f,a)}}},{key:"_applyTransformMatrix",value:function(a,n,l,u){var o,f;$w(a);var v=l.getRotation?l.getRotation(u):0;if(v!==0){var c=l.getRotationPoint(u),h=c.x,g=c.y;Wo(a,a,[h,g]),Ww(a,a,v);var y=l.getRotationOffset(u);o=y.x+n.xOffset,f=y.y}else o=n.x1,f=n.y1;Wo(a,a,[o,f]),Kh(a,a,[n.w,n.h])}},{key:"getAdjustedBB",value:function(a,n,l,u){var o=a.x1,f=a.y1,v=a.w,c=a.h;n&&(o-=n,f-=n,v+=2*n,c+=2*n);var h=0,g=v*u;return l&&u<1?v=g:!l&&u<1&&(h=v-g,o+=h,v=g),{x1:o,y1:f,w:v,h:c,xOffset:h}}},{key:"getDebugInfo",value:function(){var a=[],n=cr(this.collections),l;try{for(n.s();!(l=n.n()).done;){var u=ia(l.value,2),o=u[0],f=u[1],v=f.getCounts(),c=v.keyCount,h=v.atlasCount;a.push({type:o,keyCount:c,atlasCount:h})}}catch(g){n.e(g)}finally{n.f()}return a}}])}(),Ro=0,n1=1,i1=2,Wd=3,l1=4,PR=function(){function t(e,a,n){_n(this,t),this.r=e,this.gl=a,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=TR,this.atlasManager=new qR(e,n),this.program=this.createShaderProgram(ku.SCREEN),this.pickingProgram=this.createShaderProgram(ku.PICKING),this.vao=this.createVAO()}return qn(t,[{key:"addAtlasCollection",value:function(a,n){this.atlasManager.addAtlasCollection(a,n)}},{key:"addAtlasRenderType",value:function(a,n){this.atlasManager.addRenderType(a,n)}},{key:"invalidate",value:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=n.type,u=this.atlasManager;return l?u.invalidate(a,{filterType:function(f){return f===l},forceRedraw:!0}):u.invalidate(a)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(a){var n=this.gl,l=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      in mat3 aTransform;

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aColor;

      out vec2 vTexCoord;
      out vec4 vColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Ro,`) {
          float texX = aTex.x;
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          int vid = gl_VertexID;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(l1,`) {
          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else if(aVertType == `).concat(n1,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(i1,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Wd,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),u=this.atlasManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(u.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Ro,`) {
          `).concat(u.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(Wd,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vColor.rgb + (uBGColor.rgb * (1.0 - vColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vColor;
        }

        `).concat(a.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),f=SR(n,l,o);f.aPosition=n.getAttribLocation(f,"aPosition"),f.aIndex=n.getAttribLocation(f,"aIndex"),f.aVertType=n.getAttribLocation(f,"aVertType"),f.aTransform=n.getAttribLocation(f,"aTransform"),f.aAtlasId=n.getAttribLocation(f,"aAtlasId"),f.aTex=n.getAttribLocation(f,"aTex"),f.aPointAPointB=n.getAttribLocation(f,"aPointAPointB"),f.aPointCPointD=n.getAttribLocation(f,"aPointCPointD"),f.aLineWidth=n.getAttribLocation(f,"aLineWidth"),f.aColor=n.getAttribLocation(f,"aColor"),f.uPanZoomMatrix=n.getUniformLocation(f,"uPanZoomMatrix"),f.uAtlasSize=n.getUniformLocation(f,"uAtlasSize"),f.uBGColor=n.getUniformLocation(f,"uBGColor"),f.uTextures=[];for(var v=0;v<this.atlasManager.getMaxAtlasesPerBatch();v++)f.uTextures.push(n.getUniformLocation(f,"uTexture".concat(v)));return f}},{key:"createVAO",value:function(){var a=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=a.length/2;var n=this.maxInstances,l=this.gl,u=this.program,o=l.createVertexArray();return l.bindVertexArray(o),MR(l,"vec2",u.aPosition,a),this.transformBuffer=BR(l,n,u.aTransform),this.indexBuffer=Tn(l,n,"vec4",u.aIndex),this.vertTypeBuffer=Tn(l,n,"int",u.aVertType),this.atlasIdBuffer=Tn(l,n,"int",u.aAtlasId),this.texBuffer=Tn(l,n,"vec4",u.aTex),this.pointAPointBBuffer=Tn(l,n,"vec4",u.aPointAPointB),this.pointCPointDBuffer=Tn(l,n,"vec4",u.aPointCPointD),this.lineWidthBuffer=Tn(l,n,"float",u.aLineWidth),this.colorBuffer=Tn(l,n,"vec4",u.aColor),l.bindVertexArray(null),o}},{key:"buffers",get:function(){var a=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return a[n]})),this._buffers}},{key:"startFrame",value:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ku.SCREEN;this.panZoomMatrix=a,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.rectangleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||Uo()}},{key:"drawTexture",value:function(a,n,l){var u=this.atlasManager;if(a.visible()&&u.getRenderTypeOpts(l).isVisible(a)){u.canAddToCurrentBatch(a,l)||this.endBatch(),this.instanceCount+1>=this.maxInstances&&this.endBatch();var o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=Ro;var f=this.indexBuffer.getView(o);nl(n,f);var v=u.getAtlasInfo(a,l),c=v.index,h=v.tex1,g=v.tex2;g.w>0&&this.wrappedCount++;for(var y=!0,w=0,m=[h,g];w<m.length;w++){var S=m[w];if(S.w!=0){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=Ro;var E=this.indexBuffer.getView(x);nl(n,E);var T=this.atlasIdBuffer.getView(x);T[0]=c;var C=this.texBuffer.getView(x);C[0]=S.x,C[1]=S.y,C[2]=S.w,C[3]=S.h;var D=this.transformBuffer.getMatrixView(x);u.setTransformMatrix(a,D,l,v,y),this.instanceCount++}y=!1}this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawSimpleRectangle",value:function(a,n,l){if(a.visible()){var u=this.atlasManager,o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=l1;var f=this.indexBuffer.getView(o);nl(n,f);var v=a.pstyle("background-color").value,c=a.pstyle("background-opacity").value,h=this.colorBuffer.getView(o);Ru(v,c,h);var g=this.transformBuffer.getMatrixView(o);u.setTransformMatrix(a,g,l),this.rectangleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(a,n,l){if(a.visible()){var u=a._private.rscratch,o,f,v;if(l==="source"?(o=u.arrowStartX,f=u.arrowStartY,v=u.srcArrowAngle):(o=u.arrowEndX,f=u.arrowEndY,v=u.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(f)||f==null||isNaN(v)||v==null)){var c=a.pstyle(l+"-arrow-shape").value;if(c!=="none"){var h=a.pstyle(l+"-arrow-color").value,g=a.pstyle("opacity").value,y=a.pstyle("line-opacity").value,w=g*y,m=a.pstyle("width").pfValue,S=a.pstyle("arrow-scale").value,x=this.r.getArrowWidth(m,S),E=this.instanceCount,T=this.transformBuffer.getMatrixView(E);$w(T),Wo(T,T,[o,f]),Kh(T,T,[x,x]),Ww(T,T,v),this.vertTypeBuffer.getView(E)[0]=Wd;var C=this.indexBuffer.getView(E);nl(n,C);var D=this.colorBuffer.getView(E);Ru(h,w,D),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(a,n){if(a.visible()){var l=this.getEdgePoints(a);if(l){var u=a.pstyle("opacity").value,o=a.pstyle("line-opacity").value,f=a.pstyle("width").pfValue,v=a.pstyle("line-color").value,c=u*o;if(l.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),l.length==4){var h=this.instanceCount;this.vertTypeBuffer.getView(h)[0]=n1;var g=this.indexBuffer.getView(h);nl(n,g);var y=this.colorBuffer.getView(h);Ru(v,c,y);var w=this.lineWidthBuffer.getView(h);w[0]=f;var m=this.pointAPointBBuffer.getView(h);m[0]=l[0],m[1]=l[1],m[2]=l[2],m[3]=l[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var S=0;S<l.length-2;S+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=i1;var E=this.indexBuffer.getView(x);nl(n,E);var T=this.colorBuffer.getView(x);Ru(v,c,T);var C=this.lineWidthBuffer.getView(x);C[0]=f;var D=l[S-2],R=l[S-1],B=l[S],M=l[S+1],z=l[S+2],L=l[S+3],U=l[S+4],_=l[S+5];S==0&&(D=2*B-z+.001,R=2*M-L+.001),S==l.length-4&&(U=2*z-B+.001,_=2*L-M+.001);var V=this.pointAPointBBuffer.getView(x);V[0]=D,V[1]=R,V[2]=B,V[3]=M;var P=this.pointCPointDBuffer.getView(x);P[0]=z,P[1]=L,P[2]=U,P[3]=_,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"getEdgePoints",value:function(a){var n=a._private.rscratch;if(!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))){var l=n.allpts;if(l.length==4)return l;var u=this.getNumSegments(a);return this.getCurveSegmentPoints(l,u)}}},{key:"getNumSegments",value:function(a){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(a,n){if(a.length==4)return a;for(var l=Array((n+1)*2),u=0;u<=n;u++)if(u==0)l[0]=a[0],l[1]=a[1];else if(u==n)l[u*2]=a[a.length-2],l[u*2+1]=a[a.length-1];else{var o=u/n;this.setCurvePoint(a,o,l,u*2)}return l}},{key:"setCurvePoint",value:function(a,n,l,u){if(a.length<=2)l[u]=a[0],l[u+1]=a[1];else{for(var o=Array(a.length-2),f=0;f<o.length;f+=2){var v=(1-n)*a[f]+n*a[f+2],c=(1-n)*a[f+1]+n*a[f+3];o[f]=v,o[f+1]=c}return this.setCurvePoint(o,n,l,u)}}},{key:"endBatch",value:function(){var a=this.gl,n=this.vao,l=this.vertexCount,u=this.instanceCount;if(u!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;a.useProgram(o),a.bindVertexArray(n);var f=cr(this.buffers),v;try{for(f.s();!(v=f.n()).done;){var c=v.value;c.bufferSubData(u)}}catch(m){f.e(m)}finally{f.f()}for(var h=this.atlasManager.getAtlases(),g=0;g<h.length;g++)h[g].bufferIfNeeded(a);for(var y=0;y<h.length;y++)a.activeTexture(a.TEXTURE0+y),a.bindTexture(a.TEXTURE_2D,h[y].texture),a.uniform1i(o.uTextures[y],y);a.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),a.uniform1i(o.uAtlasSize,this.atlasManager.getAtlasSize());var w=Ru(this.bgColor,1);a.uniform4fv(o.uBGColor,w),a.drawArraysInstanced(a.TRIANGLES,0,l,u),a.bindVertexArray(null),a.bindTexture(a.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:u,atlasCount:h.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var a=this.atlasManager.getDebugInfo(),n=a.reduce(function(o,f){return o+f.atlasCount},0),l=this.batchDebugInfo,u=l.reduce(function(o,f){return o+f.count},0);return{atlasInfo:a,totalAtlases:n,wrappedCount:this.wrappedCount,rectangleCount:this.rectangleCount,batchCount:l.length,batchInfo:l,totalInstances:u}}}])}();function u1(t,e){return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e,")")}var UR=function(){function t(e){_n(this,t),this.r=e}return qn(t,[{key:"getStyleKey",value:function(a,n){var l=this.getStyle(a,n),u=l.shape,o=l.opacity,f=l.color;if(!u)return null;var v=n.width(),c=n.height(),h=u1(f,o);return Bn("".concat(u,"-").concat(v,"-").concat(c,"-").concat(h))}},{key:"isVisible",value:function(a,n){var l=n.pstyle("".concat(a,"-opacity")).value;return l>0}},{key:"getStyle",value:function(a,n){var l=n.pstyle("".concat(a,"-opacity")).value,u=n.pstyle("".concat(a,"-color")).value,o=n.pstyle("".concat(a,"-shape")).value;return{opacity:l,color:u,shape:o}}},{key:"getPadding",value:function(a,n){return n.pstyle("".concat(a,"-padding")).pfValue}},{key:"draw",value:function(a,n,l,u){if(this.isVisible(a,l)){var o=this.r,f=u.w,v=u.h,c=f/2,h=v/2,g=this.getStyle(a,l),y=g.shape,w=g.color,m=g.opacity;n.save(),n.fillStyle=u1(w,m),y==="round-rectangle"||y==="roundrectangle"?o.drawRoundRectanglePath(n,c,h,f,v,"auto"):y==="ellipse"&&o.drawEllipsePath(n,c,h,f,v),n.fill(),n.restore()}}}])}(),Jw={};Jw.initWebgl=function(t,e){var a=this,n=a.data.contexts[a.WEBGL];t.bgColor=VR(a),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),a.webglDebug=t.webglDebug,a.webglDebugShowAtlases=t.webglDebugShowAtlases,a.pickingFrameBuffer=OR(n),a.pickingFrameBuffer.needsDraw=!0;var l=function(c){return function(h){return a.getTextAngle(h,c)}},u=function(c){return function(h){var g=h.pstyle(c);return g&&g.value}};a.drawing=new PR(a,n,t);var o=new UR(a);a.drawing.addAtlasCollection("node",r1({texRows:t.webglTexRowsNodes})),a.drawing.addAtlasCollection("label",r1({texRows:t.webglTexRows})),a.drawing.addAtlasRenderType("node-body",il({collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement})),a.drawing.addAtlasRenderType("label",il({collection:"label",getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:l(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:u("label")})),a.drawing.addAtlasRenderType("node-overlay",il({collection:"node",getBoundingBox:e.getElementBox,getKey:function(c){return o.getStyleKey("overlay",c)},drawElement:function(c,h,g){return o.draw("overlay",c,h,g)},isVisible:function(c){return o.isVisible("overlay",c)},getPadding:function(c){return o.getPadding("overlay",c)}})),a.drawing.addAtlasRenderType("node-underlay",il({collection:"node",getBoundingBox:e.getElementBox,getKey:function(c){return o.getStyleKey("underlay",c)},drawElement:function(c,h,g){return o.draw("underlay",c,h,g)},isVisible:function(c){return o.isVisible("underlay",c)},getPadding:function(c){return o.getPadding("underlay",c)}})),a.drawing.addAtlasRenderType("edge-source-label",il({collection:"label",getKey:e.getSourceLabelKey,getBoundingBox:e.getSourceLabelBox,drawElement:e.drawSourceLabel,getRotation:l("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:u("source-label")})),a.drawing.addAtlasRenderType("edge-target-label",il({collection:"label",getKey:e.getTargetLabelKey,getBoundingBox:e.getTargetLabelBox,drawElement:e.drawTargetLabel,getRotation:l("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:u("target-label")}));var f=$u(function(){console.log("garbage collect flag set"),a.data.gc=!0},1e4);a.onUpdateEleCalcs(function(v,c){var h=!1;c&&c.length>0&&(h|=a.drawing.invalidate(c)),h&&f()}),HR(a)};function VR(t){var e=t.cy.container(),a=e&&e.style&&e.style.backgroundColor||"white";return C1(a)}function HR(t){{var e=t.render;t.render=function(u){u=u||{};var o=t.cy;t.webgl&&(o.zoom()>Fw?(GR(t),e.call(t,u)):(YR(t),tx(t,u,ku.SCREEN)))}}{var a=t.matchCanvasSize;t.matchCanvasSize=function(u){a.call(t,u),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(u,o,f,v){return QR(t,u,o)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var l=t.notify;t.notify=function(u,o){l.call(t,u,o),u==="viewport"||u==="bounds"?t.pickingFrameBuffer.needsDraw=!0:u==="background"&&t.drawing.invalidate(o,{type:"node-body"})}}}function GR(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function YR(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function FR(t){var e=t.canvasWidth,a=t.canvasHeight,n=Xh(t),l=n.pan,u=n.zoom,o=Uo();Wo(o,o,[l.x,l.y]),Kh(o,o,[u,u]);var f=Uo();NR(f,e,a);var v=Uo();return zR(v,f,o),v}function ex(t,e){var a=t.canvasWidth,n=t.canvasHeight,l=Xh(t),u=l.pan,o=l.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,a,n),e.translate(u.x,u.y),e.scale(o,o)}function IR(t,e){t.drawSelectionRectangle(e,function(a){return ex(t,a)})}function XR(t){var e=t.data.contexts[t.NODE];e.save(),ex(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function KR(t){var e=function(l,u,o){for(var f=l.atlasManager.getAtlasCollection(u),v=t.data.contexts[t.NODE],c=.125,h=f.atlases,g=0;g<h.length;g++){var y=h[g],w=y.canvas;if(w){var m=w.width,S=w.height,x=m*g,E=w.height*o;v.save(),v.scale(c,c),v.drawImage(w,x,E),v.strokeStyle="black",v.rect(x,E,m,S),v.stroke(),v.restore()}}},a=0;e(t.drawing,"node",a++),e(t.drawing,"label",a++)}function ZR(t,e,a,n,l){var u,o,f,v,c=Xh(t),h=c.pan,g=c.zoom;{var y=CR(t,h,g,e,a),w=ia(y,2),m=w[0],S=w[1],x=6;u=m-x/2,o=S-x/2,f=x,v=x}if(f===0||v===0)return[];var E=t.data.contexts[t.WEBGL];E.bindFramebuffer(E.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(E.viewport(0,0,E.canvas.width,E.canvas.height),tx(t,null,ku.PICKING),t.pickingFrameBuffer.needsDraw=!1);var T=f*v,C=new Uint8Array(T*4);E.readPixels(u,o,f,v,E.RGBA,E.UNSIGNED_BYTE,C),E.bindFramebuffer(E.FRAMEBUFFER,null);for(var D=new Set,R=0;R<T;R++){var B=C.slice(R*4,R*4+4),M=DR(B)-1;M>=0&&D.add(M)}return D}function QR(t,e,a){var n=ZR(t,e,a),l=t.getCachedZSortedEles(),u,o,f=cr(n),v;try{for(f.s();!(v=f.n()).done;){var c=v.value,h=l[c];if(!u&&h.isNode()&&(u=h),!o&&h.isEdge()&&(o=h),u&&o)break}}catch(g){f.e(g)}finally{f.f()}return[u,o].filter(Boolean)}function jR(t){return t.pstyle("shape").value==="rectangle"&&t.pstyle("background-fill").value==="solid"&&t.pstyle("border-width").pfValue===0&&t.pstyle("background-image").strValue==="none"}function Jd(t,e,a){var n=t.drawing;e+=1,a.isNode()?(n.drawTexture(a,e,"node-underlay"),jR(a)?n.drawSimpleRectangle(a,e,"node-body"):n.drawTexture(a,e,"node-body"),n.drawTexture(a,e,"label"),n.drawTexture(a,e,"node-overlay")):(n.drawEdgeLine(a,e),n.drawEdgeArrow(a,e,"source"),n.drawEdgeArrow(a,e,"target"),n.drawTexture(a,e,"label"),n.drawTexture(a,e,"edge-source-label"),n.drawTexture(a,e,"edge-target-label"))}function tx(t,e,a){var n;t.webglDebug&&(n=performance.now());var l=t.drawing,u=0;if(a.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&IR(t,e),t.data.canvasNeedsRedraw[t.NODE]||a.picking){var o=t.data.contexts[t.WEBGL];a.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var f=FR(t),v=t.getCachedZSortedEles();if(u=v.length,l.startFrame(f,a),a.screen){for(var c=0;c<v.nondrag.length;c++)Jd(t,c,v.nondrag[c]);for(var h=0;h<v.drag.length;h++)Jd(t,h,v.drag[h])}else if(a.picking)for(var g=0;g<v.length;g++)Jd(t,g,v[g]);l.endFrame(),a.screen&&t.webglDebugShowAtlases&&(XR(t),KR(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var y=performance.now(),w=!1,m=Math.ceil(y-n),S=l.getDebugInfo(),x=["".concat(u," elements"),"".concat(S.totalInstances," instances"),"".concat(S.batchCount," batches"),"".concat(S.totalAtlases," atlases"),"".concat(S.wrappedCount," wrapped textures"),"".concat(S.rectangleCount," simple rectangles")].join(", ");if(w)console.log("WebGL (".concat(a.name,") - time ").concat(m,"ms, ").concat(x));else{console.log("WebGL (".concat(a.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var E=S.atlasInfo,T=cr(E),C;try{for(T.s();!(C=T.n()).done;){var D=C.value;console.log("  ".concat(D.type,": ").concat(D.keyCount," keys, ").concat(D.atlasCount," atlases"))}}catch(R){T.e(R)}finally{T.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,l.gc())}var Un={};Un.drawPolygonPath=function(t,e,a,n,l,u){var o=n/2,f=l/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*u[0],a+f*u[1]);for(var v=1;v<u.length/2;v++)t.lineTo(e+o*u[v*2],a+f*u[v*2+1]);t.closePath()};Un.drawRoundPolygonPath=function(t,e,a,n,l,u,o){o.forEach(function(f){return kw(t,f)}),t.closePath()};Un.drawRoundRectanglePath=function(t,e,a,n,l,u){var o=n/2,f=l/2,v=u==="auto"?ci(n,l):Math.min(u,f,o);t.beginPath&&t.beginPath(),t.moveTo(e,a-f),t.arcTo(e+o,a-f,e+o,a,v),t.arcTo(e+o,a+f,e,a+f,v),t.arcTo(e-o,a+f,e-o,a,v),t.arcTo(e-o,a-f,e,a-f,v),t.lineTo(e,a-f),t.closePath()};Un.drawBottomRoundRectanglePath=function(t,e,a,n,l,u){var o=n/2,f=l/2,v=u==="auto"?ci(n,l):u;t.beginPath&&t.beginPath(),t.moveTo(e,a-f),t.lineTo(e+o,a-f),t.lineTo(e+o,a),t.arcTo(e+o,a+f,e,a+f,v),t.arcTo(e-o,a+f,e-o,a,v),t.lineTo(e-o,a-f),t.lineTo(e,a-f),t.closePath()};Un.drawCutRectanglePath=function(t,e,a,n,l,u,o){var f=n/2,v=l/2,c=o==="auto"?zh():o;t.beginPath&&t.beginPath(),t.moveTo(e-f+c,a-v),t.lineTo(e+f-c,a-v),t.lineTo(e+f,a-v+c),t.lineTo(e+f,a+v-c),t.lineTo(e+f-c,a+v),t.lineTo(e-f+c,a+v),t.lineTo(e-f,a+v-c),t.lineTo(e-f,a-v+c),t.closePath()};Un.drawBarrelPath=function(t,e,a,n,l){var u=n/2,o=l/2,f=e-u,v=e+u,c=a-o,h=a+o,g=ih(n,l),y=g.widthOffset,w=g.heightOffset,m=g.ctrlPtOffsetPct*y;t.beginPath&&t.beginPath(),t.moveTo(f,c+w),t.lineTo(f,h-w),t.quadraticCurveTo(f+m,h,f+y,h),t.lineTo(v-y,h),t.quadraticCurveTo(v-m,h,v,h-w),t.lineTo(v,c+w),t.quadraticCurveTo(v-m,c,v-y,c),t.lineTo(f+y,c),t.quadraticCurveTo(f+m,c,f,c+w),t.closePath()};var s1=Math.sin(0),o1=Math.cos(0),bh={},wh={},ax=Math.PI/40;for(var ll=0*Math.PI;ll<2*Math.PI;ll+=ax)bh[ll]=Math.sin(ll),wh[ll]=Math.cos(ll);Un.drawEllipsePath=function(t,e,a,n,l){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,a,n/2,l/2,0,0,2*Math.PI);else for(var u,o,f=n/2,v=l/2,c=0*Math.PI;c<2*Math.PI;c+=ax)u=e-f*bh[c]*s1+f*wh[c]*o1,o=a+v*wh[c]*s1+v*bh[c]*o1,c===0?t.moveTo(u,o):t.lineTo(u,o);t.closePath()};var rs={};rs.createBuffer=function(t,e){var a=document.createElement("canvas");return a.width=t,a.height=e,[a,a.getContext("2d")]};rs.bufferCanvasImage=function(t){var e=this.cy,a=e.mutableElements(),n=a.boundingBox(),l=this.findContainerClientCoords(),u=t.full?Math.ceil(n.w):l[2],o=t.full?Math.ceil(n.h):l[3],f=Re(t.maxWidth)||Re(t.maxHeight),v=this.getPixelRatio(),c=1;if(t.scale!==void 0)u*=t.scale,o*=t.scale,c=t.scale;else if(f){var h=1/0,g=1/0;Re(t.maxWidth)&&(h=c*t.maxWidth/u),Re(t.maxHeight)&&(g=c*t.maxHeight/o),c=Math.min(h,g),u*=c,o*=c}f||(u*=v,o*=v,c*=v);var y=document.createElement("canvas");y.width=u,y.height=o,y.style.width=u+"px",y.style.height=o+"px";var w=y.getContext("2d");if(u>0&&o>0){w.clearRect(0,0,u,o),w.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(t.full)w.translate(-n.x1*c,-n.y1*c),w.scale(c,c),this.drawElements(w,m),w.scale(1/c,1/c),w.translate(n.x1*c,n.y1*c);else{var S=e.pan(),x={x:S.x*c,y:S.y*c};c*=e.zoom(),w.translate(x.x,x.y),w.scale(c,c),this.drawElements(w,m),w.scale(1/c,1/c),w.translate(-x.x,-x.y)}t.bg&&(w.globalCompositeOperation="destination-over",w.fillStyle=t.bg,w.rect(0,0,u,o),w.fill())}return y};function $R(t,e){for(var a=atob(t),n=new ArrayBuffer(a.length),l=new Uint8Array(n),u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return new Blob([n],{type:e})}function f1(t){var e=t.indexOf(",");return t.substr(e+1)}function rx(t,e,a){var n=function(){return e.toDataURL(a,t.quality)};switch(t.output){case"blob-promise":return new wl(function(l,u){try{e.toBlob(function(o){o!=null?l(o):u(new Error("`canvas.toBlob()` sent a null value in its callback"))},a,t.quality)}catch(o){u(o)}});case"blob":return $R(f1(n()),a);case"base64":return f1(n());case"base64uri":default:return n()}}rs.png=function(t){return rx(t,this.bufferCanvasImage(t),"image/png")};rs.jpg=function(t){return rx(t,this.bufferCanvasImage(t),"image/jpeg")};var nx={};nx.nodeShapeImpl=function(t,e,a,n,l,u,o,f){switch(t){case"ellipse":return this.drawEllipsePath(e,a,n,l,u);case"polygon":return this.drawPolygonPath(e,a,n,l,u,o);case"round-polygon":return this.drawRoundPolygonPath(e,a,n,l,u,o,f);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,a,n,l,u,f);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,a,n,l,u,o,f);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,a,n,l,u,f);case"barrel":return this.drawBarrelPath(e,a,n,l,u)}};var WR=ix,Je=ix.prototype;Je.CANVAS_LAYERS=3;Je.SELECT_BOX=0;Je.DRAG=1;Je.NODE=2;Je.WEBGL=3;Je.CANVAS_TYPES=["2d","2d","2d","webgl2"];Je.BUFFER_COUNT=3;Je.TEXTURE_BUFFER=0;Je.MOTIONBLUR_BUFFER_NODE=1;Je.MOTIONBLUR_BUFFER_DRAG=2;function ix(t){var e=this,a=e.cy.window(),n=a.document;t.webgl&&(Je.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Je.CANVAS_LAYERS),contexts:new Array(Je.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Je.CANVAS_LAYERS),bufferCanvases:new Array(Je.BUFFER_COUNT),bufferContexts:new Array(Je.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[l]=u,o.position="relative",o.zIndex="0",o.overflow="hidden";var f=t.cy.container();f.appendChild(e.data.canvasContainer),f.style[l]=u;var v={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};nS()&&(v["-ms-touch-action"]="none",v["touch-action"]="none");for(var c=0;c<Je.CANVAS_LAYERS;c++){var h=e.data.canvases[c]=n.createElement("canvas"),g=Je.CANVAS_TYPES[c];e.data.contexts[c]=h.getContext(g),e.data.contexts[c]||Mt("Could not create canvas of type "+g),Object.keys(v).forEach(function(ie){h.style[ie]=v[ie]}),h.style.position="absolute",h.setAttribute("data-id","layer"+c),h.style.zIndex=String(Je.CANVAS_LAYERS-c),e.data.canvasContainer.appendChild(h),e.data.canvasNeedsRedraw[c]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Je.NODE].setAttribute("data-id","layer"+Je.NODE+"-node"),e.data.canvases[Je.SELECT_BOX].setAttribute("data-id","layer"+Je.SELECT_BOX+"-selectbox"),e.data.canvases[Je.DRAG].setAttribute("data-id","layer"+Je.DRAG+"-drag"),e.data.canvases[Je.WEBGL]&&e.data.canvases[Je.WEBGL].setAttribute("data-id","layer"+Je.WEBGL+"-webgl");for(var c=0;c<Je.BUFFER_COUNT;c++)e.data.bufferCanvases[c]=n.createElement("canvas"),e.data.bufferContexts[c]=e.data.bufferCanvases[c].getContext("2d"),e.data.bufferCanvases[c].style.position="absolute",e.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),e.data.bufferCanvases[c].style.zIndex=String(-c-1),e.data.bufferCanvases[c].style.visibility="hidden";e.pathsEnabled=!0;var y=_a(),w=function($){return{x:($.x1+$.x2)/2,y:($.y1+$.y2)/2}},m=function($){return{x:-$.w/2,y:-$.h/2}},S=function($){var ue=$[0]._private,ge=ue.oldBackgroundTimestamp===ue.backgroundTimestamp;return!ge},x=function($){return $[0]._private.nodeKey},E=function($){return $[0]._private.labelStyleKey},T=function($){return $[0]._private.sourceLabelStyleKey},C=function($){return $[0]._private.targetLabelStyleKey},D=function($,ue,ge,Se,Me){return e.drawElement($,ue,ge,!1,!1,Me)},R=function($,ue,ge,Se,Me){return e.drawElementText($,ue,ge,Se,"main",Me)},B=function($,ue,ge,Se,Me){return e.drawElementText($,ue,ge,Se,"source",Me)},M=function($,ue,ge,Se,Me){return e.drawElementText($,ue,ge,Se,"target",Me)},z=function($){return $.boundingBox(),$[0]._private.bodyBounds},L=function($){return $.boundingBox(),$[0]._private.labelBounds.main||y},U=function($){return $.boundingBox(),$[0]._private.labelBounds.source||y},_=function($){return $.boundingBox(),$[0]._private.labelBounds.target||y},V=function($,ue){return ue},P=function($){return w(z($))},Y=function($,ue,ge){var Se=$?$+"-":"";return{x:ue.x+ge.pstyle(Se+"text-margin-x").pfValue,y:ue.y+ge.pstyle(Se+"text-margin-y").pfValue}},I=function($,ue,ge){var Se=$[0]._private.rscratch;return{x:Se[ue],y:Se[ge]}},k=function($){return Y("",I($,"labelX","labelY"),$)},H=function($){return Y("source",I($,"sourceLabelX","sourceLabelY"),$)},F=function($){return Y("target",I($,"targetLabelX","targetLabelY"),$)},j=function($){return m(z($))},O=function($){return m(U($))},G=function($){return m(_($))},K=function($){var ue=L($),ge=m(L($));if($.isNode()){switch($.pstyle("text-halign").value){case"left":ge.x=-ue.w-(ue.leftPad||0);break;case"right":ge.x=-(ue.rightPad||0);break}switch($.pstyle("text-valign").value){case"top":ge.y=-ue.h-(ue.topPad||0);break;case"bottom":ge.y=-(ue.botPad||0);break}}return ge},Z=e.data.eleTxrCache=new zu(e,{getKey:x,doesEleInvalidateKey:S,drawElement:D,getBoundingBox:z,getRotationPoint:P,getRotationOffset:j,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),W=e.data.lblTxrCache=new zu(e,{getKey:E,drawElement:R,getBoundingBox:L,getRotationPoint:k,getRotationOffset:K,isVisible:V}),ee=e.data.slbTxrCache=new zu(e,{getKey:T,drawElement:B,getBoundingBox:U,getRotationPoint:H,getRotationOffset:O,isVisible:V}),ae=e.data.tlbTxrCache=new zu(e,{getKey:C,drawElement:M,getBoundingBox:_,getRotationPoint:F,getRotationOffset:G,isVisible:V}),de=e.data.lyrTxrCache=new Iw(e);e.onUpdateEleCalcs(function($,ue){Z.invalidateElements(ue),W.invalidateElements(ue),ee.invalidateElements(ue),ae.invalidateElements(ue),de.invalidateElements(ue);for(var ge=0;ge<ue.length;ge++){var Se=ue[ge]._private;Se.oldBackgroundTimestamp=Se.backgroundTimestamp}});var fe=function($){for(var ue=0;ue<$.length;ue++)de.enqueueElementRefinement($[ue].ele)};Z.onDequeue(fe),W.onDequeue(fe),ee.onDequeue(fe),ae.onDequeue(fe),t.webgl&&e.initWebgl(t,{getStyleKey:x,getLabelKey:E,getSourceLabelKey:T,getTargetLabelKey:C,drawElement:D,drawLabel:R,drawSourceLabel:B,drawTargetLabel:M,getElementBox:z,getLabelBox:L,getSourceLabelBox:U,getTargetLabelBox:_,getElementRotationPoint:P,getElementRotationOffset:j,getLabelRotationPoint:k,getSourceLabelRotationPoint:H,getTargetLabelRotationPoint:F,getLabelRotationOffset:K,getSourceLabelRotationOffset:O,getTargetLabelRotationOffset:G})}Je.redrawHint=function(t,e){var a=this;switch(t){case"eles":a.data.canvasNeedsRedraw[Je.NODE]=e;break;case"drag":a.data.canvasNeedsRedraw[Je.DRAG]=e;break;case"select":a.data.canvasNeedsRedraw[Je.SELECT_BOX]=e;break;case"gc":a.data.gc=!0;break}};var JR=typeof Path2D<"u";Je.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Je.usePaths=function(){return JR&&this.pathsEnabled};Je.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Je.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Je.makeOffscreenCanvas=function(t,e){var a;if((typeof OffscreenCanvas>"u"?"undefined":Qt(OffscreenCanvas))!=="undefined")a=new OffscreenCanvas(t,e);else{var n=this.cy.window(),l=n.document;a=l.createElement("canvas"),a.width=t,a.height=e}return a};[Xw,Dr,Qr,Ih,pi,Cl,Ma,Jw,Un,rs,nx].forEach(function(t){He(Je,t)});var eM=[{name:"null",impl:zw},{name:"base",impl:Gw},{name:"canvas",impl:WR}],tM=[{type:"layout",extensions:NA},{type:"renderer",extensions:eM}],lx={},ux={};function sx(t,e,a){var n=a,l=function(z){ct("Can not register `"+e+"` for `"+t+"` since `"+z+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Fu.prototype[e])return l(e);Fu.prototype[e]=a}else if(t==="collection"){if(ga.prototype[e])return l(e);ga.prototype[e]=a}else if(t==="layout"){for(var u=function(z){this.options=z,a.call(this,z),it(this._private)||(this._private={}),this._private.cy=z.cy,this._private.listeners=[],this.createEmitter()},o=u.prototype=Object.create(a.prototype),f=[],v=0;v<f.length;v++){var c=f[v];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var h=a.prototype.stop;o.stop=function(){var M=this.options;if(M&&M.animate){var z=this.animations;if(z)for(var L=0;L<z.length;L++)z[L].stop()}return h?h.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var g=function(z){return z._private.cy},y={addEventFields:function(z,L){L.layout=z,L.cy=g(z),L.target=z},bubble:function(){return!0},parent:function(z){return g(z)}};He(o,{createEmitter:function(){return this._private.emitter=new cf(y,this),this},emitter:function(){return this._private.emitter},on:function(z,L){return this.emitter().on(z,L),this},one:function(z,L){return this.emitter().one(z,L),this},once:function(z,L){return this.emitter().one(z,L),this},removeListener:function(z,L){return this.emitter().removeListener(z,L),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(z,L){return this.emitter().emit(z,L),this}}),ft.eventAliasesOn(o),n=u}else if(t==="renderer"&&e!=="null"&&e!=="base"){var w=ox("renderer","base"),m=w.prototype,S=a,x=a.prototype,E=function(){w.apply(this,arguments),S.apply(this,arguments)},T=E.prototype;for(var C in m){var D=m[C],R=x[C]!=null;if(R)return l(C);T[C]=D}for(var B in x)T[B]=x[B];m.clientFunctions.forEach(function(M){T[M]=T[M]||function(){Mt("Renderer does not implement `renderer."+M+"()` on its prototype")}}),n=E}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Mt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return D1({map:lx,keys:[t,e],value:n})}function ox(t,e){return A1({map:lx,keys:[t,e]})}function aM(t,e,a,n,l){return D1({map:ux,keys:[t,e,a,n],value:l})}function rM(t,e,a,n){return A1({map:ux,keys:[t,e,a,n]})}var xh=function(){if(arguments.length===2)return ox.apply(null,arguments);if(arguments.length===3)return sx.apply(null,arguments);if(arguments.length===4)return rM.apply(null,arguments);if(arguments.length===5)return aM.apply(null,arguments);Mt("Invalid extension access syntax")};Fu.prototype.extension=xh;tM.forEach(function(t){t.extensions.forEach(function(e){sx(t.type,e.name,e.impl)})});var Jo=function(){if(!(this instanceof Jo))return new Jo;this.length=0},hi=Jo.prototype;hi.instanceString=function(){return"stylesheet"};hi.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};hi.css=function(t,e){var a=this.length-1;if(Ue(t))this[a].properties.push({name:t,value:e});else if(it(t))for(var n=t,l=Object.keys(n),u=0;u<l.length;u++){var o=l[u],f=n[o];if(f!=null){var v=la.properties[o]||la.properties[ef(o)];if(v!=null){var c=v.name,h=f;this[a].properties.push({name:c,value:h})}}}return this};hi.style=hi.css;hi.generateStyle=function(t){var e=new la(t);return this.appendToStyle(e)};hi.appendToStyle=function(t){for(var e=0;e<this.length;e++){var a=this[e],n=a.selector,l=a.properties;t.selector(n);for(var u=0;u<l.length;u++){var o=l[u];t.css(o.name,o.value)}}return t};var nM="3.31.4",kn=function(e){if(e===void 0&&(e={}),it(e))return new Fu(e);if(Ue(e))return xh.apply(xh,arguments)};kn.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(kn),t.apply(null,e),this};kn.warnings=function(t){return L1(t)};kn.version=nM;kn.stylesheet=kn.Stylesheet=Jo;var Vo={exports:{}},eh,c1;function iM(){if(c1)return eh;c1=1;var t="Expected a function",e="__lodash_hash_undefined__",a="[object Function]",n="[object GeneratorFunction]",l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,o=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,f=typeof self=="object"&&self&&self.Object===Object&&self,v=o||f||Function("return this")();function c(he,be){return he==null?void 0:he[be]}function h(he){var be=!1;if(he!=null&&typeof he.toString!="function")try{be=!!(he+"")}catch{}return be}var g=Array.prototype,y=Function.prototype,w=Object.prototype,m=v["__core-js_shared__"],S=function(){var he=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||"");return he?"Symbol(src)_1."+he:""}(),x=y.toString,E=w.hasOwnProperty,T=w.toString,C=RegExp("^"+x.call(E).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=g.splice,R=fe(v,"Map"),B=fe(Object,"create");function M(he){var be=-1,xe=he?he.length:0;for(this.clear();++be<xe;){var Te=he[be];this.set(Te[0],Te[1])}}function z(){this.__data__=B?B(null):{}}function L(he){return this.has(he)&&delete this.__data__[he]}function U(he){var be=this.__data__;if(B){var xe=be[he];return xe===e?void 0:xe}return E.call(be,he)?be[he]:void 0}function _(he){var be=this.__data__;return B?be[he]!==void 0:E.call(be,he)}function V(he,be){var xe=this.__data__;return xe[he]=B&&be===void 0?e:be,this}M.prototype.clear=z,M.prototype.delete=L,M.prototype.get=U,M.prototype.has=_,M.prototype.set=V;function P(he){var be=-1,xe=he?he.length:0;for(this.clear();++be<xe;){var Te=he[be];this.set(Te[0],Te[1])}}function Y(){this.__data__=[]}function I(he){var be=this.__data__,xe=ee(be,he);if(xe<0)return!1;var Te=be.length-1;return xe==Te?be.pop():D.call(be,xe,1),!0}function k(he){var be=this.__data__,xe=ee(be,he);return xe<0?void 0:be[xe][1]}function H(he){return ee(this.__data__,he)>-1}function F(he,be){var xe=this.__data__,Te=ee(xe,he);return Te<0?xe.push([he,be]):xe[Te][1]=be,this}P.prototype.clear=Y,P.prototype.delete=I,P.prototype.get=k,P.prototype.has=H,P.prototype.set=F;function j(he){var be=-1,xe=he?he.length:0;for(this.clear();++be<xe;){var Te=he[be];this.set(Te[0],Te[1])}}function O(){this.__data__={hash:new M,map:new(R||P),string:new M}}function G(he){return de(this,he).delete(he)}function K(he){return de(this,he).get(he)}function Z(he){return de(this,he).has(he)}function W(he,be){return de(this,he).set(he,be),this}j.prototype.clear=O,j.prototype.delete=G,j.prototype.get=K,j.prototype.has=Z,j.prototype.set=W;function ee(he,be){for(var xe=he.length;xe--;)if(Se(he[xe][0],be))return xe;return-1}function ae(he){if(!_e(he)||$(he))return!1;var be=Me(he)||h(he)?C:u;return be.test(ue(he))}function de(he,be){var xe=he.__data__;return ie(be)?xe[typeof be=="string"?"string":"hash"]:xe.map}function fe(he,be){var xe=c(he,be);return ae(xe)?xe:void 0}function ie(he){var be=typeof he;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?he!=="__proto__":he===null}function $(he){return!!S&&S in he}function ue(he){if(he!=null){try{return x.call(he)}catch{}try{return he+""}catch{}}return""}function ge(he,be){if(typeof he!="function"||be&&typeof be!="function")throw new TypeError(t);var xe=function(){var Te=arguments,Ne=be?be.apply(this,Te):Te[0],qe=xe.cache;if(qe.has(Ne))return qe.get(Ne);var ke=he.apply(this,Te);return xe.cache=qe.set(Ne,ke),ke};return xe.cache=new(ge.Cache||j),xe}ge.Cache=j;function Se(he,be){return he===be||he!==he&&be!==be}function Me(he){var be=_e(he)?T.call(he):"";return be==a||be==n}function _e(he){var be=typeof he;return!!he&&(be=="object"||be=="function")}return eh=ge,eh}var th,v1;function lM(){if(v1)return th;v1=1;var t="Expected a function",e=NaN,a="[object Symbol]",n=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,o=/^0o[0-7]+$/i,f=parseInt,v=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,c=typeof self=="object"&&self&&self.Object===Object&&self,h=v||c||Function("return this")(),g=Object.prototype,y=g.toString,w=Math.max,m=Math.min,S=function(){return h.Date.now()};function x(B,M,z){var L,U,_,V,P,Y,I=0,k=!1,H=!1,F=!0;if(typeof B!="function")throw new TypeError(t);M=R(M)||0,T(z)&&(k=!!z.leading,H="maxWait"in z,_=H?w(R(z.maxWait)||0,M):_,F="trailing"in z?!!z.trailing:F);function j(fe){var ie=L,$=U;return L=U=void 0,I=fe,V=B.apply($,ie),V}function O(fe){return I=fe,P=setTimeout(Z,M),k?j(fe):V}function G(fe){var ie=fe-Y,$=fe-I,ue=M-ie;return H?m(ue,_-$):ue}function K(fe){var ie=fe-Y,$=fe-I;return Y===void 0||ie>=M||ie<0||H&&$>=_}function Z(){var fe=S();if(K(fe))return W(fe);P=setTimeout(Z,G(fe))}function W(fe){return P=void 0,F&&L?j(fe):(L=U=void 0,V)}function ee(){P!==void 0&&clearTimeout(P),I=0,L=Y=U=P=void 0}function ae(){return P===void 0?V:W(S())}function de(){var fe=S(),ie=K(fe);if(L=arguments,U=this,Y=fe,ie){if(P===void 0)return O(Y);if(H)return P=setTimeout(Z,M),j(Y)}return P===void 0&&(P=setTimeout(Z,M)),V}return de.cancel=ee,de.flush=ae,de}function E(B,M,z){var L=!0,U=!0;if(typeof B!="function")throw new TypeError(t);return T(z)&&(L="leading"in z?!!z.leading:L,U="trailing"in z?!!z.trailing:U),x(B,M,{leading:L,maxWait:M,trailing:U})}function T(B){var M=typeof B;return!!B&&(M=="object"||M=="function")}function C(B){return!!B&&typeof B=="object"}function D(B){return typeof B=="symbol"||C(B)&&y.call(B)==a}function R(B){if(typeof B=="number")return B;if(D(B))return e;if(T(B)){var M=typeof B.valueOf=="function"?B.valueOf():B;B=T(M)?M+"":M}if(typeof B!="string")return B===0?B:+B;B=B.replace(n,"");var z=u.test(B);return z||o.test(B)?f(B.slice(2),z?2:8):l.test(B)?e:+B}return th=E,th}var uM=Vo.exports,d1;function sM(){return d1||(d1=1,function(t,e){(function(n,l){t.exports=l(iM(),lM())})(uM,function(a,n){return function(l){var u={};function o(f){if(u[f])return u[f].exports;var v=u[f]={i:f,l:!1,exports:{}};return l[f].call(v.exports,v,v.exports,o),v.l=!0,v.exports}return o.m=l,o.c=u,o.i=function(f){return f},o.d=function(f,v,c){o.o(f,v)||Object.defineProperty(f,v,{configurable:!1,enumerable:!0,get:c})},o.n=function(f){var v=f&&f.__esModule?function(){return f.default}:function(){return f};return o.d(v,"a",v),v},o.o=function(f,v){return Object.prototype.hasOwnProperty.call(f,v)},o.p="",o(o.s=12)}([function(l,u,o){l.exports=Object.assign!=null?Object.assign.bind(Object):function(f){for(var v=arguments.length,c=Array(v>1?v-1:0),h=1;h<v;h++)c[h-1]=arguments[h];return c.filter(function(g){return g!=null}).forEach(function(g){Object.keys(g).forEach(function(y){return f[y]=g[y]})}),f}},function(l,u,o){var f=o(10),v=o(0);l.exports=function(c){var h=this;return new f(v({cy:h},c))}},function(l,u,o){function f(){if(this.saveGestureState(),this.cy.zoomingEnabled(!1).panningEnabled(!1).boxSelectionEnabled(!1),this.options.disableBrowserGestures){var h=this.windowListenerOptions;window.addEventListener("touchstart",this.preventDefault,h),window.addEventListener("touchmove",this.preventDefault,h),window.addEventListener("wheel",this.preventDefault,h)}return this}function v(){if(this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled),this.options.disableBrowserGestures){var h=this.windowListenerOptions;window.removeEventListener("touchstart",this.preventDefault,h),window.removeEventListener("touchmove",this.preventDefault,h),window.removeEventListener("wheel",this.preventDefault,h)}return this}function c(){var h=this.cy;return this.lastPanningEnabled=h.panningEnabled(),this.lastZoomingEnabled=h.zoomingEnabled(),this.lastBoxSelectionEnabled=h.boxSelectionEnabled(),this}l.exports={disableGestures:f,resetGestures:v,saveGestureState:c}},function(l,u,o){function f(){var v=this,c=this.cy,h=this.options;return this.addListener(c,"drag",function(){return v.grabbingNode=!0}),this.addListener(c,"free",function(){return v.grabbingNode=!1}),this.addListener(c,"tapstart","node",function(g){var y=g.target;v.drawMode&&v.start(y)}),this.addListener(c,"tapdrag",function(g){v.update(g.position)}),this.addListener(c,"tapdragover","node",function(g){h.snap||v.preview(g.target)}),this.addListener(c,"tapdragout","node",function(g){h.snap||v.unpreview(g.target)}),this.addListener(c,"tapend",function(){v.stop()}),this}l.exports={addCytoscapeListeners:f}},function(l,u,o){var f={canConnect:function(c,h){return!c.same(h)},edgeParams:function(c,h){return{}},hoverDelay:150,snap:!0,snapThreshold:50,snapFrequency:15,noEdgeEventsInDraw:!0,disableBrowserGestures:!0};l.exports=f},function(l,u,o){function f(h){var g=this.cy;return this.drawMode=h??!this.drawMode,this.drawMode?(this.prevUngrabifyState=g.autoungrabify(),g.autoungrabify(!0),this.emit("drawon")):(g.autoungrabify(this.prevUngrabifyState),this.emit("drawoff")),this}function v(){return this.toggleDrawMode(!0)}function c(){return this.toggleDrawMode(!1)}l.exports={toggleDrawMode:f,enableDrawMode:v,disableDrawMode:c}},function(l,u,o){var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},v=o(0),c=function(T){return(typeof T>"u"?"undefined":f(T))===f("")},h=function(T){return(typeof T>"u"?"undefined":f(T))===f([])&&T.length!=null};function g(E,T,C){var D={};return v(D,T,E),v(D.data,T.data,E.data),c(T.classes)?D.classes=T.classes+" "+C:h(T.classes)?D.classes=T.classes.join(" ")+" "+C:D.classes=C,D}function y(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=this.cy;this.options;var C=this.presumptiveTargets,D=this.previewEles,R=this.active,B=this.sourceNode,M=this.targetNode,z=E?"eh-preview":"",L=T.collection(),U=this.canConnect(M);if(R&&U){if(!M||M.size()===0){D.remove(),this.emit("cancel",this.mp(),B,C);return}if(!E){D.removeClass("eh-preview").style("events",""),this.emit("complete",this.mp(),B,M,D);return}var _=T.add(g({group:"edges",data:{source:B.id(),target:M.id()}},this.edgeParams(M),z));return L=L.merge(_),E?(this.previewEles=L,L.style("events","no")):(L.style("events",""),this.emit("complete",this.mp(),B,M,L)),this}}function w(){return this.makeEdges(!0),this}function m(){return this.previewEles.nonempty()&&this.previewEles.inside()}function S(){return this.previewShown()&&this.previewEles.remove(),this}function x(){var E=this,T=this.sourceNode,C=this.ghostNode,D=this.cy,R=this.mx,B=this.my,M=R,z=B,L=void 0,U=void 0;if(T)return(!C||C.length===0||C.removed())&&(U=this.ghostEles=D.collection(),D.batch(function(){C=E.ghostNode=D.add({group:"nodes",classes:"eh-ghost eh-ghost-node",position:{x:0,y:0}}),C.style({"background-color":"blue",width:1e-4,height:1e-4,opacity:0,events:"no"});var _={};L=D.add(v({},_,{group:"edges",data:v({},_.data,{source:T.id(),target:C.id()}),classes:"eh-ghost eh-ghost-edge"})),L.style({events:"no"})}),U.merge(C).merge(L)),C.position({x:M,y:z}),this}l.exports={makeEdges:y,makePreview:w,removePreview:S,previewShown:m,updateEdge:x}},function(l,u,o){function f(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events","no"),this}function v(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events",""),this}l.exports={disableEdgeEvents:f,enableEdgeEvents:v}},function(l,u,o){function f(){return this.enabled=!0,this.emit("enable"),this}function v(){return this.enabled=!1,this.emit("disable"),this}l.exports={enable:f,disable:v}},function(l,u,o){var f=o(13),v=Math.sqrt(2);function c(T){var C=this.previewEles,D=this.ghostEles,R=function(V){return C.anySame(V)},B=function(V){return D.anySame(V)},M=function(V){return R(V)||B(V)},z=this.enabled,L=this.active,U=this.grabbingNode;return z&&!L&&!U&&T!=null&&T.nonempty()&&!M(T)}function h(T){return this.canStartOn(T)&&this.drawMode}function g(T){return this.canStartOn(T)&&!this.drawMode}function y(T){var C=this;if(this.canStartOn(T)){this.active=!0,this.sourceNode=T,this.sourceNode.addClass("eh-source"),this.disableGestures(),this.disableEdgeEvents();var D=function(B){return B.id()};this.canConnect=f(function(R){return C.options.canConnect(C.sourceNode,R)},D),this.edgeParams=f(function(R){return C.options.edgeParams(C.sourceNode,R)},D),this.emit("start",this.hp(),T)}}function w(T){if(this.active){var C=T;return this.mx=C.x,this.my=C.y,this.updateEdge(),this.throttledSnap(),this}}function m(){if(!this.active||!this.options.snap)return!1;var T=this.cy,C=this.targetNode,D=this.options.snapThreshold,R=this.mp(),B=this.previewEles,M=this.ghostNode,z=function(ee){return v*Math.max(ee.outerWidth(),ee.outerHeight())/2},L=function(ee,ae,de,fe){var ie=de-ee,$=fe-ae;return ie*ie+$*$},U=function(ee,ae){return L(ee.x,ee.y,ae.x,ae.y)},_=function(ee){return U(ee.position(),R)},V=function(ee){var ae=z(ee),de=ae+D;return de*de},P=function(ee){return _(ee)<=V(ee)},Y=function(ee){var ae=ee.position(),de=ee.outerWidth()/2,fe=ee.outerHeight()/2,ie=ae.x,$=ae.y,ue=R.x,ge=R.y,Se=ie-de,Me=ie+de,_e=$-fe,he=$+fe,be=Se<=ue&&ue<=Me,xe=_e<=ge&&ge<=he;if(be&&xe)return 0;if(be){var Te=ge-_e,Ne=ge-he;return Math.min(Te*Te,Ne*Ne)}else if(xe){var qe=ue-Se,ke=ue-Me;return Math.min(qe*qe,ke*ke)}else return ue<Se&&ge<_e?L(ue,ge,Se,_e):ue>Me&&ge<_e?L(ue,ge,Me,_e):ue<Se&&ge>he?L(ue,ge,Se,he):L(ue,ge,Me,he)},I=function(ee,ae){return Y(ee)-Y(ae)},k=I,H=!1,F=function(ee){var ae=R,de=ee.outerWidth(),fe=de/2,ie=ee.outerHeight(),$=ie/2,ue=ee.position(),ge=ue.x-fe,Se=ue.x+fe,Me=ue.y-$,_e=ue.y+$;return ge<=ae.x&&ae.x<=Se&&Me<=ae.y&&ae.y<=_e},j=function(ee){return ee.same(B)||ee.same(M)},O=T.nodes(function(W){return!j(W)&&P(W)}).sort(k),G=!1;C.nonempty()&&!P(C)&&this.unpreview(C);for(var K=0;K<O.length;K++){var Z=O[K];if(!(Z.isParent()&&F(Z))&&!(Z.isChild()&&!F(Z.parent()))&&(Z.same(C)||this.preview(Z,H))){G=!0;break}}return G}function S(T){var C=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,R=this.options,B=this.sourceNode,M=this.ghostNode,z=this.ghostEles,L=this.presumptiveTargets,U=this.previewEles,_=this.active,V=B,P=T.same(M),Y=!this.canConnect(T),I=T.same(this.targetNode);if(!_||P||Y||I)return!1;this.targetNode.nonempty()&&this.unpreview(this.targetNode),clearTimeout(this.previewTimeout);var k=function(){C.targetNode=T,L.merge(T),T.addClass("eh-presumptive-target"),T.addClass("eh-target"),C.emit("hoverover",C.mp(),V,T),T.addClass("eh-preview"),z.addClass("eh-preview-active"),B.addClass("eh-preview-active"),T.addClass("eh-preview-active"),C.makePreview(),C.emit("previewon",C.mp(),V,T,U)};return D&&R.hoverDelay>0?this.previewTimeout=setTimeout(k,R.hoverDelay):k(),!0}function x(T){if(this.active){var C=this.previewTimeout,D=this.sourceNode,R=this.previewEles,B=this.ghostEles,M=this.cy;clearTimeout(C),this.previewTimeout=null;var z=D;return T.removeClass("eh-preview eh-target eh-presumptive-target eh-preview-active"),B.removeClass("eh-preview-active"),D.removeClass("eh-preview-active"),this.targetNode=M.collection(),this.removePreview(z,T),this.emit("hoverout",this.mp(),z,T),this.emit("previewoff",this.mp(),z,T,R),this}}function E(){if(this.active){var T=this.sourceNode,C=this.targetNode,D=this.ghostEles,R=this.presumptiveTargets;return clearTimeout(this.previewTimeout),T.removeClass("eh-source eh-preview-active"),C.removeClass("eh-target eh-preview eh-hover eh-preview-active"),R.removeClass("eh-presumptive-target"),this.makeEdges(),D.remove(),this.clearCollections(),this.resetGestures(),this.enableEdgeEvents(),this.active=!1,this.emit("stop",this.mp(),T),this}}l.exports={start:y,update:w,preview:S,unpreview:x,stop:E,snap:m,canStartOn:c,canStartDrawModeOn:h,canStartNonDrawModeOn:g}},function(l,u,o){var f=o(4),v=o(0),c=o(14),h=o(2),g=o(3),y=o(5),w=o(6),m=o(8),S=o(9),x=o(11),E=o(7);function T(R){var B=R.cy;this.cy=B,this.listeners=[],this.enabled=!0,this.drawMode=!1,this.active=!1,this.grabbingNode=!1,this.clearCollections(),this.mx=0,this.my=0,this.options=v({},f,R),this.saveGestureState(),this.addListeners(),this.throttledSnap=c(this.snap.bind(this),1e3/R.snapFrequency),this.preventDefault=function(L){return L.preventDefault()},this.canConnect=function(){return!1};var M=!1;try{var z=Object.defineProperty({},"passive",{get:function(){M=!0}});window.addEventListener("test",null,z)}catch{}M?this.windowListenerOptions={capture:!0,passive:!1}:this.windowListenerOptions=!0}var C=T.prototype={},D=function(B){return v(C,B)};C.destroy=function(){this.removeListeners()},C.setOptions=function(R){v(this.options,R)},C.mp=function(){return{x:this.mx,y:this.my}},C.hp=function(){return{x:this.hx,y:this.hy}},C.clearCollections=function(){var R=this.cy;this.previewEles=R.collection(),this.ghostEles=R.collection(),this.ghostNode=R.collection(),this.sourceNode=R.collection(),this.targetNode=R.collection(),this.presumptiveTargets=R.collection()},[h,g,y,w,m,S,x,E].forEach(D),l.exports=T},function(l,u,o){var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};function v(){var S=this;return this.addCytoscapeListeners(),this.addListener(this.cy,"destroy",function(){return S.destroy()}),this}function c(){for(var S=this.listeners.length-1;S>=0;S--){var x=this.listeners[S];this.removeListener(x.target,x.event,x.selector,x.callback,x.options)}return this}function h(S,x,E,T,C){return(typeof E>"u"?"undefined":f(E))!==f("")&&(T=E,C=T,E=null),C==null&&(C=!1),{target:S,event:x,selector:E,callback:T,options:C}}function g(S){return S instanceof Element}function y(S,x,E,T,C){var D=h(S,x,E,T,C);return this.listeners.push(D),g(D.target)?D.target.addEventListener(D.event,D.callback,D.options):D.selector?D.target.addListener(D.event,D.selector,D.callback,D.options):D.target.addListener(D.event,D.callback,D.options),this}function w(S,x,E,T,C){for(var D=h(S,x,E,T,C),R=this.listeners.length-1;R>=0;R--){var B=this.listeners[R];if(D.target===B.target&&D.event===B.event&&(D.selector==null||D.selector===B.selector)&&(D.callback==null||D.callback===B.callback)){this.listeners.splice(R,1),g(D.target)?D.target.removeEventListener(D.event,D.callback,D.options):D.selector?D.target.removeListener(D.event,D.selector,D.callback,D.options):D.target.removeListener(D.event,D.callback,D.options);break}}return this}function m(S,x){for(var E=this.cy,T=arguments.length,C=Array(T>2?T-2:0),D=2;D<T;D++)C[D-2]=arguments[D];return E.emit({type:"eh"+S,position:x},C),this}l.exports={addListener:y,addListeners:v,removeListener:w,removeListeners:c,emit:m}},function(l,u,o){var f=o(1),v=function(h){h&&h("core","edgehandles",f)};typeof cytoscape<"u"&&v(cytoscape),l.exports=v},function(l,u){l.exports=a},function(l,u){l.exports=n}])})}(Vo)),Vo.exports}var oM=sM();const fM=p2(oM);kn.use(fM);const h1=({graph:t})=>{const e=Ut.useRef(null),a=Ut.useRef(null),n=Ut.useRef(null),l=Ut.useRef(0),u=Ut.useRef(0),[o,f]=Ut.useState(!1),[v,c]=Ut.useState({visible:!1,x:0,y:0,type:null,element:null});Ut.useEffect(()=>{if(!e.current)return;a.current&&(a.current.destroy(),a.current=null);const g=kn({container:e.current,elements:t?[...t.nodes,...t.edges]:[],style:[{selector:"node",style:{label:"data(label)","text-valign":"center","text-halign":"center","background-color":"#6366f1",color:"#fff","font-size":"10px",width:40,height:40}},{selector:"edge",style:{label:"data(label)",width:2,"line-color":"#94a3b8","target-arrow-color":"#94a3b8","target-arrow-shape":"triangle","curve-style":"bezier",color:"#000","font-size":"9px"}},{selector:".accepting",style:{"border-color":"#10b981","border-width":4}},{selector:".start",style:{shape:"diamond","border-width":3,"border-color":"#facc15"}}],layout:{name:"breadthfirst",directed:!0,padding:10},minZoom:.5,maxZoom:2,pan:{enabled:!0,enableOnViewport:!0},userZoomingEnabled:!0,boxSelectionEnabled:!1,autounselectify:!0});e.current.oncontextmenu=x=>x.preventDefault();const y=g.nodes().map(x=>parseInt(x.id().replace(/^q/,""),10)).filter(x=>!isNaN(x));l.current=y.length?Math.max(...y)+1:0;const w=g.edgehandles({handleNodes:"node",handlePosition:"middle top",edgeType:()=>"flat"});w.disableDrawMode(),n.current=w,Object.assign(e.current.style,{backgroundImage:"linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px)",backgroundSize:"20px 20px"}),t&&t.nodes.length&&g.getElementById(t.nodes[0].data.id).addClass("start"),g.on("tap","node",x=>{o||x.target.toggleClass("accepting")}),g.on("cxttap","node",x=>{o&&c({visible:!0,type:"node",element:x.target,x:x.originalEvent.clientX,y:x.originalEvent.clientY})}),g.on("cxttap","edge",x=>{o&&c({visible:!0,type:"edge",element:x.target,x:x.originalEvent.clientX,y:x.originalEvent.clientY})}),g.on("cxttap",x=>{if(o&&x.target===g){const E=Date.now();if(E-u.current<500){const T=x.position,C="q"+l.current++;g.add({group:"nodes",data:{id:C,label:C},position:T})}u.current=E}});const m=x=>{x.code==="Space"&&w.enableDrawMode()},S=x=>{x.code==="Space"&&w.disableDrawMode()};return window.addEventListener("keydown",m),window.addEventListener("keyup",S),a.current=g,()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",S)}},[t,o]);const h=g=>{const{element:y,type:w}=v;if(w==="node")if(g==="rename"){const m=window.prompt("New name:",y.data("label"));m&&y.data("label",m)}else g==="toggle"?y.toggleClass("accepting"):g==="delete"&&y.remove();else if(w==="edge")if(g==="rename"){const m=window.prompt("New label:",y.data("label"));m&&y.data("label",m)}else g==="delete"&&y.remove();c({...v,visible:!1})};return De.jsxs("div",{className:"mt-4",children:[De.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[De.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Interactive NFA Graph"}),De.jsx("button",{onClick:()=>f(g=>!g),className:`px-2 py-1 text-sm rounded ${o?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:o?"Exit Edit Mode":"Enter Edit Mode"})]}),o&&v.visible&&De.jsx("div",{className:"absolute bg-white border rounded shadow z-50",style:{top:v.y,left:v.x},children:v.type==="node"?["rename","toggle","delete"].map(g=>De.jsx("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer",onClick:()=>h(g),children:g==="rename"?"Rename State":g==="toggle"?"Toggle Accepting":"Delete State"},g)):["rename","delete"].map(g=>De.jsx("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer",onClick:()=>h(g),children:g==="rename"?"Rename Transition":"Delete Transition"},g))}),De.jsx("div",{ref:e,className:"border rounded h-[500px] w-full bg-white"})]})};function cM(t){const e=[];for(let a=0;a<t.length;a++){const n=t[a];if(n.type==="operator"&&/^\{\d+(,\d*)?\}$/.test(n.value)){const[l,u]=n.value.slice(1,-1).split(",").map(f=>f?parseInt(f):void 0),o=e.pop();if(!o)throw new Error("Quantifier must follow a token");if(u===void 0){for(let f=0;f<l;f++)e.push(o);n.value.endsWith(",")&&(e.push({type:"operator",value:"*"}),e.push(o))}else{for(let f=0;f<l;f++)e.push(o);for(let f=0;f<u-l;f++)e.push(o),e.push({type:"operator",value:"?"})}}else e.push(n)}return e}function g1(t){const e=[...t],a=new Set(t);for(;e.length>0;){const l=e.pop().transitions.get(Ea);if(l)for(const u of l)a.has(u)||(a.add(u),e.push(u))}return a}function vM(t,e){const a=new Set;for(const n of t){const l=n.transitions.get(e);if(l)for(const u of l)a.add(u)}return a}function dM(t){const e=[],a={},n=new Map,l=new Set,u=new Set,o=[t];for(;o.length>0;){const g=o.pop();if(!u.has(g.id)){u.add(g.id);for(const[y,w]of g.transitions.entries()){y!==Ea&&l.add(y);for(const m of w)o.push(m)}}}const f=g1([t]),v=[f],c=ah(f);for(n.set(c,0),e.push(f);v.length>0;){const g=v.pop(),y=ah(g),w=n.get(y);a[w]={};for(const m of l){const S=vM(g,m),x=g1([...S]),E=ah(x);if(x.size===0)continue;if(!n.has(E)){const C=e.length;n.set(E,C),e.push(x),v.push(x)}const T=n.get(E);a[w][m]=T}}const h=[];return e.forEach((g,y)=>{for(const w of g)if(w.isAccepting){h.push(y);break}}),{dfaStates:e,dfaTransitions:a,acceptingStates:h,startState:0}}function ah(t){return[...t].map(e=>e.id).sort((e,a)=>e-a).join(",")}function hM(t){const e=[],a=[];for(let n=0;n<t.dfaStates.length;n++){e.push({data:{id:`D${n}`,label:`D${n}`},classes:n===t.startState?"start":t.acceptingStates.includes(n)?"accepting":""});const l=t.dfaTransitions[n];for(const u in l)a.push({data:{source:`D${n}`,target:`D${l[u]}`,label:u}})}return{nodes:e,edges:a}}function gM(t){const{dfaStates:e,dfaTransitions:a,acceptingStates:n,startState:l}=t,u=e.length,o=Array.from({length:u},()=>Array(u).fill(!1)),f=new Array(u).fill(!1);n.forEach(S=>f[S]=!0);for(let S=0;S<u;S++)for(let x=0;x<S;x++)f[S]!==f[x]&&(o[S][x]=!0);let v;do{v=!1;for(let S=0;S<u;S++)for(let x=0;x<S;x++){if(o[S][x])continue;const E=a[S]||{},T=a[x]||{};for(const C of Object.keys({...E,...T})){const D=E[C],R=T[C];if(D!==void 0&&R!==void 0){const B=Math.max(D,R),M=Math.min(D,R);if(o[B][M]){o[S][x]=!0,v=!0;break}}else if(D!==R){o[S][x]=!0,v=!0;break}}}}while(v);const c=[],h=new Array(u).fill(-1);for(let S=0;S<u;S++){let x=!1;for(let E=0;E<c.length;E++){const T=c[E][0],C=Math.max(S,T),D=Math.min(S,T);if(!o[C][D]){c[E].push(S),h[S]=E,x=!0;break}}x||(h[S]=c.length,c.push([S]))}const g={},y=new Set;let w=h[l];for(let S=0;S<c.length;S++){const x=c[S][0],E=a[x]||{};g[S]={};for(const[T,C]of Object.entries(E))g[S][T]=h[C];n.includes(x)&&y.add(S)}return{dfaStates:c.map((S,x)=>new Set(S.flatMap(E=>[...e[E]]))),dfaTransitions:g,acceptingStates:[...y],startState:w}}function pM(){const[t,e]=Ut.useState(""),[a,n]=Ut.useState(""),[l,u]=Ut.useState([]),[o,f]=Ut.useState(""),[v,c]=Ut.useState([]),[h,g]=Ut.useState([]),[y,w]=Ut.useState(null),[m,S]=Ut.useState(null),[x,E]=Ut.useState("nfa"),T=Ut.useRef(null);Ut.useEffect(()=>{if(t.trim()===""){u([]),f(""),w(null);return}try{const D=new RegExp(t,"g"),R=[...a.matchAll(D)];u(R),f("");const B=k2(t);c(B);const M=cM(B),z=_2(M),L=q2(z);g(L),P2();const U=U2(L),_=V2(U.start);w(_);const V=dM(U.start),P=gM(V),Y=hM(P);S(Y)}catch(D){u([]),f(D.message),c([]),g([]),w(null),S(null)}},[t,a]);const C=D=>{const R=T.current;if(!R)return;const B=R.selectionStart,M=R.selectionEnd,z=t.slice(0,B),L=t.slice(M),U=z+D+L;e(U),setTimeout(()=>{R.focus(),R.selectionStart=R.selectionEnd=B+D.length},0)};return De.jsxs("div",{className:"min-h-screen bg-main",children:[De.jsx("header",{className:"bg-header px-3 py-4 shadow-md",children:De.jsx("img",{src:A2,alt:"logo",className:"h-10 w-auto"})}),De.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[De.jsxs("section",{className:"bg-gray-400 rounded-2xl shadow p-4",children:[De.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Regex Input"}),De.jsx("input",{type:"text",ref:T,value:t,onChange:D=>e(D.target.value),placeholder:"Enter your regex...",className:"w-full border border-gray-300 rounded px-3 py-2"}),De.jsx(M2,{onInsert:C}),De.jsx(O2,{regex:t}),v.length>0&&De.jsxs("div",{className:"mt-2 p-3 border rounded bg-gray-50 text-sm",children:[De.jsx("h3",{className:"font-semibold mb-1",children:"Tokenized Regex"}),De.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((D,R)=>De.jsxs("span",{className:"px-2 py-1 rounded bg-blue-100 text-blue-800",children:[D.type,": ",De.jsx("code",{children:D.value})]},R))})]}),h.length>0&&De.jsxs("div",{className:"mt-2 p-3 border rounded bg-gray-50 text-sm",children:[De.jsx("h3",{className:"font-semibold mb-1",children:"Postfix Expression"}),De.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((D,R)=>De.jsx("span",{className:"px-2 py-1 rounded bg-green-100 text-green-800",children:D.value},R))})]}),o&&De.jsxs("p",{className:"text-red-500 mt-2 italic",children:["Invalid regex: ",o]})]}),De.jsxs("section",{className:"bg-gray-400 rounded-2xl shadow p-4",children:[De.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Test String:"}),De.jsx(N2,{testString:a,matches:l,onChange:D=>n(D.target.value),className:"bg-main"}),De.jsxs("div",{className:"mt-4",children:[De.jsx("h2",{className:"text-lg font-semibold",children:"Match Results:"}),l.length>0?De.jsx("ul",{className:"list-disc pl-5",children:l.map((D,R)=>De.jsxs("li",{children:["Match ",R+1,": ",De.jsx("code",{children:D[0]})," (at index ",D.index,")"]},R))}):De.jsx("p",{className:"text-gray-500 italic",children:"No matches or invalid pattern."})]})]})]}),De.jsx("section",{className:"p-6 pb-6",children:De.jsxs("div",{className:"bg-gray-400 rounded-2xl shadow p-4",children:[De.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Results:"}),De.jsxs("div",{className:"flex gap-2 mb-4",children:[De.jsx("button",{className:`px-3 py-1 rounded ${x==="nfa"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>E("nfa"),children:"Show NFA"}),De.jsx("button",{className:`px-3 py-1 rounded ${x==="dfa"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>E("dfa"),children:"Show DFA"})]}),De.jsxs("div",{children:[x==="nfa"&&y&&De.jsxs(De.Fragment,{children:[De.jsx(Pm,{graph:y}),De.jsx(h1,{graph:y})]}),x==="dfa"&&m&&De.jsxs(De.Fragment,{children:[De.jsx(Pm,{graph:m}),De.jsx(h1,{graph:m})]})]})]})})]})}D2.createRoot(document.getElementById("root")).render(De.jsx(Ut.StrictMode,{children:De.jsx(pM,{})}));
